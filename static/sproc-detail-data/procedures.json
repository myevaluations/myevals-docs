{"module":"PRC","displayName":"Procedures","procedureCount":321,"procedures":[{"name":"AcceptProceduresList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.AcceptProceduresList"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Updates the status of selected submitted procedures to 'Accepted' based on a provided list of IDs.","businessPurpose":"Enables supervisors and program administrators to batch-accept pending procedure submissions, moving them through the review workflow in the Procedures (case logging) module.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"AddCustomDiagnosesTab","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new custom diagnoses tab configuration for a department's procedure submission form.","businessPurpose":"Allows program administrators to create custom diagnosis grouping tabs on the procedure submission interface, organizing diagnoses into logical categories for trainees.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddCustomDiagnosisTab","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":34,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.SaveReturnKey"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new custom diagnosis tab with associated category mappings for a department.","businessPurpose":"Supports flexible diagnosis categorization by allowing departments to create custom tabs that group specific diagnosis codes on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddDefaultFieldAndGroupOrderData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["PRC_DepartmentFieldGroupOrder","PRC_DepartmentFieldOrder","PRC_FieldGroups","PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Initializes default display order values for procedure custom fields and field groups within a department.","businessPurpose":"Ensures new departments start with a consistent default ordering of custom fields on their procedure submission forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"AddDiagnosesToTab","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CustomDiagnosisTabId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisListId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["PRC_CustomDiagnosisTabInfo","PTL_CustomDiagnosisTabInfo"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.AddDiagnosisToTab"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Associates one or more diagnoses with a specific custom diagnosis tab for a department.","businessPurpose":"Links existing diagnosis entries to a custom tab so that trainees see the correct diagnoses grouped under the appropriate tab when submitting procedures.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddDiagnosis","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisCode","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Code","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DiagnosisCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new diagnosis record into the PRC_DiagnosisList table for a department.","businessPurpose":"Allows program administrators to add new medical diagnoses to the available diagnosis list that trainees select when logging procedures.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"AddDiagnosisCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisCategoryName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["PRC_DiagnosisCategories"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Inserts a new diagnosis category record for grouping diagnoses within a department.","businessPurpose":"Enables hierarchical organization of diagnoses by creating top-level categories that contain individual diagnosis entries in the procedure logging module.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"AddError","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ErrorDescription","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new complication/error entry into the PRC_ErrorList table for a department.","businessPurpose":"Allows administrators to define new complication or error types that trainees can associate with submitted procedures for quality tracking.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddErrorCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorCategoryName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["PRC_ErrorCategories"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorCategoryManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new error/complication category for grouping error entries within a department.","businessPurpose":"Supports hierarchical error classification by creating categories that organize individual error types in the procedure complication tracking system.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddErrorsSubmitted","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["PRC_ErrorsSubmitted"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorsSubmittedManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Records a complication/error association for a specific submitted procedure.","businessPurpose":"Links a selected complication or error to a trainee's submitted procedure record, enabling complication tracking and quality improvement reporting.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddImportedUser","schema":"dbo","parameters":[],"lineCount":125,"tablesReferenced":["SEC_Specialty","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["InsertUserIntoCacheTable"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.AddNewUsers"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Creates a new user record from imported data, handling duplicate detection and department assignment via WHILE loop processing.","businessPurpose":"Supports bulk user import workflows where external user data (e.g., from ACGME or institutional HR systems) is loaded into MyEvaluations with automatic duplicate checking.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead"],"migrationRelevance":"medium"},{"name":"AddLevelOfSupervision","schema":"dbo","parameters":[],"lineCount":23,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetLevelOfSupervision"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new level-of-supervision option into the PRC_LevelsOfSupervision table for a department.","businessPurpose":"Allows programs to define custom supervision levels (e.g., Direct, Indirect, Oversight) that trainees select when logging procedures to indicate the degree of faculty oversight.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddLookup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["PRC_Lookups"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.Save","CustomLookUpItemManager.cs.SaveLookupInfo"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Inserts a new lookup item definition into the procedure custom fields lookup system.","businessPurpose":"Enables administrators to create new lookup-type custom field definitions for procedure submission forms, supporting dropdown/picklist fields.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddLookupDataItem","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookupName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["PRC_Fields","PRC_LookupItems","PRC_Lookups"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts a new data item (option value) into an existing lookup field for procedure custom fields.","businessPurpose":"Populates the available options for a lookup/dropdown custom field on procedure submission forms, allowing administrators to define selectable values.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddLookupItem","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["PRC_LookupItems"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.Save","CustomLookUpItemManager.cs.SaveLookupInfo"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new lookup item record for a procedure custom field lookup definition.","businessPurpose":"Adds individual selectable options to a custom lookup field, building the picklist values that trainees see on procedure submission forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"AddManualEventLog","schema":"dbo","parameters":[],"lineCount":33,"tablesReferenced":["EVAL_EvaluateEvaluation","sys_manual_event_log"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.AddManualEventLog"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a manual event log entry into the system event tracking table for audit purposes.","businessPurpose":"Provides audit trail functionality by recording manually triggered events in the procedure module, such as administrative overrides or manual data corrections.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"AddParticipationType","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Description","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Abbreviation","dataType":"ShortText","direction":"IN","defaultValue":"''"},{"name":"@ParticipationSettingID","dataType":"LargeNumber","direction":"IN","defaultValue":"1"},{"name":"@IsExcludeFromProcedureCertificationReport","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":29,"tablesReferenced":["PRC_ParticipationTypeCategories","PRC_ParticipationTypeSettings","PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.AddParticipationType"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts a new participation type (role) into the PRC_ParticipationTypes table for a department.","businessPurpose":"Allows programs to define custom participation roles (e.g., Primary Surgeon, First Assistant, Observer) that trainees select when logging their level of involvement in a procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddPatient","schema":"dbo","parameters":[{"name":"@PatientName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":45,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Patients"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.FillPRC","PatientManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new patient record into the PRC_Patient table with basic demographic information.","businessPurpose":"Supports the patient log feature where trainees can optionally record patient details (name, DOB, MR number) when submitting procedure case logs.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"AddPatientLogCustomDiagnosisTab","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["PTL_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.SaveReturnKey"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts a new custom diagnosis tab specifically for the patient log section of procedure submissions.","businessPurpose":"Allows departments to configure separate custom diagnosis grouping tabs for the patient log portion of procedure submissions, independent of the main diagnosis tabs.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"AddPatientLogPatient","schema":"dbo","parameters":[{"name":"@PatientName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@MRNumber","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DateOfBirth","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":43,"tablesReferenced":["EVAL_EvaluateEvaluation","PTL_Patients"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.FillPTL","PatientManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new patient record specifically associated with a patient log entry for a procedure submission.","businessPurpose":"Records patient information linked to the patient log feature, enabling tracking of patient demographics alongside procedure case log submissions.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"AddProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@GraduationMinimumCount","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CertificationNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForResident","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForStudent","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForFellow","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForOthers","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForNurse","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsQuestionAvailable","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@HowTo","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ProceduresConsultReferenceNumber","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@AudienceID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":67,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts a new procedure definition into PRC_Procedures, checking for soft-deleted duplicates to restore instead of creating duplicates.","businessPurpose":"Allows program administrators to define new procedures (e.g., 'Appendectomy', 'Central Line Insertion') that trainees can select when logging their clinical case experience.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"AddProcedureAccountInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"largeNumber","direction":"IN","defaultValue":null},{"name":"@userTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FirstName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@LastName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@MainEmail","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@MilitaryID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@MilitaryRankID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryAOC","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DeploymentAOC","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@UICValue","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@EDIPI","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsMAPMTF","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":78,"tablesReferenced":["PRC_AccountRegistration","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts a new account registration record for an OTSG/military user into PRC_AccountRegistration with rank, AOC, and deployment details.","businessPurpose":"Supports the OTSG (Office of The Surgeon General) registration workflow where military medical personnel register for MyEvaluations access with their military-specific credentials.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddProcedureForImport","schema":"dbo","parameters":[],"lineCount":33,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts a new procedure definition during a bulk import session, linking it to a procedure category and import session.","businessPurpose":"Supports the procedure import workflow where programs can bulk-load procedure definitions from external sources or base templates.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"AddProcedureImportSession","schema":"dbo","parameters":[{"name":"@UserID","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"bigint","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["PRC_ProcedureImportSession"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ImportProceduresManager.cs.AddProcedureImportSession"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Creates a new procedure import session record to track a batch import operation.","businessPurpose":"Initializes the import session tracking that groups multiple imported procedure definitions together for audit and rollback purposes.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"AddProceduresField","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DisplayName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@VisibilityTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FieldTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsSystem","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsHidden","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@DefaultValue","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@UpperBound","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@LowerBound","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@LookupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Order","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":153,"tablesReferenced":["MGMT_FieldTypes","PRC_DepartmentFieldOrder","PRC_FieldGroups","PRC_FieldGroupsBase","PRC_FieldTypeInfo","PRC_Fields","PRC_FieldsBase","PRC_FieldsGroupsInfo","PRC_LookupItems","PRC_Lookups","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Inserts a new custom field definition for procedure submission forms with extensive validation, type detection, and field group assignment.","businessPurpose":"Enables program administrators to create custom data collection fields (text, number, date, lookup) on procedure submission forms, supporting department-specific data requirements.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"AddProceduresFieldsGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@IsHidden","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":19,"tablesReferenced":["PRC_FieldGroups"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Inserts a new field group container into PRC_FieldGroups for organizing custom fields on procedure forms.","businessPurpose":"Allows administrators to create logical groupings of custom fields (e.g., 'Anesthesia Details', 'Surgical Notes') for organized display on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddProceduresFieldToGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["PRC_FieldsGroupsInfo"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Associates a custom field with a field group, managing the field-to-group mapping in PRC_FieldsGroupsInfo.","businessPurpose":"Links individual custom fields to their display groups on procedure forms, controlling which fields appear under which section headings.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddSubmitedProcedure","schema":"dbo","parameters":[{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SubmittedDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@CompletedDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ConsentTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresStatusID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@IsGrandFathered","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ParticipationTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ComplicationTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@IsDeleted","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":152,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Procedures","PRC_ProceduresSubmitted","PTL_PatientLogSubmittedProcedures","SEC_Users","SYS_MobileAppSettings","SYS_NotificationModuleSettings","SYS_NotificationModules"],"sprocsCalledFromBody":["AddSysNotification"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Inserts a complete submitted procedure record with associated supervisor, diagnosis, custom field values, and audit trail data.","businessPurpose":"Core procedure submission handler that creates the main case log entry when a trainee submits a procedure, recording all clinical details, supervision level, and timestamps.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"AddSubmitedProcedureImport","schema":"dbo","parameters":[{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SubmittedDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@CompletedDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ConsentTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresStatusID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@IsGrandFathered","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ParticipationTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ComplicationTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@IsDeleted","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":94,"tablesReferenced":["PRC_ProceduresSubmitted","PTL_PatientLogSubmittedProcedures"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts a submitted procedure record from an import operation, creating the case log entry with imported data.","businessPurpose":"Supports bulk import of historical or external case log data by creating submitted procedure records with pre-populated values from the import source.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"AddSupervisor","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["PRC_ProceduresSupervisors","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Adds a supervisor (faculty) assignment to a procedure record, handling soft-delete restoration and duplicate checking via a WHILE loop.","businessPurpose":"Manages the supervisor-trainee linkage for procedures, allowing programs to assign faculty supervisors who can review and verify trainee-submitted case logs.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"CheckUserIsProcedureSupervisor","schema":"dbo","parameters":[{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSupervisors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.IsProcedureSupervisor"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a specific user is an assigned supervisor for any submitted procedures within a date range.","businessPurpose":"Used to determine supervisor eligibility and validate that a faculty member has active supervisory assignments before allowing review actions.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"CreateNewUserEntityForPromotedUser","schema":"dbo","parameters":[{"name":"@OldUserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"BIGNUMBER","direction":"IN","defaultValue":null}],"lineCount":535,"tablesReferenced":["EVAL_MilestoneCommitteeMembers","EVAL_MilestoneTrainee","PF_UserDocuments","PRC_ErrorsCategorySubmitted","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_NumberFieldValues","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedDiagnosisList","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedQuesBoxComments","PRC_ProceduresSupervisors","PRC_ShortTextValues","PTL_PatientLogSubmittedProcedures","SCHE_PromotedUserMailQueue","SCHE_PromotionQueueUsers","SEC_Departments","SEC_ResidencyTypes","SEC_UserAddress","SEC_UserCertifications","SEC_UserDependent","SEC_UserExamTests","SEC_UserExams","SEC_UserMilitary","SEC_UserMyGME","SEC_UserRoles","SEC_UserUniformInventory","SEC_Users","SEC_UsersExt","SEC_UsersTax"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Creates a complete new user entity when a trainee is promoted to a new program level, duplicating all associated records (evaluations, procedures, milestones, schedules, conferences) under a new user ID with cursor-based iteration.","businessPurpose":"Handles the complex promotion workflow in graduate medical education where a resident advancing to a new PGY level or fellowship requires a new user entity with transferred historical data and new program-specific configurations.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"high"},{"name":"CreateNewUserEntityForPromotedUser_test","schema":"dbo","parameters":[{"name":"@OldUserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"BIGNUMBER","direction":"IN","defaultValue":null}],"lineCount":767,"tablesReferenced":["PF_UserDocuments","PRC_ErrorsCategorySubmitted","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_NumberFieldValues","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedDiagnosisList","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedQuesBoxComments","PRC_ProceduresSupervisors","PRC_ShortTextValues","PTL_PatientLogSubmittedProcedures","SCHE_PromotedUserMailQueue","SCHE_PromotionQueueUsers","SEC_Departments","SEC_UserAddress","SEC_UserCertifications","SEC_UserDependent","SEC_UserExamTests","SEC_UserExams","SEC_UserMilitary","SEC_UserMyGME","SEC_UserRoles","SEC_UserUniformInventory","SEC_Users","SEC_UsersExt","SEC_UsersTax"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"insert","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Test variant of CreateNewUserEntityForPromotedUser with similar user entity duplication logic for promotion testing.","businessPurpose":"Development/testing version of the user promotion workflow, used to validate the entity duplication process before deploying changes to the production promotion handler.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"low"},{"name":"CreateOrUpdateProceduresCategory","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Creates a new procedure category or updates an existing one, handling soft-delete restoration for duplicate names.","businessPurpose":"Manages procedure category definitions (e.g., 'Surgical Procedures', 'Diagnostic Procedures') that organize the procedure list into logical groups for trainees.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"high"},{"name":"CreateProceduresCustomFieldGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":48,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_FieldGroups","PRC_Fields","PRC_FieldsGroupsInfo"],"sprocsCalledFromBody":["GetProceduresFieldsToDraw"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Creates a new custom field group with associated field definitions and procedure linkages in a single transaction.","businessPurpose":"Enables program administrators to create a complete custom field group with its fields and assign it to specific procedures in one operation, streamlining form configuration.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"DeleteDiagnosisCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["PRC_DiagnosisCategories","PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a diagnosis category after checking for dependent diagnoses that are in use.","businessPurpose":"Safely removes a diagnosis category from the active list, preventing deletion if associated diagnoses are referenced by existing submitted procedures.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"DeleteError","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["PRC_Errors","PRC_ErrorsSubmitted","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedErrors"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.Delete"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes an error/complication entry after checking whether it is referenced by any submitted procedures.","businessPurpose":"Safely removes a complication type from the active list, preventing deletion if it is associated with existing procedure submissions.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"DeleteErrorCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["PRC_ErrorCategories","PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorCategoryManager.cs.Delete"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes an error category by setting its IsDeleted flag.","businessPurpose":"Removes an error/complication category from the active list while preserving historical data for existing procedure submissions.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"DeleteField","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.Delete"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a custom field by setting its IsDeleted flag and recording the modification date.","businessPurpose":"Removes a custom field from active procedure submission forms while preserving historical field values on existing submissions.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"DeleteParticipationTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.DeleteParticipationType"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a participation type by setting its IsDeleted flag.","businessPurpose":"Removes a participation role from the active selection list while preserving historical references on existing procedure submissions.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"DeleteProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.Delete"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a procedure definition by setting its IsDeleted flag and recording the deletion timestamp.","businessPurpose":"Removes a procedure from the active procedure list while preserving all historical submissions that reference it.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"DeleteProcedureQuestionsByID","schema":"dbo","parameters":[],"lineCount":21,"tablesReferenced":["PRC_ProceduresQuestions"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Deletes procedure-specific evaluation questions by their IDs.","businessPurpose":"Removes evaluation questions that were associated with specific procedures, used when procedure-linked assessment questions are no longer needed.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"DeleteProceduresCategory","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureCategoriesID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["PRC_ProcedureCategories"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.Delete"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a procedure category after checking for and reassigning dependent procedures, handling system categories specially.","businessPurpose":"Safely removes a procedure category, moving any orphaned procedures to an uncategorized state, with protection for system-defined categories.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"DeleteProceduresCustomFieldGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_DepartmentFieldOrder","PRC_Fields","PRC_FieldsGroupsInfo","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_NumberFieldValues","PRC_ShortTextValues"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a custom field group and its associated fields, with special handling for base department (2175) shared groups.","businessPurpose":"Removes a custom field group from procedure forms while handling the complexity of shared field groups that may be inherited from a base department template.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"DeleteProcedureSubmit","schema":"dbo","parameters":[],"lineCount":23,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.DeleteProcedureSubmit"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a submitted procedure record by setting its IsDeleted flag.","businessPurpose":"Allows trainees or administrators to mark a submitted case log as deleted, removing it from active views while preserving it for audit purposes.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"DeleteSubmitedProcedureDiagnosis","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":34,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmittedDiagnosisList"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Deletes the diagnosis associations for a specific submitted procedure within a date range.","businessPurpose":"Removes diagnosis linkages from a submitted case log, used when editing or resubmitting procedure entries requires clearing previous diagnosis selections.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"DeleteSubmitedProcedureErrors","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmittedErrors"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Deletes the error/complication associations for a specific submitted procedure within a date range.","businessPurpose":"Removes complication linkages from a submitted case log, used when editing or resubmitting procedure entries requires clearing previous error selections.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"DeleteSubmittedProcedures","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Delete"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes multiple submitted procedure records based on a list of procedure IDs within a date range.","businessPurpose":"Enables batch deletion of submitted case logs, used for administrative cleanup or when multiple procedure submissions need to be removed.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"DeleteSupervisor","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Removes a supervisor assignment from a procedure record, using a WHILE loop to handle multiple matching entries.","businessPurpose":"Detaches a faculty supervisor from procedure oversight, used when supervisory assignments change or a faculty member leaves the program.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"DoesDiagnosesTabNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CustomDiagnosisTabId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a diagnoses tab with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate diagnoses tab names by validating uniqueness before creation or update, ensuring data integrity in the procedure configuration.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesDiagnosisTabNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CustomDiagnosisTabId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.DoesDiagnosesTabNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a diagnosis tab with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate diagnosis tab names by validating uniqueness before creation or update, ensuring data integrity in the procedure configuration.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesErrorCategoryNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorCategoryName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ErrorCategoryID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["PRC_ErrorCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorCategoryManager.cs.DoesErrorCategoryNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether an error category with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate error category names by validating uniqueness before creation or update, ensuring data integrity in the complication tracking configuration.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesErrorNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ErrorID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.DoesErrorNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether an error/complication with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate complication names by validating uniqueness before creation or update, ensuring data integrity in the error tracking system.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesFieldNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.DoesFieldNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a custom field with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate custom field names by validating uniqueness before creation or update, ensuring clear field identification on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesLookUpNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookupName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@LookupID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["PRC_Lookups"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.DoesLookUpNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a lookup field with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate lookup field names by validating uniqueness before creation or update, ensuring clear identification of dropdown fields on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesPatientLogDiagnosisTabNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CustomDiagnosisTabId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["PTL_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.DoesDiagnosesTabNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a patient log diagnosis tab with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate patient log diagnosis tab names by validating uniqueness before creation or update, ensuring data integrity in the patient log configuration.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"DoesProcedureNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":48,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.DoesProcedureNameExist"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a procedure with the given name already exists within the department, supporting both add and edit mode duplicate detection.","businessPurpose":"Prevents duplicate procedure names by validating uniqueness before creation or update, ensuring clear procedure identification in the case logging system.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"DoesSupervisorActive","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.DoesSupervisorActive"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Checks whether a supervisor has any active (non-deleted) submitted procedures assigned to them.","businessPurpose":"Validates supervisor activity status before allowing administrative actions like deactivation, ensuring supervisors with active case logs are not accidentally removed.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"EditLevelOfSupervision","schema":"dbo","parameters":[],"lineCount":20,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetLevelOfSupervision"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the name and sort order of an existing level-of-supervision entry.","businessPurpose":"Allows administrators to rename or reorder supervision levels in the department's procedure configuration.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"EditParticipationType","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ParticipationTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Description","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Abbreviation","dataType":"ShortText","direction":"IN","defaultValue":"''"},{"name":"@ParticipationSettingID","dataType":"LargeNumber","direction":"IN","defaultValue":"1"},{"name":"@IsExcludeFromProcedureCertificationReport","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":51,"tablesReferenced":["PRC_ParticipationTypeCategories","PRC_ParticipationTypeSettings","PRC_ParticipationTypes","SEC_UserRoles"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.EditParticipationType"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates a participation type's description and role assignments, with admin-level permission checking.","businessPurpose":"Allows modification of participation role definitions and their visibility settings for different user types in the procedure logging system.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"ExportMedcomTaskLogs_Opt","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":"0"},{"name":"@DepartmentName","dataType":"NVARCHAR(200)","direction":"IN","defaultValue":"''"},{"name":"@StartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@StartIndex","dataType":"INT","direction":"IN","defaultValue":"1      -- page number"},{"name":"@PageSize","dataType":"INT","direction":"IN","defaultValue":"1000"},{"name":"@EDIPI","dataType":"NVARCHAR(50)","direction":"IN","defaultValue":"''"},{"name":"@Status","dataType":"NVARCHAR(200)","direction":"IN","defaultValue":"''"},{"name":"@AOC","dataType":"NVARCHAR(MAX)","direction":"IN","defaultValue":"''"}],"lineCount":242,"tablesReferenced":["PRC_ComplicationTypes","PRC_ConsentTypes","PRC_ExternalSupervisors","PRC_FieldValues","PRC_Fields","PRC_LookupItems","PRC_Lookups","PRC_ParticipationTypes","PRC_ParticipationTypesCustom","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatus","SEC_Departments","SEC_UserCategoryCodes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Exports MEDCOM task log data as a pivot table using dynamic SQL, resolving department and user context from EDIPI credentials.","businessPurpose":"Supports military medical (MEDCOM) reporting requirements by generating exportable task log data in a cross-tabulated format for compliance and operational reporting.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"medium"},{"name":"GetAvailableProcedures","schema":"dbo","parameters":[],"lineCount":43,"tablesReferenced":["PRC_Procedures","PRC_ProceduresBase"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.FetchAvailableProcedures"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of available procedures for a department and user type, auto-populating from base templates if none exist.","businessPurpose":"Provides the procedure selection list for trainees when submitting case logs, with automatic initialization from system-defined base procedures for new departments.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetAvailableSupervisors","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.GetAvailableSupervisors"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of available supervisors (faculty) for a department.","businessPurpose":"Populates the supervisor dropdown on procedure submission forms, allowing trainees to select their supervising faculty member.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetCaseLogImportingFields","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":32,"tablesReferenced":["PRC_CaseLogImportingFieldAliasNames","PRC_CaseLogImportingFields","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProcedureImportingFields"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the field mapping configuration for case log data import operations.","businessPurpose":"Provides the field-to-column mapping needed to parse incoming case log import files and match them to the procedure submission schema.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetCaseLogProcedureSchema","schema":"dbo","parameters":[],"lineCount":36,"tablesReferenced":["PRC_CaseLogImportingFields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetCaseLogProcedureSchema"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the procedure schema for case log import using dynamic SQL to build the column list.","businessPurpose":"Generates the target schema definition needed to validate and map imported case log data to the correct procedure fields.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation"],"migrationRelevance":"medium"},{"name":"GetComplicationTypeList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_ComplicationTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplicationTypeManager.cs.GetComplicationTypes"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of complication types available in the system.","businessPurpose":"Provides the complication type dropdown values for procedure submission forms where trainees record surgical or procedural complications.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetConsentTypeList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":13,"tablesReferenced":["PRC_ConsentTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConsentTypeManager.cs.GetConsentTypes"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of consent types available in the system.","businessPurpose":"Provides consent type options (e.g., informed consent, verbal consent) for procedure submission forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetCustomDiagnosisTabList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":99,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.GetCustomDiagnosisTab"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the custom diagnosis tab configuration with associated diagnosis counts for a department.","businessPurpose":"Loads the diagnosis tab layout for procedure submission forms, showing administrators and trainees how diagnoses are organized into custom tabs.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetCustomFieldGroupAndProcedures","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsDeleted","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":40,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_ProcedureCategories","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves custom field groups with their linked procedure associations for a department.","businessPurpose":"Displays the field group configuration showing which custom field groups are assigned to which procedures, used in the administration interface.","optimizationRecommendations":["Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation"],"migrationRelevance":"medium"},{"name":"GetCustomFieldInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.FetchFieldInfo"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves detailed information about a specific custom field by its ID.","businessPurpose":"Loads custom field configuration details for display in the field editor or for populating form controls on procedure submission pages.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetCustomFieldNameList","schema":"dbo","parameters":[{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":67,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_CustomFieldsGroupProcedures","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetCustomFieldNameList"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of custom field names and their types for a department's procedure forms.","businessPurpose":"Provides the complete custom field inventory for administrative views and dynamic form rendering on procedure submission pages.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetDataForDetailProceduresExport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":347,"tablesReferenced":["PRC_ComplicationTypes","PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_ErrorCategories","PRC_Errors","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_ParticipationTypes","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","PTL_PatientLogSubmittedProcedures","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ExportProceduresManager.cs.GetDataForDetailProceduresExport"],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates detailed procedure export data with dynamic custom field columns using WHILE loops and dynamic SQL.","businessPurpose":"Produces comprehensive procedure submission export files including all custom fields, diagnoses, errors, and supervisor information for reporting and compliance requirements.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"medium"},{"name":"GetDataForDetailProceduresExport__","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":306,"tablesReferenced":["PRC_ComplicationTypes","PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_ErrorCategories","PRC_Errors","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_ParticipationTypes","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","PTL_PatientLogSubmittedProcedures","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates detailed procedure export data (legacy variant) with dynamic custom field columns using WHILE loops and dynamic SQL.","businessPurpose":"Legacy variant of the detailed procedure export, retained for backward compatibility or specific department configurations.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"low"},{"name":"GetDataForDetailProceduresExport2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":272,"tablesReferenced":["PRC_ComplicationTypes","PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_ErrorCategories","PRC_Errors","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_Patients","PRC_Procedures","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates detailed procedure export data (version 2) with dynamic custom field columns and enhanced filtering.","businessPurpose":"Updated version of the detailed procedure export with additional filtering capabilities for more targeted export operations.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"medium"},{"name":"GetDataForSummaryProceduresExport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":83,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ExportProceduresManager.cs.GetDataForSummaryProceduresExport"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates summary-level procedure export data with aggregated counts and dynamic custom field pivots.","businessPurpose":"Produces summarized procedure submission exports showing procedure counts, completion rates, and category breakdowns for departmental reporting.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"medium"},{"name":"GetDeletedLevelsOfSupervision","schema":"dbo","parameters":[],"lineCount":18,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves soft-deleted levels of supervision for restoration purposes.","businessPurpose":"Enables administrators to view and potentially restore previously deleted supervision levels in the department configuration.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"GetDeletedProceduresParticipationTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"bigint","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetDeletedParticipationTypes"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves soft-deleted participation types for restoration purposes.","businessPurpose":"Enables administrators to view and potentially restore previously deleted participation roles in the department configuration.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"GetDeletedSubmittedProcedureList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetDeletedSubmittedProcedureListByCriteria"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of soft-deleted submitted procedure records for a user within a department.","businessPurpose":"Allows administrators to review and potentially restore deleted case log submissions, supporting data recovery workflows.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetDepartmentInfoLimitedByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["PRC_ReportLanguages","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves limited department information by department ID.","businessPurpose":"Provides basic department details needed for procedure-related operations without loading the full department profile.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetDepartmentProcedurePGYReportResult","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@UserTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@CategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"}],"lineCount":142,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetDepartmentProcedurePGYReportResult"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates a department-level procedure report broken down by PGY (Post-Graduate Year) level using cursor-based iteration.","businessPurpose":"Produces the PGY-stratified procedure completion report showing how many procedures each training year level has completed, used for program compliance and ACGME reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetDepartmentProcedurePGYReportResult__","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@UserTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":132,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates a department-level procedure PGY report (legacy variant) using cursor-based iteration.","businessPurpose":"Legacy variant of the PGY-stratified procedure report, retained for backward compatibility.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"low"},{"name":"GetDepartmentProcedureReportResult","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":52,"tablesReferenced":["PRC_ParticipationTypes","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetDepartmentProcedureReportData"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates a department-level procedure completion report aggregating submission counts across users.","businessPurpose":"Produces the department-wide procedure summary report showing total submissions, completion rates, and category breakdowns for program oversight.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetDiagnosisCategories","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_DiagnosisCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of diagnosis categories for a department.","businessPurpose":"Provides the diagnosis category hierarchy for procedure submission forms and administrative configuration pages.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetDiagnosisCategoriesByProcedureSubmittedDate","schema":"dbo","parameters":[],"lineCount":27,"tablesReferenced":["PRC_DiagnosisCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesManager.cs.GetDiagnosisCategoriesByProcedureSubmittedDate"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves diagnosis categories filtered by the submitted procedure's date range.","businessPurpose":"Loads context-appropriate diagnosis categories for editing a submitted procedure, showing only categories that were active during the original submission period.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetDiagnosisCategoryList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["PRC_DiagnosisCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves a flat list of diagnosis categories for a department.","businessPurpose":"Populates diagnosis category dropdowns and filters in the procedure module's administrative interface.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetDiagnosisForPatientLog","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["PRC_DiagnosisList","PTL_PatientLogSubmittedDiagnosisList"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves diagnoses associated with a patient log entry.","businessPurpose":"Loads the saved diagnosis selections for a patient log record, used when viewing or editing patient-linked procedure submissions.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"GetDiagnosisIdByCode","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesManager.cs.GetDiagnosisIdByCode"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Looks up a diagnosis ID by its code value.","businessPurpose":"Supports diagnosis resolution during import and integration operations where diagnoses are identified by code rather than internal ID.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetDiagnosisList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SearchCriteria","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DiagnosisCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureSubmittedDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":57,"tablesReferenced":["PRC_DiagnosisCategories","PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesManager.cs.GetDiagnosisListByCriteria"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the full diagnosis list for a department with category information.","businessPurpose":"Populates the diagnosis selection interface on procedure submission forms, showing all available diagnoses for the trainee to choose from.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetDiagnosisListByCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves diagnoses filtered by a specific category.","businessPurpose":"Provides category-filtered diagnosis lists for cascading dropdown interfaces on procedure submission forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetDiagnosisListByIDs","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesManager.cs.GetDiagnosisListByIDs"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves diagnoses matching a list of specific IDs.","businessPurpose":"Loads specific diagnosis records by ID, used when displaying previously selected diagnoses on submitted procedure review forms.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"medium"},{"name":"GetDiagnosisListByTab","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CustomDiagnosisTabId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Module","dataType":"ShortText","direction":"IN","defaultValue":"'Procedures'"}],"lineCount":50,"tablesReferenced":["PRC_CustomDiagnosisTabInfo","PRC_DiagnosisList","PTL_CustomDiagnosisTabInfo"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesManager.cs.GetDiagnosisListByTab"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves diagnoses associated with a specific custom diagnosis tab.","businessPurpose":"Loads the diagnosis list for a particular tab on the procedure submission form, supporting the tabbed diagnosis selection interface.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetDiagnosisSubCategoriesByCategory","schema":"dbo","parameters":[],"lineCount":22,"tablesReferenced":["PRC_DiagnosisCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesManager.cs.GetDiagnosisSubCategoriesByCategory"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves diagnosis sub-categories within a parent category.","businessPurpose":"Provides the sub-category level of the diagnosis hierarchy for multi-level diagnosis selection on procedure forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetDistinctProcedures","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":81,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresBase"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.FetchDistinctProcedures"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves a distinct list of procedures across linked departments for a user.","businessPurpose":"Produces a de-duplicated procedure list spanning all departments a user has access to, used for cross-department procedure selection views.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetErrorCategories","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["PRC_ErrorCategories"],"sprocsCalledFromBody":["ImportErrorCategoriesFromBase"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves error/complication categories for a department.","businessPurpose":"Populates the error category selection on procedure submission forms and administrative pages.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorCategoriesList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ErrorCategories"],"sprocsCalledFromBody":["ImportErrorCategoriesFromBase"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorCategoryManager.cs.FetchErrorCategories"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the complete list of error categories with associated error counts for a department.","businessPurpose":"Provides the error category inventory for the administrative configuration interface, showing how many errors exist in each category.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorCategoryInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_ErrorCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorCategoryManager.cs.FetchErrorCategoryInfo"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves detailed information about a specific error category by its ID.","businessPurpose":"Loads error category details for the edit form in the administrative interface.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.FetchErrorInfo"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves detailed information about a specific error/complication by its ID.","businessPurpose":"Loads error details for display or editing in the administrative interface.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["PRC_Errors"],"sprocsCalledFromBody":["ImportErrorsFromBase"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.GetErrorsByDepartmentID"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of errors/complications for a department.","businessPurpose":"Populates the error/complication selection list on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorListByErrorCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ErrorCategories","PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.FetchErrorsListByErrorCategory"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves errors filtered by a specific error category.","businessPurpose":"Provides category-filtered error lists for cascading dropdown interfaces on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorListByErrorCategoryIDs","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":72,"tablesReferenced":["PRC_ErrorCategories","PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.FetchErrorsListByErrorCategoryIDs"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves errors filtered by multiple error category IDs.","businessPurpose":"Loads errors for multiple categories simultaneously, used when displaying error selections for procedure forms with multiple error categories.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"medium"},{"name":"GetErrorReportData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@UserIDList","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@SupervisorIDs","dataType":"Varchar(Max)","direction":"IN","defaultValue":null},{"name":"@ErrorCategoryID","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ErrorID","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":97,"tablesReferenced":["PRC_ErrorCategories","PRC_Errors","PRC_ErrorsSubmitted","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedErrors","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetErrorReportData"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates error/complication report data with dynamic SQL for flexible column generation.","businessPurpose":"Produces the complication analysis report showing error frequencies, categories, and trends for quality improvement and patient safety reporting.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"medium"},{"name":"GetErrorsList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["PRC_ErrorCategories","PRC_Errors"],"sprocsCalledFromBody":["ImportErrorsFromBase"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.FetchErrors"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves a paginated list of errors with category information for a department.","businessPurpose":"Provides the error management list view in the administrative interface, supporting pagination for departments with many error definitions.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetErrorsListByIDs","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.GetErrorsListByIDs"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves specific errors by their IDs using dynamic SQL for flexible filtering.","businessPurpose":"Loads specific error records by ID, used when displaying previously selected complications on submitted procedure review forms.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching"],"migrationRelevance":"medium"},{"name":"GetEssentialsActivities_mobile","schema":"dbo","parameters":[],"lineCount":24,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves essential procedure activities for the mobile interface.","businessPurpose":"Provides a streamlined procedure activity summary optimized for the mobile app, showing key case log statistics and recent submissions.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetFieldsList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":["MGMT_FieldTypes","MGMT_VisibilityTypes","PRC_FieldTypeInfo","PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.FetchFields"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of custom fields with their type and configuration details for a department.","businessPurpose":"Loads the custom field inventory for administrative management and for dynamically rendering custom fields on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetFreeTextFieldValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_FreeTextFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves free text field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved free text custom field data for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetImportedProcedureDetails","schema":"dbo","parameters":[],"lineCount":28,"tablesReferenced":["PRC_ProceduresCertificationStatus","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetImportedProcedureDetails"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the details of procedures imported during a specific import session.","businessPurpose":"Displays the results of a procedure import operation, showing which procedures were successfully imported and their configuration details.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetIndividualProcedureReportResult","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ResidentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ProcedureName","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":282,"tablesReferenced":["PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_DiagnosisList","PRC_ErrorCategories","PRC_Errors","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_ParticipationTypes","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedDiagnosisList","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProceduresSubmittedInfoResult"],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates an individual user's procedure report with dynamic custom field columns, linked department support, and WHILE loop processing.","businessPurpose":"Produces the individual trainee's procedure completion report showing all submitted procedures with custom field data, used for portfolio reviews and competency assessment.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"medium"},{"name":"GetLargeDateFieldValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_LargeDateFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves large date field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved date custom field data for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetLargeNumberFieldValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_LargeNumberFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves large number field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved large number custom field data for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetLastLosUpdateDate","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["PRC_ProceduresCertificationStatus","PRC_SupervisionRequirements"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the last modification date for levels of supervision in a department.","businessPurpose":"Supports change tracking for supervision level configurations, used to detect when supervision settings were last updated.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetLevelOfSupervision","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetLevelOfSupervision"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves a specific level of supervision by its ID.","businessPurpose":"Loads individual supervision level details for display or editing in the administrative interface.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetLevelsOfSupervision","schema":"dbo","parameters":[],"lineCount":22,"tablesReferenced":["PRC_DefaultLevelsOfSupervision","PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetLevelsOfSupervision"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves all active levels of supervision for a department ordered by sort position.","businessPurpose":"Populates the supervision level dropdown on procedure submission forms and the supervision level management list in administration.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetLongTextFieldValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_LongTextFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves long text field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved long text custom field data for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetLookupFieldValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_LookupFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves lookup field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved lookup/dropdown custom field selections for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetLookUpItemInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_Lookups"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.FetchLookUpInfo"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves detailed information about a specific lookup item by its ID.","businessPurpose":"Loads lookup item configuration for display or editing in the custom field administration interface.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetLookUpValuesByLookUpItemID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["PRC_LookupItems"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.FetchLookUpValues"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the available values for a specific lookup field.","businessPurpose":"Populates the dropdown/picklist options for a lookup custom field on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetMergedProceduresList","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["PRC_MergeProcedureLog"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of procedures that have been merged with target procedure records.","businessPurpose":"Shows the merge history for procedures, used in the administrative interface to track which procedures were consolidated.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetMergedProceduresUserList","schema":"dbo","parameters":[],"lineCount":20,"tablesReferenced":["PRC_MergeProcedureLog","PRC_MergeProcedureLogDetails","PRC_ProceduresSubmitted","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves users affected by procedure merge operations.","businessPurpose":"Shows which trainees had case logs referencing merged procedures, supporting post-merge data validation.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetMergeProceduresLog","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DateFrom","dataType":"LargeDate","direction":"IN","defaultValue":"null"},{"name":"@DateTo","dataType":"LargeDate","direction":"IN","defaultValue":"null"},{"name":"@SourceProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":"null"},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":"null"},{"name":"@PageNum","dataType":"LargeNumber","direction":"IN","defaultValue":"1"},{"name":"@PageSize","dataType":"LargeNumber","direction":"IN","defaultValue":"20"}],"lineCount":33,"tablesReferenced":["PRC_MergeProcedureLog","PRC_MergeProcedureLogDetails","PRC_ProceduresSubmitted","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the audit log of procedure merge operations.","businessPurpose":"Provides the merge history trail for compliance and troubleshooting, showing who merged which procedures and when.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetNumberFieldValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_NumberFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves number field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved numeric custom field data for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetOTSGMyEvalsRegistrationApprovalEmailTemplate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AccountRegistrationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ImageType","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":122,"tablesReferenced":["PRC_AccountRegistration"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.GetOTSGMyEvalsRegistrationApprovalEmailTemplate"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Generates the OTSG registration approval email template with department staff contact information using WHILE loop iteration.","businessPurpose":"Produces the HTML email sent to military medical personnel when their MyEvaluations registration is approved, including program contact details.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"GetOTSGMyEvalsRegistrationDeniedEmailTemplate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AccountRegistrationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ImageType","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":92,"tablesReferenced":["PRC_AccountRegistration"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.GetOTSGMyEvalsRegistrationDeniedEmailTemplate"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Generates the OTSG registration denied email template with department contact information using WHILE loop iteration.","businessPurpose":"Produces the HTML email sent to military medical personnel when their MyEvaluations registration is denied, including instructions and contacts.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead"],"migrationRelevance":"medium"},{"name":"GetOTSGMyEvalsRegistrationEmailTemplate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AccountRegistrationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ImageType","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":145,"tablesReferenced":["PRC_AccountRegistration","SEC_Ranks","SEC_UserCategoryCodes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.GetOTSGMyEvalsRegistrationEmailTemplate"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Generates the OTSG registration notification email template with comprehensive user and department details using WHILE loop iteration.","businessPurpose":"Produces the HTML email sent to program administrators when a new military medical personnel submits a registration request through the OTSG portal.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"GetParticipationTypesEdit","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":46,"tablesReferenced":["APE_ParticipationTypes","EVAL_EvaluateEvaluation","PRC_ParticipationTypeSettings","PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves participation type configuration for the edit interface with associated user type visibility settings.","businessPurpose":"Loads the complete participation type configuration including which user types can see each role, used in the administrative edit form.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetParticipationTypesNew","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmetID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["PRC_ParticipationTypeSettings","PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves participation types available for new procedure submissions for a specific user type.","businessPurpose":"Provides the filtered participation role list appropriate for the current user when creating a new procedure submission.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetParticipationTypesSettingsForReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["PRC_ParticipationTypeSettings","PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.SetParticipationTypesSettingsForReport"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves participation type settings for report configuration.","businessPurpose":"Loads the participation type configuration for report parameter setup, allowing report filters to include or exclude specific participation roles.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetPatientIdByDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@MRNumber","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DateOfBirth","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["PTL_Patients"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.GetPatientIdByDetails"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Looks up a patient ID by matching demographic details (name, DOB, MR number).","businessPurpose":"Supports patient deduplication during procedure submission by finding existing patient records that match the entered demographics.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetPatientLogCustomDiagnosisTabList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":83,"tablesReferenced":["PTL_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.GetCustomDiagnosisTab"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the custom diagnosis tab configuration specific to patient log entries.","businessPurpose":"Loads the patient log diagnosis tab layout, which may differ from the main procedure diagnosis tabs, for the patient log interface.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"GetPatientLogPatientInformation","schema":"dbo","parameters":[],"lineCount":31,"tablesReferenced":["EVAL_EvaluateEvaluation","PTL_Patients"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.GetPatientDetails"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves patient information associated with a specific patient log entry.","businessPurpose":"Loads saved patient details for display when viewing or editing a patient log within a procedure submission.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"GetPatientLogPatients","schema":"dbo","parameters":[{"name":"@UserID","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@IsIncludeDischarged","dataType":"tinyint","direction":"IN","defaultValue":"0"}],"lineCount":27,"tablesReferenced":["PTL_PatientLogSubmitted","PTL_Patients"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.GetPatientList"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of patients associated with patient log entries for a user.","businessPurpose":"Provides the patient list for the patient log section, showing all patients a trainee has recorded across their procedure submissions.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"GetPatientLogSubmittedIdByProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["EVAL_EvaluateEvaluation","PTL_PatientLogSubmittedProcedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.IsPatientInfoIsHiddenForPtLog"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the patient log submitted IDs linked to a specific procedure submission.","businessPurpose":"Resolves the patient log record associations for a given procedure, used when loading the complete submission details including patient data.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetPendingAuthorizationReportData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":118,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProcedureCategories","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetPendingAuthorizationReportData"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Generates pending authorization report data with user details, using WHILE loop for status processing.","businessPurpose":"Produces the pending authorization report showing which account registrations are awaiting approval, used by program administrators to manage access requests.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetPendingProcedureRequiredData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":147,"tablesReferenced":["PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetPendingProcedureRequiredData"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves all required data for displaying pending procedure submissions including custom fields and supervisor details.","businessPurpose":"Loads the comprehensive pending procedure view data, enabling the review interface to show all relevant information for procedures awaiting approval.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetPendingProcedures","schema":"dbo","parameters":[{"name":"@DepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":107,"tablesReferenced":["PRC_Patients","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_MyEvalMainPageLinks","SEC_ToDoAdmProcedurePending","SEC_Users"],"sprocsCalledFromBody":["usp_TraceMyEvalMainPageCounts"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetPendingProcedures"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of pending (awaiting review) procedure submissions for a supervisor or administrator.","businessPurpose":"Populates the pending procedures queue where supervisors and administrators can review, approve, or return submitted case logs.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetPendingProceduresCount","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":["GetCountNotation"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetPendingProceduresCount"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Returns the count of pending procedure submissions for a user in a department.","businessPurpose":"Provides the pending procedure badge count for dashboard widgets and notification indicators, showing how many submissions need attention.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetPerfProcedureEmailReminder","schema":"dbo","parameters":[{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":244,"tablesReferenced":["PF_EmailTemplate","PRC_Procedures","PRC_ProceduresBase","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SCHE_ApplicationEmailSchedules","SEC_Departments","SEC_KeyTxtInfo","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates performance-based procedure email reminders using cursor-based iteration through departments and users.","businessPurpose":"Produces email notifications for performance procedure completion tracking, alerting supervisors and trainees about procedure review and completion requirements.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"medium"},{"name":"GetPFProcedureCompletion","schema":"dbo","parameters":[{"name":"@SelectedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":138,"tablesReferenced":["PRC_Procedures","PRC_ProceduresBase","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Calculates procedure completion percentages for a user's portfolio using dynamic SQL for flexible procedure filtering.","businessPurpose":"Produces the procedure completion statistics displayed in the MyPortfolio module, showing progress toward graduation and certification requirements.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetPointOfContactUsersForEmail","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1"}],"lineCount":18,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.GetPOCDetails"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves point-of-contact user information for email notifications.","businessPurpose":"Loads the designated contact persons for a department who should receive administrative notifications about procedure activities.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetPostSubmissionProcedureEmailReminderSend","schema":"dbo","parameters":[{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":544,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates and queues post-submission procedure email reminders using cursor-based iteration through departments, users, and supervisors.","businessPurpose":"Produces the post-submission email notifications sent to supervisors when trainees submit procedures requiring review, with department-specific templates and encryption.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"medium"},{"name":"GetProcedureCategories","schema":"dbo","parameters":[{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":77,"tablesReferenced":["EVAL_AnswerScales","EVAL_AnswerTypes","EVAL_Questions","EVAL_QuestionsCategories","PRC_Procedures","PRC_ProceduresQuestions","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedQuesBoxComments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureCategories"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedure categories for a department with subcategory counts and configuration details.","businessPurpose":"Provides the procedure category hierarchy for the administrative interface, showing how procedures are organized and enabling category management.","optimizationRecommendations":["Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation"],"migrationRelevance":"medium"},{"name":"GetProcedureCategoriesByDepartment","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":68,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProcedureCategories","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureCategoriesByDepartment"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedure categories filtered by department with linked department support.","businessPurpose":"Loads the procedure category list for a specific department context, supporting multi-department views where users have access to multiple programs.","optimizationRecommendations":["Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetProcedureCertificationLastUpdateDate","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["PRC_ProceduresCertificationStatus"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ImportProceduresManager.cs.Unknown"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the last update date for procedure certification status records.","businessPurpose":"Supports certification change tracking by identifying when the most recent certification status update occurred.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetProcedureCertificationStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@IsLinked","dataType":"VerysmallNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"smallint","direction":"IN","defaultValue":"0"},{"name":"@UseForcedValue","dataType":"smallint","direction":"IN","defaultValue":"0"}],"lineCount":179,"tablesReferenced":["PRC_ParticipationTypeSettings","PRC_ParticipationTypes","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Calculates and returns the procedure certification status for users in a department, evaluating completion against graduation and certification thresholds.","businessPurpose":"Core certification engine that determines whether trainees have met procedure requirements for certification, evaluating submitted counts against required minimums per ACGME or program standards.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetProcedureCertificationStatus_1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@IsLinked","dataType":"VerysmallNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"smallint","direction":"IN","defaultValue":"0"},{"name":"@UseForcedValue","dataType":"smallint","direction":"IN","defaultValue":"0"}],"lineCount":170,"tablesReferenced":["PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Variant of the procedure certification status calculation with simplified logic.","businessPurpose":"Alternative certification status calculation used for specific reporting contexts or legacy compatibility.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetProcedureEmailReminder","schema":"dbo","parameters":[{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":278,"tablesReferenced":["EVAL_EvaluateEvaluation","PF_EmailTemplate","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureEmailReminder"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates and queues procedure email reminders using cursor-based iteration through departments and users.","businessPurpose":"Produces scheduled email reminders for procedure completion, alerting trainees about upcoming deadlines and supervisors about pending reviews.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"medium"},{"name":"GetProcedureEmailReminderSend2","schema":"dbo","parameters":[{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":391,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates and queues procedure email reminders (version 2) using cursor-based iteration with enhanced template and encryption support.","businessPurpose":"Enhanced version of the procedure reminder email system that sends notifications to trainees and supervisors about pending procedure submissions and reviews.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"medium"},{"name":"GetProcedureImportInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"bigint","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureImportSession","PRC_ProcedureImportSessionProcedure","PRC_Procedures","PRC_ProceduresCertificationStatusTypes","PRC_ReportLanguages","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ImportProceduresManager.cs.GetProcedureImportInfo"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves import session details and associated procedure records for a specific import operation.","businessPurpose":"Provides the import operation summary showing what was imported, when, and by whom, used for import validation and audit.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProcedureInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":43,"tablesReferenced":["EVAL_AnswerTypes","EVAL_Audiences","EVAL_Questions","PRC_Procedures","PRC_ProceduresQuestions"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureInfo"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves comprehensive procedure definition details by procedure ID.","businessPurpose":"Loads the full procedure configuration for the edit form or detail view, including all settings, thresholds, and category associations.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProcedureListForMerge","schema":"dbo","parameters":[],"lineCount":19,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of procedures available for merging within a department.","businessPurpose":"Populates the merge interface source and target procedure lists, showing which procedures can be consolidated.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProcedureLogDetails","schema":"dbo","parameters":[{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":34,"tablesReferenced":["PRC_ProceduresSubmitted","SEC_EventDetail","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureLogDetails"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the log details for a specific submitted procedure entry.","businessPurpose":"Loads the audit trail and modification history for a submitted procedure record, used in the detail view for tracking changes.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"GetProcedureNameBySubmitID","schema":"dbo","parameters":[],"lineCount":24,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureNameBySubmitID"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the procedure name for a given submitted procedure ID.","businessPurpose":"Resolves the procedure name from a submission ID, used in display contexts where only the submission reference is available.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetProcedurePatientInformation","schema":"dbo","parameters":[],"lineCount":35,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Patients"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.GetPatientDetails"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves patient information associated with a specific procedure submission.","businessPurpose":"Loads the patient details linked to a submitted procedure for display in the procedure detail view.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProcedureProcedureIDByName","schema":"dbo","parameters":[{"name":"@ProcedureName","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureIDByName"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Looks up a procedure ID by its name within a department.","businessPurpose":"Resolves procedure identifiers from names during import and integration operations where procedures are referenced by name.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProcedureQuetionsForReport","schema":"dbo","parameters":[],"lineCount":157,"tablesReferenced":["EVAL_AnswerScales","EVAL_AnswerTypes","EVAL_Answers","EVAL_Questions","EVAL_QuestionsCategories","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedAnswers","PRC_ProceduresSubmittedQuesBoxComments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":20,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProcedureQuetionsForReport"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedure-specific evaluation questions and answers for report generation.","businessPurpose":"Loads the Q&A data associated with procedures for inclusion in procedure reports and competency assessments.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"GetProcedureReportLanguageByDepartmentId","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetProcedureReportLanguageByDepartmentId"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the configured report language for procedure reports in a specific department.","businessPurpose":"Loads the department's report language setting that controls certification/competency status labels in procedure reports.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProcedureReportLanguages","schema":"dbo","parameters":[],"lineCount":14,"tablesReferenced":["PRC_ReportLanguages"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetProcedureReportLanguages"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves all available procedure report language options.","businessPurpose":"Provides the list of report language configurations available for procedure certification status labels.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProcedureReviewList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@SortBy","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@StartIndex","dataType":"LargeNumber","direction":"IN","defaultValue":"1"},{"name":"@PageSize","dataType":"LargeNumber","direction":"IN","defaultValue":"100"},{"name":"@TotalCount","dataType":"LargeNumber","direction":"OUTPUT","defaultValue":"0"}],"lineCount":226,"tablesReferenced":["BSN_CampusCodes","BSN_CourseCampusAcademicLeadership","BSN_CourseCampusCourseCoordinator","BSN_CourseCampusLeadProgramAdministrator","BSN_CourseCampusStudentLearningSpecialist","BSN_CourseCampusStudentServices","BSN_CourseFaculty","BSN_Faculty","BSN_StudentReturnDemonstrationLogs","BSN_StudentReturnDemonstrationLogsExt","PRC_Patients","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_MyEvalMainPageLinks","SEC_ToDoAdmRevProcedures","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["usp_TraceMyEvalMainPageCounts"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetPendingProcedures"],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the procedure review queue with dynamic column generation, including new/overdue/normal categorization.","businessPurpose":"Produces the comprehensive review list for supervisors and administrators showing all procedures requiring attention, with visual indicators for urgency and status.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetProceduresByDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null}],"lineCount":75,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresBase","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.FetchProceduresByDepartment"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves all procedures for a department with category and configuration details.","businessPurpose":"Loads the complete procedure inventory for a department, used in administrative management views and procedure selection interfaces.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetProceduresByPageMode","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PageMode","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsOnlyRequired","dataType":"bit","direction":"IN","defaultValue":"0"}],"lineCount":107,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Procedures","PRC_ProceduresBase"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.FetchProceduresBypageMode"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedures filtered by page mode (add/edit) with dynamic SQL for user type filtering.","businessPurpose":"Provides context-appropriate procedure lists depending on whether the user is creating a new submission or editing an existing one, with user-type-specific visibility rules.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetProceduresByProcedureCategoryID","schema":"dbo","parameters":[{"name":"@ProcedureCategoriesID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"}],"lineCount":16,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedures belonging to a specific procedure category.","businessPurpose":"Filters the procedure list by category for cascading selection interfaces and category-specific procedure views.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProceduresCategoryIdByProcedure","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProceduresCategoryIdByProcedure"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the category ID for a given procedure.","businessPurpose":"Resolves the category association for a procedure, used in categorization and reporting contexts.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProceduresCategoryInfo","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.Fill"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves detailed information about a specific procedure category.","businessPurpose":"Loads category configuration details for the edit form in the administrative interface.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProceduresCertificationStatusForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":206,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ParticipationTypeSettings","PRC_ParticipationTypes","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","PRC_SupervisionRequirements","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ImportProceduresManager.cs.GetProceduresCertificationStatusForUser"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Calculates the comprehensive certification status for a specific user across all procedures.","businessPurpose":"Produces the per-user certification status view showing completion progress, certified/not-certified status, and remaining requirements for each procedure.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"GetProceduresCertificationStatusForUser_1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":180,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","PRC_SupervisionRequirements","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Calculates the certification status for a user across all procedures (simplified variant).","businessPurpose":"Variant of the per-user certification status view with streamlined logic for specific reporting requirements.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"GetProceduresCertificationStatusTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["PRC_ProceduresCertificationStatusTypes","PRC_ReportLanguages","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ImportProceduresManager.cs.GetProceduresCertificationStatusTypes"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the available certification status type definitions.","businessPurpose":"Provides the certification status options (e.g., Certified, Not Certified, In Progress) for dropdown menus and report filters.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetProceduresCertifyStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":46,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProceduresCerifyStatus"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the current certification status for specific procedures for a user.","businessPurpose":"Checks whether specific procedures have been certified for a trainee, used in the procedure submission form to show current certification state.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetProceduresCustomFieldsListByGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["MGMT_FieldTypes","MGMT_VisibilityTypes","PRC_FieldTypeInfo","PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves custom fields organized by their field group for a department.","businessPurpose":"Loads the grouped custom field layout for rendering on procedure submission forms, maintaining the group-to-field hierarchy.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProceduresDeletedFields","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["MGMT_FieldTypes","MGMT_VisibilityTypes","PRC_FieldTypeInfo","PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.FetchDeletedFields"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves soft-deleted custom fields for potential restoration.","businessPurpose":"Enables administrators to view and restore previously deleted custom fields from the procedure configuration.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"GetProceduresForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":82,"tablesReferenced":["PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the procedure list available to a specific user based on their user type and department.","businessPurpose":"Provides the user-type-filtered procedure selection for procedure submission forms, respecting resident/fellow/student visibility settings.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProceduresListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProceduresListByCriteria"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves a filtered list of procedures based on multiple search criteria.","businessPurpose":"Supports the procedure search/filter interface where administrators can find procedures by name, category, or other attributes.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProceduresListByCriteria__1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":77,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_DepartmentLinks"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves a filtered list of procedures based on multiple search criteria (extended variant with additional filtering).","businessPurpose":"Extended version of the procedure search supporting additional filter combinations for advanced administrative searches.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProceduresListByCriteria_1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves a filtered list of procedures based on multiple search criteria (variant with modified sorting).","businessPurpose":"Variant of the procedure search with alternative sorting and filtering behavior.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProceduresListByCriteria_190926","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":44,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves a filtered list of procedures based on multiple search criteria (legacy 2019 variant).","businessPurpose":"Legacy variant of the procedure search from September 2019, retained for backward compatibility.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetProceduresListForCustomFieldGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of procedures linked to a specific custom field group.","businessPurpose":"Shows which procedures use a particular custom field group, used in the field group management interface for impact analysis.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProceduresSubmittedDiagnosisList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_ProceduresSubmittedDiagnosisList"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the diagnosis list selected for a specific submitted procedure.","businessPurpose":"Loads the saved diagnosis selections for display on the submitted procedure detail view.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetProceduresSubmittedErrors","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_ProceduresSubmittedErrors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the error/complication list selected for a specific submitted procedure.","businessPurpose":"Loads the saved complication selections for display on the submitted procedure detail view.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetProceduresSubmittedInfo","schema":"dbo","parameters":[{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["EVAL_EvaluateEvaluation"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProceduresSubmittedStatusTypes"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves summary information about a submitted procedure using dynamic SQL for flexible column selection.","businessPurpose":"Loads the submitted procedure summary for display in list views and detail panels.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetProceduresSubmittedInfoResultByList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ResidentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ProceduresIds","dataType":"VARCHAR(MAX)","direction":"IN","defaultValue":null},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"}],"lineCount":349,"tablesReferenced":["PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_DiagnosisList","PRC_ErrorCategories","PRC_Errors","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_ParticipationTypeSettings","PRC_ParticipationTypes","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedDiagnosisList","PRC_ProceduresSubmittedErrors","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["long_print"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProceduresSubmittedInfoResultByList"],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates a comprehensive submitted procedure result set with dynamic custom field pivot columns and WHILE loop-based field expansion.","businessPurpose":"Produces the detailed submitted procedure data view with all custom fields dynamically pivoted into columns, used for comprehensive procedure list exports and detailed review interfaces.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"high"},{"name":"GetProceduresSubmittedStatusTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProceduresSubmittedStatusTypes"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the available submitted procedure status types (e.g., Pending, Accepted, Returned).","businessPurpose":"Provides the status type options for procedure submission workflow, used in dropdowns and status filters throughout the procedure module.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetProcedureStatus","schema":"dbo","parameters":[{"name":"@ProcedureId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":43,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetPendingProcedureStatusCount"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the current status and workflow state of a submitted procedure.","businessPurpose":"Loads the submission status details for a specific procedure, including review state, supervisor feedback, and timestamps.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetProcedureStatusEmailValues","schema":"dbo","parameters":[{"name":"@LoginDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Departments","SEC_UserRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetProcedureStatusEmailValues"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the email template values needed for procedure status notification emails.","businessPurpose":"Loads the data required to populate procedure status change email templates, including trainee name, procedure details, and supervisor information.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"GetProcedurestoReviewCount","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MainPage","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":120,"tablesReferenced":["BSN_CampusCodes","BSN_CourseCampusAcademicLeadership","BSN_CourseCampusCourseCoordinator","BSN_CourseCampusLeadProgramAdministrator","BSN_CourseCampusStudentLearningSpecialist","BSN_CourseCampusStudentServices","BSN_CourseFaculty","BSN_Faculty","BSN_StudentReturnDemonstrationLogs","BSN_StudentReturnDemonstrationLogsExt","PRC_Procedures","PRC_ProceduresSubmitted","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["GetCountNotation"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":8,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedurestoReviewCount"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Counts the number of procedures awaiting review for a user, categorized by urgency (new, normal, overdue).","businessPurpose":"Provides the procedure review queue counts for dashboard widgets and notification badges, helping supervisors prioritize their review workload.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetProcedureSubmitDetails","schema":"dbo","parameters":[{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureSubmitID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":73,"tablesReferenced":["EVAL_Audiences","PRC_DiagnosisList","PRC_ParticipationTypeSettings","PRC_ParticipationTypes","PRC_Patients","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedDiagnosisList","PTL_PatientLogSubmitted","PTL_PatientLogSubmittedProcedures","PTL_Patients","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetProcedureSubmitDetails"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves comprehensive submission details for a specific procedure including all associated data.","businessPurpose":"Loads the full procedure submission record with patient info, diagnoses, errors, custom fields, and supervisor details for the detail view.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetProceduresWithoutCategoryByDepartment","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.Unknown"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedures that are not assigned to any category in a department.","businessPurpose":"Identifies uncategorized procedures for administrative cleanup, helping programs ensure all procedures are properly organized.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetProcedureUserList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":145,"tablesReferenced":["EVAL_EvaluateEvaluation","SEC_UserRoles","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetAvailableProcedureUsers"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the user list with their procedure submission counts and status information for a department.","businessPurpose":"Provides the procedure management user overview showing all trainees and their case log statistics, used by program administrators for monitoring.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetResidentAndFellowsAndStudents","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"smallnumber","direction":"IN","defaultValue":"0 --added by  Adilakshmi 2015/07/09"}],"lineCount":60,"tablesReferenced":["SEC_Departments","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":["GetBSNStudents"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetResidentAndFellowsAndStudents"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves a list of residents, fellows, and students for a department.","businessPurpose":"Provides the trainee list for procedure-related user selection interfaces, such as selecting a user for report generation or procedure import.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetShortTextValuesBySubmittedProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields","PRC_ShortTextValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves short text field values saved for a specific submitted procedure.","businessPurpose":"Loads the saved short text custom field data for a submitted procedure, used when viewing or editing existing case log submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetSubmitProcedureCustomizations","schema":"dbo","parameters":[],"lineCount":42,"tablesReferenced":["EVAL_EvaluateEvaluation","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetSubmitProcedureCustomizations"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the customization settings for the procedure submission form in a department.","businessPurpose":"Loads department-specific submission form settings including which fields are visible, required, and how the form is laid out.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetSubmittedProcedureInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves basic submitted procedure information by its ID.","businessPurpose":"Loads a specific submitted procedure record for quick reference or validation purposes.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetSubmittedProcedureList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":104,"tablesReferenced":["PRC_Patients","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_DepartmentLinks","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.GetSubmittedProcedureListByCriteria"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the submitted procedure list for a user with filtering and pagination.","businessPurpose":"Provides the trainee's procedure submission history view, showing all logged cases with status, dates, and key details.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"GetSubmittedProcedureList_1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":102,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_DepartmentLinks","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the submitted procedure list (variant with modified filtering) for a user.","businessPurpose":"Variant of the procedure submission history with alternative filtering logic for specific view configurations.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetSubmittedProcedureList_Mobile","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"2024"},{"name":"@SelectedDepartment","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedStatus","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedSupervisor","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":112,"tablesReferenced":["PRC_Patients","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_DepartmentLinks","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the submitted procedure list optimized for the mobile interface with reduced data footprint.","businessPurpose":"Provides a mobile-friendly view of a trainee's submitted procedure history, optimized for smaller screens and lower bandwidth.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"GetSubmittedProcedures","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ResidentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":206,"tablesReferenced":["PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_ParticipationTypes","PRC_Patients","PRC_Procedures","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves submitted procedures for a user with dynamic custom field columns using WHILE loops and dynamic SQL.","businessPurpose":"Produces the individual trainee's submitted procedure view with all custom fields dynamically included, used for the case log review interface.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"high"},{"name":"GetSubmittedProceduresByDepartment","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ResidentID","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":200,"tablesReferenced":["PRC_ConsentTypes","PRC_CustomFieldsGroupProcedures","PRC_Fields","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_LookupItems","PRC_NumberFieldValues","PRC_ParticipationTypes","PRC_Patients","PRC_Procedures","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","PRC_ShortTextValues","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves submitted procedures for all users in a department with dynamic custom field columns using WHILE loops and dynamic SQL.","businessPurpose":"Produces the department-wide procedure submission view with custom field data dynamically pivoted, used for administrative oversight and bulk review.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Pre-compute pivot column list into a temp table to avoid repeated dynamic SQL generation"],"migrationRelevance":"high"},{"name":"GetSubmittedProceduresList","schema":"dbo","parameters":[],"lineCount":216,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_Fields","PRC_Procedures","PRC_ProceduresBase"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.GetSubmittedProceduresList"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves a comprehensive list of submitted procedures with associated details for a department.","businessPurpose":"Provides the main submitted procedures list view with all key data including procedure names, dates, statuses, and user information.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetSubmittedProceduresSupervisorsList","schema":"dbo","parameters":[],"lineCount":170,"tablesReferenced":["PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.GetSubmittedProceduresSupervisorsList"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves submitted procedures with their assigned supervisor details for a department.","businessPurpose":"Produces the supervisor-focused procedure view showing which supervisors are assigned to which submissions, used for workload distribution and review tracking.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetSubmittedProcedureStatusTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves the status type definitions for submitted procedures.","businessPurpose":"Provides the list of possible submission statuses for filters and display labels in the procedure module.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"GetSummaryProcedureCompetencyReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":223,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures","PRC_ReportLanguages","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":true,"nolockCount":5,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure competency report with certification status using cursor-based iteration and dynamic SQL.","businessPurpose":"Produces the competency analysis report showing procedure certification status across trainees, used for program accreditation and competency committee reviews.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"GetSummaryProcedureLOSReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":129,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_SupervisionRequirements","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":true,"nolockCount":7,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure Level of Supervision report with dynamic SQL pivoting.","businessPurpose":"Produces the supervision level analysis report showing the distribution of supervision levels across procedures, used for progressive independence tracking.","optimizationRecommendations":["Parameterize dynamic SQL to prevent SQL injection and improve query plan caching","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummaryProcedureReportResult_","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":363,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_SupervisionRequirements","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus_"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":21,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure report result with certification status calculation using cursor-based iteration.","businessPurpose":"Produces the main summary procedure report showing aggregate completion, certification status, and category breakdowns for department-level program oversight.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummaryProcedureReportResult__1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":384,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ParticipationTypes","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_SupervisionRequirements","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":21,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure report result (variant 1) with enhanced certification status calculation.","businessPurpose":"Variant of the summary report with additional certification status handling for specific department configurations.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummaryProcedureReportResult__2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":419,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ParticipationTypes","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_SupervisionRequirements","SEC_Certifications","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":21,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure report result (variant 2) with extended data columns and certification processing.","businessPurpose":"Extended variant of the summary report including additional data fields for comprehensive program reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummaryProcedureReportResult_3","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":408,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ParticipationTypes","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_SupervisionRequirements","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":21,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure report result (version 3) with identity-based temp tables for certification processing.","businessPurpose":"Updated version of the summary report with improved temp table management for better performance in large datasets.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummaryProcedureReportResult_Backup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":437,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ParticipationTypes","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_SupervisionRequirements","SEC_Certifications","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":21,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Backup variant of the summary procedure report result generation with cursor-based certification status calculation.","businessPurpose":"Preserved backup version of the summary report logic, retained for rollback or comparison purposes.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"low"},{"name":"GetSummaryProcedureReportResult2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":311,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_SupervisionRequirements","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":21,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure report result (version 2) with cursor-based certification status calculation.","businessPurpose":"Second version of the summary report with incremental improvements to the certification calculation logic.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummaryProcedureReportResultByDate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@LocalRules","dataType":"SMALLINT","direction":"IN","defaultValue":"0"},{"name":"@ProceduresCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@ComponentStatus","dataType":"ShortText","direction":"IN","defaultValue":"''"}],"lineCount":1071,"tablesReferenced":[],"sprocsCalledFromBody":["GetSummaryProcedureReportResult"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetSummaryProcedureReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates the summary procedure report with date-range filtering using cursor-based iteration for certification status calculation.","businessPurpose":"Produces the date-filtered summary procedure report showing completion and certification status for a specific time period, used for periodic program reviews.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSummativeProcedureEmailReminderSend","schema":"dbo","parameters":[{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":582,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Generates and queues summative procedure email reminders using cursor-based iteration through departments, users, and supervisors.","businessPurpose":"Produces the summative assessment email notifications for procedure-based evaluations, alerting stakeholders about summative review requirements and deadlines.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace FOR XML PATH('') + STUFF string concatenation with STRING_AGG() (SQL Server 2017+) for cleaner and more efficient string aggregation","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Consider batching email generation using a single set-based query to build all templates, rather than processing one user at a time in a cursor"],"migrationRelevance":"medium"},{"name":"GetSupervisionRequirementsCAWEnabled","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetSupervisionRequirementsCAWEnabled"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves whether the CAW (Competency Assessment Worksheet) supervision requirements feature is enabled for a department.","businessPurpose":"Checks the CAW-specific supervision requirement settings, used to conditionally show the CAW supervision configuration on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetSupervisionRequirementsEnabled","schema":"dbo","parameters":[],"lineCount":21,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.GetSupervisionRequirementsEnabled"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves whether the supervision requirements feature is enabled for a department.","businessPurpose":"Checks whether the department has enabled mandatory supervision level selection on procedure submissions.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetSupervisorDepartmentReportResult","schema":"dbo","parameters":[{"name":"@UserTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":86,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetSupervisedProcedureReportData"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Generates a detailed report of supervisor procedure review activity for a department.","businessPurpose":"Produces the supervisor-level procedure review report showing individual supervisor activity, response times, and review patterns.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"GetSupervisorDepartmentSummaryReportResult","schema":"dbo","parameters":[{"name":"@UserTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IncludeLinkDepartment","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":52,"tablesReferenced":["PRC_Procedures","PRC_ProceduresSubmitted","SEC_EventTypes","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresReportManager.cs.GetSupervisedProcedureSummaryReportData"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Generates a summary report of supervisor procedure review activity for a department.","businessPurpose":"Produces the supervisor workload summary showing review counts and response times, used for faculty oversight and workload balancing.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetSupervisors","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"ShortCounterNumber","direction":"IN","defaultValue":"-1"}],"lineCount":35,"tablesReferenced":["LA_Preceptors","PRC_ProceduresSupervisors","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.FetchSupervisors"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the list of supervisors configured for a department's procedure module.","businessPurpose":"Provides the supervisor management list showing all faculty supervisors and their assignment status for the procedure module.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetSupervisorsByProcedureIds","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":101,"tablesReferenced":["PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.GetSupervisorsByProcedureIds"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves supervisors associated with specific procedure IDs.","businessPurpose":"Loads the supervisor assignments for particular procedures, used when displaying or configuring supervisor-to-procedure mappings.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetUserDetailsByEDIPI","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EDIPI","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":23,"tablesReferenced":["SEC_KeyTxtInfo"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.GetUserDetailsByEDIPI"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves user details by their EDIPI (Electronic Data Interchange Personal Identifier) number.","businessPurpose":"Supports military user lookup by their unique EDIPI credential, used in the OTSG registration and authentication workflow.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetUserListForProceduresImport","schema":"dbo","parameters":[],"lineCount":22,"tablesReferenced":["SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.FillDbUsers"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Retrieves the user list available as targets for procedure import operations.","businessPurpose":"Provides the user selection list for bulk procedure import, showing which trainees can receive imported case log data.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetUserPreceptorList","schema":"dbo","parameters":[],"lineCount":20,"tablesReferenced":["LA_Preceptors","LA_Trainee","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisorsManager.cs.GetUserPreceptorList"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the preceptor list for a user.","businessPurpose":"Loads the assigned preceptors (clinical supervisors) for a trainee, used in procedure submission context for preceptor selection.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"GetUsersPatientList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Patients","PRC_ProceduresSubmitted","PTL_PatientLogSubmitted","PTL_PatientLogSubmittedProcedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.GetPatientList"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the patient list for a specific user.","businessPurpose":"Provides the trainee's patient history for the patient log selection interface, showing all patients they have previously recorded.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"GetUsersPatientList_1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["PRC_Patients","PRC_ProceduresSubmitted","PTL_PatientLogSubmitted","PTL_PatientLogSubmittedProcedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Retrieves the patient list for a specific user (simplified variant).","businessPurpose":"Variant of the patient list with reduced data columns for specific interface contexts.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"ImportErrorCategoriesFromBase","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_ErrorCategories","PRC_ErrorCategoriesBase"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Imports error categories from a base department template into a target department.","businessPurpose":"Supports department initialization by copying the standard error category definitions from the system base template into a new department's configuration.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"ImportErrorsFromBase","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":70,"tablesReferenced":["PRC_ErrorCategories","PRC_ErrorCategoriesBase","PRC_Errors","PRC_ErrorsBase"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Imports error entries from a base department template using cursor-based iteration for category mapping.","businessPurpose":"Copies the standard error/complication definitions from the system base template into a new department, maintaining category associations.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"ImportProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Imports a single procedure definition from an external source into the system.","businessPurpose":"Handles individual procedure record import, validating and creating the procedure definition with its associated configuration.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"ImportProcedureData","schema":"dbo","parameters":[],"lineCount":87,"tablesReferenced":["PRC_LookupFieldValues","PRC_LookupItems","PRC_Patients","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Imports procedure data from an automated source with WHILE loop processing for row-by-row validation.","businessPurpose":"Handles the automated case log data import pipeline, processing incoming procedure records with validation and error handling.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"ImportProcedureDataManually","schema":"dbo","parameters":[],"lineCount":116,"tablesReferenced":["PRC_Procedures","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Imports procedure data from a manually uploaded file with WHILE loop processing for row-by-row validation.","businessPurpose":"Supports the manual case log import workflow where coordinators upload spreadsheets of procedure data that are validated and imported row by row.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"ImportProcedureForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresCertificationStatusTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":60,"tablesReferenced":["PRC_ProceduresCertificationStatus"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Imports a procedure submission record for a specific user from an import source.","businessPurpose":"Creates a submitted procedure record for a trainee from imported data, linking it to the correct procedure definition and import session.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"ImportProceduresManually","schema":"dbo","parameters":[],"lineCount":151,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Imports multiple procedures manually from uploaded data using WHILE loop processing with comprehensive field mapping.","businessPurpose":"Supports the bulk manual procedure import workflow where coordinators upload procedure data files and the system processes each record with validation and field mapping.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"InsertDefaultProcedures","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureIDs","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":304,"tablesReferenced":["EVAL_AnswerTypes","EVAL_Questions","PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_Fields","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresQuestions"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Inserts default procedures from a base template into a department using cursor-based iteration, including categories, fields, and field groups.","businessPurpose":"Initializes a new department with the standard procedure configuration by copying procedure definitions, categories, custom fields, and field groups from the system template.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations using CTEs, CROSS APPLY, or window functions for significantly better performance","Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"InsertErrorCategories","schema":"dbo","parameters":[],"lineCount":38,"tablesReferenced":["PRC_ErrorCategories","PRC_ErrorCategoriesBase","PRC_Errors","PRC_ErrorsBase"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts error categories from a template using WHILE loop iteration.","businessPurpose":"Copies error category definitions during department initialization, populating the standard complication categories for the new program.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"InsertProcedureQuestions","schema":"dbo","parameters":[{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QuestionID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AnswerTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["PRC_ProceduresQuestions"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Inserts evaluation questions associated with a specific procedure.","businessPurpose":"Links evaluation assessment questions to procedures, enabling procedure-specific competency evaluation surveys.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"IsProcedureFieldNameUnique","schema":"dbo","parameters":[{"name":"@FieldName","dataType":"varchar(200)","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.IsProcedureFieldNameUnique"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Validates that a procedure field name is unique within a department.","businessPurpose":"Prevents duplicate custom field names by checking uniqueness before creation, ensuring clear field identification on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"MarkProcedureCategoryAsDefault","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureCategoriesID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["PRC_ProcedureCategories"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.MarkAsDefault"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets a procedure category as the default category for a department.","businessPurpose":"Designates which procedure category is pre-selected for new procedures, streamlining the procedure creation workflow for administrators.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"MergeProcedures","schema":"dbo","parameters":[{"name":"@SourceProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DestinationProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["PRC_MergeProcedureLog","PRC_MergeProcedureLogDetails","PRC_Procedures","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Merges two procedure definitions by transferring all submitted procedure references from the source to the target and logging the merge.","businessPurpose":"Consolidates duplicate procedure definitions by moving all case log submissions to the target procedure, eliminating redundancy in the procedure list.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"ParticipationTypesEdit","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Updates a participation type's description and configuration.","businessPurpose":"Allows administrators to modify existing participation role definitions in the procedure module.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"ProcedureCategoryChangeExcludedFlag","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureCategoriesID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_ProcedureCategories"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.ChangeExcludedFlag"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Toggles the excluded-from-reports flag on a procedure category.","businessPurpose":"Allows administrators to include or exclude entire procedure categories from certification and verification reports.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"ProceduresCertificationStatusForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":82,"tablesReferenced":["PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"report","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves the procedure certification status summary for a specific user.","businessPurpose":"Provides a quick certification status overview for a trainee, used in dashboards and status badges throughout the platform.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"RemoveDiagnosisFromTab","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TabID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["PRC_CustomDiagnosisTabInfo","PTL_CustomDiagnosisTabInfo"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.RemoveDiagnosisFromTab"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Removes a diagnosis association from a custom diagnosis tab.","businessPurpose":"Detaches a diagnosis from a tab grouping, reorganizing the diagnosis display on procedure submission forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"medium"},{"name":"RestoreDeletedFields","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":28,"tablesReferenced":["PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.RestoreDeletedFields"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Restores a soft-deleted custom field by clearing its IsDeleted flag.","businessPurpose":"Recovers previously removed custom fields, making them active again on procedure submission forms.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"low"},{"name":"RestoreDeletedParticipationTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.RestoreDeletedParticipationTypes"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Restores a soft-deleted participation type by clearing its IsDeleted flag.","businessPurpose":"Recovers previously removed participation roles, making them available again for procedure submissions.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"RestoreProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":15,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.RestoreProcedure"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Restores a soft-deleted procedure definition by clearing its IsDeleted flag.","businessPurpose":"Recovers a previously deleted procedure, making it available again in the procedure selection list.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"RestoreProceduresCategory","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["PRC_ProcedureCategories"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProcedureCategoryModel.cs.Restore"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Restores a soft-deleted procedure category by clearing its IsDeleted flag.","businessPurpose":"Recovers a previously deleted procedure category, restoring its visibility in the category management interface.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"RestoreProceduresCustomFieldGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures","PRC_DepartmentFieldOrder","PRC_Fields","PRC_FieldsGroupsInfo","PRC_FreeTextFieldValues","PRC_LargeDateFieldValues","PRC_LargeNumberFieldValues","PRC_LongTextFieldValues","PRC_LookupFieldValues","PRC_NumberFieldValues","PRC_ShortTextValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Restores a soft-deleted custom field group and its associated fields.","businessPurpose":"Recovers a previously deleted field group with all its custom fields, restoring the complete group configuration on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"RevertLevelsOfSupervision","schema":"dbo","parameters":[],"lineCount":36,"tablesReferenced":["PRC_DefaultLevelsOfSupervision","PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.RevertLevelsOfSupervision"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Reverts levels of supervision to their previous configuration by deleting recent additions and restoring deleted entries.","businessPurpose":"Provides an undo capability for supervision level changes, allowing administrators to roll back configuration modifications.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"SaveCaseLogImportingData","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":623,"tablesReferenced":["APE_CaseLogData","APE_CaseLogRRCProcedure","APE_ParticipationTypes","APE_RRCArea","PRC_CaseLogImportingData","PRC_ParticipationTypes","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","SEC_Departments","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveCaseLogImportingData"],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Processes and saves a large batch of case log import data with comprehensive field mapping, validation, and user/procedure resolution.","businessPurpose":"Core case log import processor that handles the complete import pipeline: parsing uploaded data, resolving user identities, matching procedures, validating fields, and creating submitted procedure records with all associated data.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse"],"migrationRelevance":"medium"},{"name":"SaveCaseLogImportingData1","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":844,"tablesReferenced":["APE_CaseLogData","APE_CaseLogRRCProcedure","APE_ParticipationTypes","APE_RRCArea","PRC_CaseLogImportingData","PRC_ParticipationTypes","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","SEC_Departments","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Processes and saves case log import data (version 2) with enhanced field mapping and WHILE loop processing for row validation.","businessPurpose":"Updated case log import processor with additional field support and enhanced validation logic for handling more complex import formats.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse"],"migrationRelevance":"medium"},{"name":"SaveFieldAndFieldGroupOrder","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldOrder","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["PRC_DepartmentFieldGroupOrder","PRC_DepartmentFieldOrder"],"sprocsCalledFromBody":["AddDefaultFieldAndGroupOrderData"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.SaveFieldAndGroupOrder"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the display order of a field within its field group.","businessPurpose":"Allows administrators to reorder custom fields within their groups on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveFreeTextFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_FreeTextFieldValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves free text custom field values for a submitted procedure.","businessPurpose":"Persists the free text custom field data entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveLargeDateFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LargeDateFieldValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves large date custom field values for a submitted procedure.","businessPurpose":"Persists the date custom field data entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveLargeNumberFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LargeNumberFieldValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves large number custom field values for a submitted procedure.","businessPurpose":"Persists the large number custom field data entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveLevelsOfSupervisionOrder","schema":"dbo","parameters":[],"lineCount":20,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.SaveLevelsOfSupervisionOrder"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the display order of levels of supervision for a department.","businessPurpose":"Allows administrators to rearrange the supervision level list order on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveLongTextFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LongTextFieldValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves long text custom field values for a submitted procedure.","businessPurpose":"Persists the long text custom field data entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveLookupFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LookupFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves lookup/dropdown custom field values for a submitted procedure.","businessPurpose":"Persists the lookup field selections entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveNumberFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_NumberFieldValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves numeric custom field values for a submitted procedure.","businessPurpose":"Persists the numeric custom field data entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SaveShortTextValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ShortTextValues"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves short text custom field values for a submitted procedure.","businessPurpose":"Persists the short text custom field data entered by a trainee during procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SetFieldGroupHiddenFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":34,"tablesReferenced":["PRC_FieldGroups"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldGroupsManager.cs.SetFieldGroupHiddenFlag"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets the hidden flag on a field group, controlling its visibility on procedure forms.","businessPurpose":"Allows administrators to show or hide entire field groups on procedure submission forms without deleting them.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetFieldGroupRequiredFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["PRC_FieldGroups"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldGroupsManager.cs.SetFieldGroupRequiredFlag"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets the required flag on a field group, controlling whether its fields are mandatory.","businessPurpose":"Allows administrators to make entire field groups required or optional on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetFieldHiddenFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.SetFieldHiddenFlag"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets the hidden flag on a custom field, controlling its visibility on procedure forms.","businessPurpose":"Allows administrators to show or hide individual custom fields on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetFieldRequiredFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.SetFieldRequiredFlag"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets the required flag on a custom field, controlling whether it is mandatory.","businessPurpose":"Allows administrators to make individual custom fields required or optional on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetLevelOfSupervisionDeleted","schema":"dbo","parameters":[],"lineCount":28,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.SetLevelOfSupervisionDeleted"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Soft-deletes a level of supervision with dependent reference checking.","businessPurpose":"Safely removes a supervision level from the active list, with validation to prevent removal of levels currently in use by submitted procedures.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetLevelSupervisionDefault","schema":"dbo","parameters":[],"lineCount":26,"tablesReferenced":["PRC_LevelsOfSupervision"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.SetLevelOfSupervisionDefault"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets a level of supervision as the default for a department.","businessPurpose":"Designates which supervision level is pre-selected on procedure submission forms, streamlining the submission workflow for trainees.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetProcedureReportLanguageForDepartment","schema":"dbo","parameters":[],"lineCount":18,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.SetProcedureReportLanguageForDepartment"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Sets the report language configuration for procedure reports in a department.","businessPurpose":"Configures which language labels are used for certification status values in procedure reports for the department.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"SetSupervisionRequirementsCAWEnabled","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":33,"tablesReferenced":["SEC_Departments","SEC_EventDetail","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.SetSupervisionRequirementsCAWEnabled"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Enables or disables the CAW supervision requirements feature for a department.","businessPurpose":"Controls whether the CAW-specific supervision level tracking is active for the department's procedure module.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SetSupervisionRequirementsEnabled","schema":"dbo","parameters":[],"lineCount":18,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.SetSupervisionRequirementsEnabled"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Enables or disables the supervision requirements feature for a department.","businessPurpose":"Controls whether mandatory supervision level selection is required on procedure submissions for the department.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SubmitProcedureAuditTrailLog","schema":"dbo","parameters":[{"name":"@EventID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@NewStateID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["PRC_ProcedureSubmittedUserLog","PRC_ProceduresSubmitted","SEC_EventDetail","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SubmitProcedureAuditTrailLog"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Inserts an audit trail log entry for a procedure submission event.","businessPurpose":"Records procedure submission activity in the audit trail for compliance, tracking who submitted what and when.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SubmitProcedureDignoses","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmittedDiagnosisList"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves the diagnosis selections for a submitted procedure, handling both insert and update scenarios.","businessPurpose":"Records the diagnoses selected by a trainee during procedure submission, linking diagnosis records to the submitted case log.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SubmitProcedureError","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmittedErrors"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves the error/complication selections for a submitted procedure.","businessPurpose":"Records the complications selected by a trainee during procedure submission, linking error records to the submitted case log.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SubmitProcedureErrorCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ErrorsCategorySubmitted"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.SaveSubmittedProcedure"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Saves the error category selections for a submitted procedure.","businessPurpose":"Records the error categories associated with a procedure submission, supporting hierarchical complication tracking.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"SwapFieldAndGroupOrder","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":48,"tablesReferenced":["PRC_DepartmentFieldGroupOrder","PRC_DepartmentFieldOrder"],"sprocsCalledFromBody":["AddDefaultFieldAndGroupOrderData"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.SwapFieldAndFieldGroupOrder"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Swaps the display order of fields and field groups simultaneously.","businessPurpose":"Supports reordering where both individual fields and field groups need to be repositioned on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SwapFieldGroupOrder","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldGroupId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":69,"tablesReferenced":["PRC_DepartmentFieldGroupOrder"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldGroupsManager.cs.SwapFieldGroupOrder"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Swaps the display order of two field groups on procedure forms.","businessPurpose":"Enables drag-and-drop style reordering of custom field groups on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"SwapFieldOrder","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["PRC_DepartmentFieldOrder"],"sprocsCalledFromBody":["AddDefaultFieldAndGroupOrderData"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.SwapFieldOrder"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Swaps the display order of two custom fields within a group.","businessPurpose":"Enables drag-and-drop style reordering of individual custom fields within their groups on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"sys_meprgeproceduresbyid","schema":"dbo","parameters":[{"name":"@source_id","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@dest_id","dataType":"bigint","direction":"IN","defaultValue":null}],"lineCount":63,"tablesReferenced":["EVAL_MilestoneRotationProcedures","EVAL_OutcomeProcedure","PRC_CustomFieldsGroupProcedures","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","PRC_SupervisionRequirements"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Updates foreign key references across multiple tables to remap a source procedure ID to a destination procedure ID.","businessPurpose":"System utility that handles the data migration step of procedure merging, updating all cross-table references to point to the consolidated procedure record.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"sys_mergeprocedures","schema":"dbo","parameters":[{"name":"@deptid","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":136,"tablesReferenced":["EVAL_MilestoneRotationProcedures","EVAL_OutcomeProcedure","PRC_CustomFieldsGroupProcedures","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresQuestions","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","PRC_SupervisionRequirements"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Identifies and merges duplicate procedure definitions across departments by name matching, updating all references and logging the merge.","businessPurpose":"System maintenance utility that automatically detects and consolidates duplicate procedures that have the same name but different IDs within a department.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"TraceLogger","schema":"dbo","parameters":[{"name":"@method","dataType":"varchar(1000)","direction":"IN","defaultValue":null},{"name":"@duration","dataType":"bigint","direction":"IN","defaultValue":null}],"lineCount":14,"tablesReferenced":["SYS_TraceLogger"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.Logger"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Inserts a performance trace log entry recording the execution duration of a module operation.","businessPurpose":"Provides performance monitoring by logging execution times for procedure module operations, supporting performance analysis and bottleneck identification.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"low"},{"name":"UpdateAccountApplicationsStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AccountRegistrationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsApproveDenied","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@Reason","dataType":"LargeText","direction":"IN","defaultValue":"NULL"},{"name":"@EncryptedPasswordV2","dataType":"LargeText","direction":"IN","defaultValue":"NULL"}],"lineCount":133,"tablesReferenced":["PRC_AccountRegistration","SEC_Departments","SEC_EventDetail","SEC_Events","SEC_Ranks","SEC_UserRoles","SEC_UserTypesExt","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":["InsertUserIntoCacheTable"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AccountRegistrationManager.cs.ApproveOrDenyAccountApplications"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Updates the status of an OTSG account registration application (approve/deny) and triggers follow-up actions including user creation for approvals.","businessPurpose":"Processes OTSG registration decisions by updating application status and, for approvals, creating the user account with proper department assignments and sending confirmation emails.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"UpdateAllProcedureReview","schema":"dbo","parameters":[{"name":"@ProcedureSubmittedIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ProcedureStatus","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":70,"tablesReferenced":["PF_EmailTemplate","PRC_ProceduresSubmitted","SCHE_ApplicationEmailSchedules","SEC_EventDetail","SEC_Events","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.UpdateAllProcedureReview"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Batch updates the review status for all pending procedures assigned to a specific supervisor.","businessPurpose":"Enables supervisors to accept or return all their pending procedure reviews at once, streamlining the review workflow for faculty with many pending submissions.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateCustomDiagnosesTab","schema":"dbo","parameters":[{"name":"@CustomDiagnosisTabID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing custom diagnoses tab's name or configuration.","businessPurpose":"Allows administrators to rename or modify custom diagnosis tab settings in the procedure configuration.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateCustomDiagnosisTab","schema":"dbo","parameters":[{"name":"@CustomDiagnosisTabID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["PRC_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing custom diagnosis tab's name or configuration.","businessPurpose":"Allows administrators to rename or modify custom diagnosis tab settings in the procedure configuration.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateDiagnosis","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisListID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisCode","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Code","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DiagnosisCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["PRC_DiagnosisList"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing diagnosis record's details.","businessPurpose":"Allows administrators to modify diagnosis names, codes, or category associations in the procedure module configuration.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"UpdateDiagnosisCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DiagnosisCategoryName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["PRC_DiagnosisCategories"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing diagnosis category's details.","businessPurpose":"Allows administrators to modify diagnosis category names or configuration in the procedure module.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"UpdateError","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ErrorDescription","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["PRC_Errors"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing error/complication record's details.","businessPurpose":"Allows administrators to modify complication names or descriptions in the procedure error tracking configuration.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateErrorCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ErrorCategoryName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["PRC_ErrorCategories"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ErrorCategoryManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing error category's details.","businessPurpose":"Allows administrators to modify error category names or configuration in the complication tracking system.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateFreeTextFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":72,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_FreeTextFieldValues"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing free text custom field values for a submitted procedure.","businessPurpose":"Modifies the free text custom field data when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateLargeDateFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Value","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":54,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LargeDateFieldValues"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing large date custom field values for a submitted procedure.","businessPurpose":"Modifies the date custom field data when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateLargeNumberFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Value","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LargeNumberFieldValues"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing large number custom field values for a submitted procedure.","businessPurpose":"Modifies the large number custom field data when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateLongTextFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Value","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":72,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LongTextFieldValues"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing long text custom field values for a submitted procedure.","businessPurpose":"Modifies the long text custom field data when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateLookup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["PRC_Lookups"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.Update","CustomLookUpItemManager.cs.SaveLookupInfo"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing lookup field definition.","businessPurpose":"Allows administrators to modify lookup field names or configuration in the procedure custom fields system.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateLookupFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookupItemID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_LookupFieldValues"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing lookup/dropdown custom field values for a submitted procedure.","businessPurpose":"Modifies the lookup field selections when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateLookupItem","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookUpItemID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LookupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Value","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@SortOrder","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":47,"tablesReferenced":["PRC_LookupItems"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["LookUpItemManager.cs.Update","CustomLookUpItemManager.cs.SaveLookupInfo"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing lookup item (option value) record.","businessPurpose":"Allows administrators to modify the selectable options in a lookup/dropdown custom field on procedure forms.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"UpdateNumberFieldValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Value","dataType":"decimal(25,2)","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_NumberFieldValues"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing numeric custom field values for a submitted procedure.","businessPurpose":"Modifies the numeric custom field data when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateParticipationTypeActiveState","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ParticipationTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["PRC_ParticipationTypeSettings"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.UpdateParticipationTypeActiveState"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Toggles the active/inactive state of a participation type.","businessPurpose":"Allows administrators to activate or deactivate participation roles without deleting them, controlling availability on procedure forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateParticipationTypesOrder","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["PRC_ParticipationTypeSettings"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SupervisionRequirementsManager.cs.UpdateParticipationTypeSortOrder"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the display order of participation types for a department.","businessPurpose":"Allows administrators to rearrange the participation role list order on procedure submission forms.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"high"},{"name":"UpdatePatientLogCustomDiagnosisTab","schema":"dbo","parameters":[{"name":"@CustomDiagnosisTabID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["PTL_CustomDiagnosisTabs"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DiagnosesTabManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates a patient log custom diagnosis tab's configuration.","businessPurpose":"Allows administrators to modify patient-log-specific diagnosis tab settings.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"UpdatePatientLogPatientInfo","schema":"dbo","parameters":[{"name":"@PatientID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@DateOfBirth","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["EVAL_EvaluateEvaluation","PTL_Patients"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.UpdatePatientInfo"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates patient information for a patient log entry.","businessPurpose":"Allows trainees to modify patient demographic details on previously submitted patient log records.","optimizationRecommendations":[],"migrationRelevance":"low"},{"name":"UpdateProcedure","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UpdatedProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@GraduationMinimumCount","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CertificationNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForResident","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForStudent","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForFellow","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForOthers","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsAvailableForNurse","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsQuestionAvailable","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@HowTo","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ProceduresConsultReferenceNumber","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@AudienceID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":32,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates an existing procedure definition's name, settings, and configuration.","businessPurpose":"Allows program administrators to modify procedure definitions including names, requirements, and availability settings.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"UpdateProcedureErrorCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":49,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ErrorsCategorySubmitted"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the error category assignments for a procedure, managing the many-to-many relationship.","businessPurpose":"Configures which error/complication categories are available for a specific procedure, controlling the error selection options on submission forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateProcedureFiledLockState","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.UpdateProcedureFiledLockState"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Updates the lock state of a procedure field, controlling whether it can be edited.","businessPurpose":"Allows administrators to lock or unlock specific custom fields, preventing or allowing trainee modifications after submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateProcedureOptions","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@OptionName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.UpdateProcedureOption"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates procedure-level options including availability flags and requirement thresholds.","businessPurpose":"Allows administrators to modify procedure settings such as resident/fellow/student availability, graduation minimums, and certification requirements.","optimizationRecommendations":["Add SET NOCOUNT ON at the start to suppress row-count messages and reduce unnecessary network round-trips"],"migrationRelevance":"high"},{"name":"UpdateProcedurePatientInfo","schema":"dbo","parameters":[{"name":"@PatientID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@PatientName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_Patients"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["PatientManager.cs.UpdatePatientInfo"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates patient information associated with a procedure submission.","businessPurpose":"Allows modification of patient demographic details on an existing procedure submission.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateProcedureReminderSentDate","schema":"dbo","parameters":[],"lineCount":22,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Records the date when a procedure reminder email was sent.","businessPurpose":"Tracks reminder delivery to prevent duplicate emails and maintain the reminder scheduling logic.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"medium"},{"name":"UpdateProcedureReview","schema":"dbo","parameters":[{"name":"@ProcedureSubmittedId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureStatus","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":54,"tablesReferenced":["PF_EmailTemplate","PRC_ProceduresSubmitted","SCHE_ApplicationEmailSchedules","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ProceduresManager.cs.UpdateProcedureReview"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates the review status and feedback for a submitted procedure.","businessPurpose":"Processes a supervisor's review decision (accept, return, comment) on a submitted procedure, advancing it through the review workflow.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateProceduresCertificationStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresCertificationStatusTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@NoOfProceduresToSubmit","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresImportSessionID","dataType":"bigint","direction":"IN","defaultValue":"null"}],"lineCount":131,"tablesReferenced":["PRC_ParticipationTypeSettings","PRC_ParticipationTypes","PRC_ProcedureImportSessionProcedure","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","PRC_ProceduresSupervisors","PRC_SupervisionRequirements"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ImportProceduresManager.cs.ImportProcedures"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Updates the certification status for a specific procedure-user combination, including supervision requirements and import session tracking.","businessPurpose":"Records certification status changes when a trainee's procedure completion meets or falls below certification thresholds, maintaining the official certification record.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"UpdateProceduresCustomFieldGroupInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ProcedureIDs","dataType":"varchar(max)","direction":"IN","defaultValue":null},{"name":"@GroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["PRC_CustomFieldsGroup","PRC_CustomFieldsGroupProcedures"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the name and configuration of a custom field group.","businessPurpose":"Allows administrators to modify field group properties in the procedure form configuration.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"high"},{"name":"UpdateProceduresField","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FieldId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DisplayName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@VisibilityTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FieldTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsSystem","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsHidden","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@DefaultValue","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@UpperBound","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@LowerBound","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@LookupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["MGMT_FieldTypes","PRC_FieldTypeInfo","PRC_Fields"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["FieldsManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates an existing custom field's name, type, and configuration settings.","businessPurpose":"Allows administrators to modify custom field definitions on procedure submission forms.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateProcedureSubmit","schema":"dbo","parameters":[{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ParticipationTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PatientName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@MRNumber","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@Indications","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ConsentTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Complications","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@PatientType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@Comments","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DiagnosisIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@LoginDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["PRC_ProceduresSubmitted","PRC_ProceduresSubmittedDiagnosisList"],"sprocsCalledFromBody":["AddPatient","GetProcedureEmailReminder"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":["ProceduresManager.cs.UpdateProcedureSubmit"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates an existing submitted procedure record with modified details.","businessPurpose":"Handles procedure submission edits where a trainee or administrator modifies previously submitted case log data.","optimizationRecommendations":["Replace custom SplitIDs/fnSplit UDF calls with STRING_SPLIT (SQL Server 2016+) or table-valued parameters to eliminate scalar UDF overhead"],"migrationRelevance":"high"},{"name":"UpdateShortTextValues","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PrimaryKey","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Value","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ShortTextValues"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"PRC","summary":"Updates existing short text custom field values for a submitted procedure.","businessPurpose":"Modifies the short text custom field data when a trainee edits a previously submitted procedure.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateSubmitedProcedure","schema":"dbo","parameters":[{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProcedureID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SupervisorID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CompletedDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ConsentTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresStatusID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ParticipationTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ComplicationTypeID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DateConfirmed","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"}],"lineCount":94,"tablesReferenced":["EVAL_EvaluateEvaluation","PF_EmailTemplate","PRC_ProceduresSubmitted","SCHE_ApplicationEmailSchedules","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Updates a submitted procedure record with comprehensive field modifications including supervisor, status, and custom field data.","businessPurpose":"Core procedure submission update handler that processes all modifications to an existing case log entry, updating clinical details, supervisor assignments, and timestamps.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"UpdateSubmittedProcedureDeletedFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.UpdateSubmittedProcedureDeletedFlag"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Sets or clears the deleted flag on a submitted procedure.","businessPurpose":"Controls the soft-delete state of procedure submissions, used for both deletion and restoration operations.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"UpdateSubmittedProcedureStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProceduresSubmittedID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["EVAL_EvaluateEvaluation","PRC_ProceduresSubmitted"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SubmittedProcedureManager.cs.UpdateSubmittedProcedureStatus"],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Updates the workflow status of a submitted procedure and records the status change.","businessPurpose":"Advances a procedure submission through its lifecycle states (Pending, Accepted, Returned), maintaining the workflow audit trail.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"usp_GetDepartmentPRC_ParticipationTypes","schema":"dbo","parameters":[],"lineCount":17,"tablesReferenced":["PRC_ParticipationTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.GetHashCode"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves participation types for a department as ID-value pairs for dropdown population.","businessPurpose":"Provides a lightweight participation type lookup optimized for populating dropdown controls, replacing inline SQL queries in application code.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"usp_GetDepartmentPRC_Procedures","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["PRC_Procedures"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.GetHashCode"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves procedures for a department as ID-value pairs for dropdown population.","businessPurpose":"Provides a lightweight procedure lookup optimized for populating dropdown controls, replacing inline SQL queries in application code.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"usp_GetDepartmentPTL_CompetenceLevels","schema":"dbo","parameters":[],"lineCount":16,"tablesReferenced":["PTL_CompetenceLevels"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.GetHashCode"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves competence levels for a department as ID-value pairs for dropdown population.","businessPurpose":"Provides a lightweight competence level lookup optimized for populating dropdown controls, replacing inline SQL queries in application code.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"usp_GetDepartmentPTL_Locations","schema":"dbo","parameters":[],"lineCount":15,"tablesReferenced":["PTL_Locations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.GetHashCode"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves locations for a department as ID-value pairs for dropdown population.","businessPurpose":"Provides a lightweight location lookup optimized for populating dropdown controls, replacing inline SQL queries in application code.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"USP_GetPerformanceProceduresAPI_20240219","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null}],"lineCount":304,"tablesReferenced":["PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresSubmitted","SEC_Specialty","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Generates comprehensive performance procedure data for the API, including acceptance breakdown, PGY-level statistics, and certification status.","businessPurpose":"Produces the procedure performance data served by the MyEvaluations API, aggregating submission counts, acceptance rates, and certification progress for external integrations and mobile applications.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Break this large procedure into smaller, focused sub-procedures for better maintainability and query plan reuse"],"migrationRelevance":"medium"},{"name":"usp_GetProcedureSubmittedDetails","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"DATETIME","direction":"IN","defaultValue":null}],"lineCount":164,"tablesReferenced":["MYEVAL_PerformanceUserProcedureSubmitted","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes"],"sprocsCalledFromBody":["usp_GetDepartmentUserPGYLevelPeriodDetails"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves detailed procedure submission data with PGY-level calculations and certification status using WHILE loop iteration.","businessPurpose":"Produces enriched procedure submission details with academic year context and certification progress, used for comprehensive procedure analytics and API responses.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"high"},{"name":"usp_GetPTL_Gender","schema":"dbo","parameters":[],"lineCount":14,"tablesReferenced":["PTL_Gender"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["NiImportManager.cs.GetHashCode"],"complexity":"trivial","aiEnrichment":null,"module":"PRC","summary":"Retrieves gender options as ID-value pairs for dropdown population.","businessPurpose":"Provides a lightweight gender lookup for populating dropdown controls on patient-related forms, replacing inline SQL queries.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"usp_InActiveProcedureQuestions","schema":"dbo","parameters":[{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["PRC_ProceduresSubmittedAnswers"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"PRC","summary":"Deactivates procedure-specific evaluation questions by updating their active status.","businessPurpose":"Removes procedure question linkages when evaluation questions are no longer needed for a procedure, supporting question lifecycle management.","optimizationRecommendations":[],"migrationRelevance":"medium"},{"name":"usp_RefreshPerformanceProcedure_API","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null}],"lineCount":302,"tablesReferenced":["MYEval_PerformanceProcedureDetails","PRC_Patients","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Departments","SEC_Specialty","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetPGYLevelsByDepartmentID"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Refreshes the cached performance procedure data for the API by recalculating submission statistics and certification status using WHILE loop iteration.","businessPurpose":"Maintains the cached procedure performance data that the API serves, running periodic recalculations to keep the API response data current with the latest submissions.","optimizationRecommendations":["Replace WHILE loop iteration with set-based operations to reduce row-by-row overhead","Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters"],"migrationRelevance":"medium"},{"name":"usp_UserSubmittedProcedures","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@PGYStartDate","dataType":"DATETIME","direction":"IN","defaultValue":null},{"name":"@PGYEndDate","dataType":"DATETIME","direction":"IN","defaultValue":null},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@PeriodStartDate","dataType":"DATETIME","direction":"IN","defaultValue":null},{"name":"@periodEndDate","dataType":"DATETIME","direction":"IN","defaultValue":null}],"lineCount":62,"tablesReferenced":["MYEval_PerformanceTaskCompletion","PRC_Patients","PRC_Procedures","PRC_ProceduresSubmitted","PRC_ProceduresSubmittedStatusTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Retrieves and calculates user-level procedure submission statistics including completion percentages.","businessPurpose":"Produces the user procedure completion summary used for performance tracking dashboards and the task completion widget.","optimizationRecommendations":[],"migrationRelevance":"high"},{"name":"VerifyProcedureCertification_1","schema":"dbo","parameters":[{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":360,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","PRC_SupervisionRequirements","SEC_Certifications","SEC_Departments","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus_1"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Verifies and calculates the procedure certification status for a user across all procedures in their department (version 1).","businessPurpose":"Core certification verification engine that evaluates whether a trainee has met all procedure requirements for certification, checking submission counts against thresholds and updating certification records.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"medium"},{"name":"VerifyProcedureCertification_TEST","schema":"dbo","parameters":[{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":355,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","PRC_SupervisionRequirements","SEC_Certifications","SEC_Departments","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Test variant of procedure certification verification logic.","businessPurpose":"Development/testing version of the certification verification engine, used to validate certification calculation changes before production deployment.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"low"},{"name":"VerifyProcedureCertification1","schema":"dbo","parameters":[{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":367,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","PRC_SupervisionRequirements","SEC_Certifications","SEC_Departments","SEC_UserCertifications","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"PRC","summary":"Verifies and calculates the procedure certification status for a user across all procedures (production version).","businessPurpose":"Primary certification verification engine that evaluates whether a trainee has met all procedure requirements, generating certification status records with competency report integration.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"},{"name":"VerifyProcedureCertification22","schema":"dbo","parameters":[{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":355,"tablesReferenced":["PRC_LevelsOfSupervision","PRC_ProcedureCategories","PRC_Procedures","PRC_ProceduresCertificationStatus","PRC_ProceduresCertificationStatusTypes","PRC_ProceduresSubmitted","PRC_ReportLanguages","PRC_SupervisionRequirements","SEC_Certifications","SEC_Departments","SEC_UserCertifications","SEC_UserTypes"],"sprocsCalledFromBody":["GetProcedureCertificationStatus"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"PRC","summary":"Verifies and calculates the procedure certification status for a user (version 22 with updated logic).","businessPurpose":"Updated certification verification engine with refined threshold calculations and certification status determination logic.","optimizationRecommendations":["Add appropriate indexes on temp tables immediately after population to speed up downstream joins and filters","Cache linked department results in a temp table at the start to avoid repeated function calls across multiple queries"],"migrationRelevance":"high"}]}