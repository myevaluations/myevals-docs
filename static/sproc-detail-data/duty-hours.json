{"module":"DH","displayName":"Duty Hours","procedureCount":611,"procedures":[{"name":"Add1in7UserViolationForAveragedNo","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@WeekStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@WeekEndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"Int","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CRWeekDays","dataType":"int","direction":"IN","defaultValue":null}],"lineCount":476,"tablesReferenced":["DH_DepartmentActivities","DH_UserTimeSheetViolations","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new user violation for averaged no records; uses temporary tables, joins 9+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"Add1in7UserViolationForAveragedYes","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@WeekStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@WeekEndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":918,"tablesReferenced":["Add1in7UserViolationForAveragedYes_Log","DH_AmionScheduleRotationAssignments","DH_AveragedForViolations","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new user violation for averaged yes records; uses temporary tables, joins 8+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"Add80HrViolationForAveragedYes","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@WeekStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@WeekEndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":654,"tablesReferenced":["Add80HrViolationForAveragedYes_Log","DH_AmionScheduleRotationAssignments","DH_AveragedForViolations","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new hr violation for averaged yes records; uses temporary tables, joins 8+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"AddActivityDutyHoursToRotation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsOvernight","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":66,"tablesReferenced":["DH_DepartmentRotationActivities"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.SaveRotationDutyHours"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new activity duty hours to rotation records; uses temporary tables.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionCalls","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CallName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@CallUniqueID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["DH_AmionTangierCalls"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Inserts new amion calls records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionClinics","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ClinicName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ClinicUniqueID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["DH_AmionTangierClinics"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion clinics records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionRotations","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@RotationUniqueID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["DH_AmionTangierRotations"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion rotations records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionSchedule","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CurrentYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":76,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionSchedule_LogEvent","DH_AmionTangierCalls","DH_AmionTangierClinics","DH_AmionTangierRotations","DH_AmionTangierUsers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleActivities","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MainDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@CombinationID","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["DH_AmionScheduleActivities"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule activities records.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleByDepartmentID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@RotationTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@ClinicTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@CallTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@RotationAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@CrossCoverAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@ClinicAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@CallAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@ShiftDetailsTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@LastUpdatedDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":552,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_AmionTangierCalls","DH_AmionTangierClinics","DH_AmionTangierRotations","DH_AmionTangierUsers","OnCallClinicDetail_History","OnCallDetail_History","OnCallRotationDetail_History","OnCallUserDetail_History"],"sprocsCalledFromBody":["ExcuseConferenceUserAttendanceFromScheduler","GetLastUpdatedDatesForSchedules","spLOG_ErrorHandling"],"crudType":"insert","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.GenerateAmionSchedule"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule by departmentid records; uses cursor-based row processing, employs dynamic SQL, uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 20+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"high"},{"name":"AddAmionScheduleByDepartmentID_NEW","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@RotationTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@ClinicTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@CallTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@RotationAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@CrossCoverAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@ClinicAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@CallAssignTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@ShiftDetailsTable","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@LastUpdatedDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsManual","dataType":"VerySmallNumber","direction":"IN","defaultValue":null}],"lineCount":643,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleCallAssignments_History","DH_AmionScheduleClinicAssignments","DH_AmionScheduleClinicAssignments_History","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleCrossCoverAssignments_History","DH_AmionScheduleRotationAssignments","DH_AmionScheduleRotationAssignments_History","DH_AmionScheduleShiftAssignments","DH_AmionScheduleShiftAssignments_History","DH_AmionTangierCalls","DH_AmionTangierClinics","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_MyGMEAssignments","DH_SyncAMIONRotations","DH_SyncAMIONUsers","OnCallClinicDetail_History","OnCallDetail_History","OnCallRotationDetail_History","OnCallUserDetail_History"],"sprocsCalledFromBody":["ExcuseConferenceUserAttendanceFromScheduler","GetLastUpdatedDatesForSchedules","SendScheduleInCorrectDataNotifications","UpdateTheSyncDataforAccuracy","spLOG_ErrorHandling"],"crudType":"insert","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.AddAmionScheduleByDepartmentID"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule by departmentid_new records; uses cursor-based row processing, employs dynamic SQL, uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 42+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"high"},{"name":"AddAmionScheduleCallAssignments","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionUserID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AmionRotationID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ToDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AmionCallUniqueID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@RotationName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@CallName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_AmionScheduleCallAssignments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule call assignments records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleClinicAssignments","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionUserID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ToDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AmionClinicID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["DH_AmionScheduleClinicAssignments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule clinic assignments records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleCrossCoverAssignments","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionUserID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AmionRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ToDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@UserName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_AmionScheduleCrossCoverAssignments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule cross cover assignments records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleOneWeekResults","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CombinationID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ShiftCount","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["DH_AmionScheduleOneWeekResults"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule one week results records.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleRotationAssignments","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionUserID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AmionRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ToDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@UserName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_AmionSchedule_LogEvent"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule rotation assignments records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionScheduleRotationBlocks","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@BlockNo","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["DH_AmionScheduleRotationBlocks"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion schedule rotation blocks records.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddAmionUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@UserUniqueID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserBackupID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":28,"tablesReferenced":["DH_AmionTangierUsers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new amion users records; uses temporary tables.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddCCConferenceScheduleTemplate","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_CCConferenceScheduleTemplate"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Adding Clincs/conference Schedule Template; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddCCEvaluation","schema":"dbo","parameters":[{"name":"@ScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CCTrackTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":65,"tablesReferenced":["DH_CCEvaluation","DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Insert/delete evaluations for the Clinics/conference module; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddCCSchedulePresenters","schema":"dbo","parameters":[{"name":"@ConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":47,"tablesReferenced":["CME_ScheduleTemplateLecturers","DH_ConferenceSchedulePresenters","DH_ConferenceScheduleTemplatePresenters"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Scheduleing Clinics/conference Presenters; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddCompletionQueue","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_CompletionQueue"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.SaveRotationDutyHours"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Inserts new completion queue records.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferenceBulkPresenters","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":60,"tablesReferenced":["DH_ConferenceGuests","DH_ConferenceSchedulePresenters","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new conference bulk presenters records; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddConferenceDailyRecurring","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":28,"tablesReferenced":["DH_ConferenceDailyRecurring"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new conference daily recurring records.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferenceEvaluationAnswer","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluationId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QuestionId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AnswerId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Comments","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@LecturerID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":73,"tablesReferenced":["DH_CCConferenceTemplate","DH_CCConferenceTemplateQuestion","DH_CCEvaluation","DH_CCEvaluationAnswer","DH_ConferenceSchedulePresenters","EVAL_Answers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new conference evaluation answer records; uses temporary tables.","businessPurpose":"Records new data in the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"AddConferenceEvaluationComments","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluationId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluatorComments","dataType":"LargeText","direction":"IN","defaultValue":"NULL"}],"lineCount":36,"tablesReferenced":["DH_CCEvaluationComments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new conference evaluation comments records; uses temporary tables.","businessPurpose":"Records new data in the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"AddConferenceEvaluationLO","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluationId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QuestionId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AnswerId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["DH_CCConferenceTemplate","DH_CCConferenceTemplateQuestion","DH_CCEvaluation","DH_CCEvaluationLearningObjectives","EVAL_Answers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new conference evaluationlo records; uses temporary tables.","businessPurpose":"Records new data in the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferenceExcusedRotations","schema":"dbo","parameters":[{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ExcusedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["DH_DepartmentConferencesRotations"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new conference excused rotations records; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"AddConferenceMonthlyRecurring","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatBy","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":31,"tablesReferenced":["DH_ConferenceMonthlyRecurring"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new conference monthly recurring records.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferencePortfolioDocument","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@CreatedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PFDocumentID","dataType":"LargeNumber","direction":"OUTPUT","defaultValue":null}],"lineCount":266,"tablesReferenced":["PF_DocumentCreditSubject","PF_Subjects","PF_UserDocuments","SEC_Users"],"sprocsCalledFromBody":["AddConferencePFUserDocument","AddPFCreditSubjectForDepartment"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SaveConferenceDocument"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Adding CCTrack Portfolio Document; uses temporary tables, processes XML data, wrapped in explicit transaction.","businessPurpose":"Records new data in the Conference Portfolio subsystem, managing portfolio documentation associated with conference participation and professional development.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"AddConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@PFDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":"1"},{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsDocumentAttachToAllDates","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsAccessibleToAttendees","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@LastUpdatedMode","dataType":"SmallNumber","direction":"IN","defaultValue":"1"},{"name":"@SortBy","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"OUTPUT","defaultValue":null},{"name":"@DepartmentConferenceScheduleIDExist","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@CMEScheduleId","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@IsCheckInFeatureEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@LocalStartTime","dataType":"datetime","direction":"IN","defaultValue":"null"},{"name":"@LocalEndTime","dataType":"datetime","direction":"IN","defaultValue":"null"},{"name":"@Acknowledgment","dataType":"LargeText","direction":"IN","defaultValue":"Null"},{"name":"@Disclosure","dataType":"LargeText","direction":"IN","defaultValue":"Null"},{"name":"@AccreditationStatement","dataType":"LargeText","direction":"IN","defaultValue":"Null"}],"lineCount":127,"tablesReferenced":["DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new conference schedule records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddConferenceScheduleLearningObjective","schema":"dbo","parameters":[],"lineCount":24,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Assigning Learning Objectives in Clinics/Conferece Module; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferenceSchedulePresenters","schema":"dbo","parameters":[{"name":"@ConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceScheduleTemplatePresenters"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Scheduleing Clinics/conference Presenters; uses temporary tables.","businessPurpose":"Records new data in the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferencesScheduleTemplate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatIntervalType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@PFDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CCConferenceTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"OUTPUT","defaultValue":null}],"lineCount":67,"tablesReferenced":["DH_ConferenceScheduleTemplates"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new conferences schedule template records.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"AddConferenceTemplateBulkPresenters","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["DH_ConferenceGuests","DH_ConferenceScheduleTemplatePresenters","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new conference template bulk presenters records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddConferenceTemplateBulkUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["DH_ConferenceScheduleTemplateUsers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new conference template bulk users records; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddConferenceUserAttendance","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":227,"tablesReferenced":["CME_ScheduleTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUsersListLogged","QUIZ_Assignment","QUIZ_AssignmentUsers","SEC_EventDetail","SEC_Events","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new conference user attendance records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"AddConferenceUserAttendance10032013","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":117,"tablesReferenced":["DH_CCEvaluation","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","QUIZ_Assignment","QUIZ_AssignmentUsers","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new conference user attendance10032013 records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"AddConferenceWeeklyRecurring","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":43,"tablesReferenced":["DH_ConferenceWeeklyRecurring"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new conference weekly recurring records.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDefaultDepartmentACGMERule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["DH_ACGMERules","DH_DepartmentACGMERules","DH_ProgramACGMERules","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new default departmentacgme rule records; uses temporary tables.","businessPurpose":"Records new data in the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDefaultDepartmentComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new default department compliance settings records; uses temporary tables.","businessPurpose":"Records new data in the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDefaultDepartmentExcludedActivityCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":54,"tablesReferenced":["DH_ExcludedActivityCategoryForPGY","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new default department excluded activity category records; uses temporary tables.","businessPurpose":"Records new data in the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDefaultDepartmentRotationBlocks","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MinimuYear","dataType":"BigNumber","direction":"IN","defaultValue":"2005"},{"name":"@CurrentAcademicYear","dataType":"BigNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":129,"tablesReferenced":["DH_DepartmentBlocks"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.AddCurrentYearDepartmentRotationBlocks"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new default department rotation blocks records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddDefaultDepartmentRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["DH_DepartmentRotations","DH_RotationBase"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new default department rotations records; uses temporary tables.","businessPurpose":"Records new data in the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDefaultStartDayForDutyHoursByDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DefaultStartDay","dataType":"VerySmallNumber","direction":"IN","defaultValue":null}],"lineCount":28,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.SaveDefaultStartDayForDutyHoursByDepartment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new default start day for duty hours by department records; uses temporary tables.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"AddDepartmentACGMERule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RuleValue","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsAveraged","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":120,"tablesReferenced":["DH_DepartmentACGMERules"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new departmentacgme rule records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddDepartmentActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AbbreviatedName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ActivityCategorySettingID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsDisabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new department activity records; uses temporary tables.","businessPurpose":"Records new data in the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDepartmentClinics","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsDisabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@AmionUniqueID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionBackupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionClinicName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ValidFromDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":45,"tablesReferenced":["DH_DepartmentClinics","DH_SyncAMIONClinics"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new department clinics records; uses temporary tables.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDepartmentComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityCategorySettingsID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null}],"lineCount":123,"tablesReferenced":["DH_AveragedForViolationsHistory","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":["GetUserViolationByDateRange"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new department compliance settings records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"AddDepartmentConferences","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsShared","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@IsDisabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ExcusedRotations","dataType":"LargeText","direction":"IN","defaultValue":"NULL"},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsCheckInFeatureEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":77,"tablesReferenced":["DH_ActivityCategorySettings","DH_DepartmentActivities","DH_DepartmentConferences","Prep_ClinicNames"],"sprocsCalledFromBody":["AddConferenceExcusedRotations"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new department conferences records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddDepartmentConferencesSchedules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatIntervalType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatBy","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@QuizDueDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@CCConferenceTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConflictDates","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":null},{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsDocumentAttachToAllDates","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsAccessibleToAttendees","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@SortBy","dataType":"verysmallnumber","direction":"IN","defaultValue":"0 --Added by Amit 6/20/2016 1 means SortBy \"Department & LastName\" and 0 means LastName"},{"name":"@IsCheckInFeatureEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":306,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","DH_CCConferenceScheduleTemplate","DH_ConferenceScheduleTemplateUsers","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":["AddConferenceBulkPresenters","AddConferenceDailyRecurring","AddConferenceMonthlyRecurring","AddConferenceQuizAssignments","AddConferenceSchedule","AddConferenceSchedulePresenters","AddConferenceTemplateBulkPresenters","AddConferenceTemplateBulkUsers","AddConferenceUserAttendance","AddConferenceWeeklyRecurring","AddConferencesScheduleTemplate","ImportOncallToScheduleManagement","SaveConferenceScheduleAuditTrailInfo","UpdateDH_ConferenceUserAttendance"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new department conferences schedules records; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"AddDepartmentConferencesSchedulesForImport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatIntervalType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatBy","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@QuizDueDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@CCConferenceTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConflictDates","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":null},{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsDocumentAttachToAllDates","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsAccessibleToAttendees","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"}],"lineCount":264,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","DH_CCConferenceScheduleTemplate","DH_ConferenceScheduleTemplateUsers","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":["AddConferenceBulkPresenters","AddConferenceDailyRecurring","AddConferenceMonthlyRecurring","AddConferenceQuizAssignments","AddConferenceSchedule","AddConferenceSchedulePresenters","AddConferenceTemplateBulkPresenters","AddConferenceTemplateBulkUsers","AddConferenceUserAttendance","AddConferenceWeeklyRecurring","AddConferencesScheduleTemplate","UpdateDH_ConferenceUserAttendance"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new department conferences schedules for import records; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"AddDepartmentConferencesSchedulesForSummary","schema":"dbo","parameters":[{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatIntervalType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatBy","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@QuizDueDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@CCConferenceTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConflictDates","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":null},{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsDocumentAttachToAllDates","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsAccessibleToAttendees","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"}],"lineCount":287,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","DH_CCConferenceScheduleTemplate","DH_ConferenceScheduleTemplateUsers","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","QUIZ_Assignment"],"sprocsCalledFromBody":["AddConferenceBulkPresenters","AddConferenceQuizAssignments","AddConferenceSchedule","AddConferenceSchedulePresenters","AddConferenceTemplateBulkPresenters","AddConferenceTemplateBulkUsers","AddConferenceUserAttendance","UpdateDH_ConferenceUserAttendance"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new department conferences schedules for summary records; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"AddDepartmentExplanation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":["DH_DepartmentExplanations"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationExplanationManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new department explanation records; uses temporary tables.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDepartmentGeofenceNames","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SiteNameID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@GeofenceName","dataType":"varchar(50)","direction":"IN","defaultValue":null},{"name":"@GeofenceDescription","dataType":"varchar(250)","direction":"IN","defaultValue":"NULL"},{"name":"@Latitude","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Longitude","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Radiusmts","dataType":"Decimal(18, 8)","direction":"IN","defaultValue":null},{"name":"@Radiusfts","dataType":"Decimal(18, 8)","direction":"IN","defaultValue":null},{"name":"@ActivityId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserTypeIds","dataType":"varchar(50)","direction":"IN","defaultValue":null},{"name":"@AddedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@InstitutionalID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityTypeIds","dataType":"VARCHAR(100)","direction":"IN","defaultValue":"NULL"},{"name":"@CenterLatitude","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@CenterLongitude","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":244,"tablesReferenced":["DH_DepartmentGeofenceNames","DH_GeofenceShapes","SEC_Departments"],"sprocsCalledFromBody":["CheckProximityWarning"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":["GeofenceNamesManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new department geofence names records; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"AddDepartmentRotationVerificationSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableVerificationAttending","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableVerificationSeniorResidents","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableVerificationNurse","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableVerificationOthers","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsMultiVerificationAttending","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsMultiVerificationSeniorResidents","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsMultiVerificationNurse","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsMultiVerificationOthers","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":266,"tablesReferenced":["DH_DepartmentRotationVerification","DH_DepartmentRotationVerificationActivities"],"sprocsCalledFromBody":["GetDepartmentRotations"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.SaveDepartmentRotationVerificationSettings"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"To Insert Department Rotation Verification Settings; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"AddDHAdmin","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["DH_ComplianceAdmin","SEC_DepartmentInstitution","SEC_Departments","SEC_InstitutionUsers","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AdminsManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new admin records; uses temporary tables.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddDHVerificationInfo","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":737,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_DepartmentRotationVerification","DH_DepartmentRotationVerificationActivities","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","DH_UserVerification","Prep_BuildSchedules","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetMaxPGYforDepartment"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Add Overlap data for user with superviosor(Attending) based on Shift/Rotation; uses temporary tables, joins 65+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Duty Hours Verification subsystem, ensuring accuracy of logged duty hours through supervisor review and attestation workflows.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 65+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"AddGroupParticipants","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@IsAdminSpecialGroup","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":57,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_EventDetail","SEC_Events","SEC_Users"],"sprocsCalledFromBody":["InsertMedcomCacheUsers"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new group participants records; uses temporary tables.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddGuestPresenters","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TitleID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Suffix","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@FirstName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["DH_ConferenceGuests"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GuestManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new guest presenters records; uses temporary tables.","businessPurpose":"Records new data in the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddMatchedActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONCallName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["DH_SyncAMIONCalls"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionOnCallManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new matched activity records; uses temporary tables.","businessPurpose":"Records new data in the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddMatchedClinic","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONClinicName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentClinicID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["DH_SyncAMIONClinics"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionClinicManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new matched clinic records.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddMatchedRotation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONRotationName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@OnCallServiceID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":137,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionRotationManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new matched rotation records; uses temporary tables, joins 17+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 17+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"AddMatchedUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONUserName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONStaffTypeUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@OnCallServiceID","dataType":"LargeNumber","direction":"IN","defaultValue":"1"}],"lineCount":47,"tablesReferenced":["DH_SyncAMIONUsers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionUserManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new matched user records; uses temporary tables.","businessPurpose":"Records new data in the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"AddMilestonePeriod","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PeriodNum","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@PeriodStartdate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@PeriodEnddate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@OutcomeGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MilestonePeriodID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@DepartmentOutcomeGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"},{"name":"@MilestoneGroupIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelfAssessmentDueDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"}],"lineCount":276,"tablesReferenced":["EVAL_CurricularWorksheetData","EVAL_MilestonePeriod"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.SaveData"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserting new record from Evaluation module's SetupDutyHourRotationBlocks; uses temporary tables, joins 6+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Milestone Tracking subsystem, connecting milestone competency assessments with rotation-based educational milestones.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"AddProgramACGMERule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@RuleValue","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsAveraged","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ExcludeUpdateDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":43,"tablesReferenced":["DH_ProgramACGMERules"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Inserts new programacgme rule records; uses temporary tables.","businessPurpose":"Records new data in the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"AddQgendaScheduleByDepartmentID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ValidFromDate","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@ValidToDate","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@IsManual","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@PasswordType","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":270,"tablesReferenced":["DH_QGendaSchedule","DH_QGendaScheduleLocationTags","DH_QGendaScheduleRotations","DH_QGendaScheduleStaffTags","DH_QGendaScheduleTaskTags","DH_QgendaRoles","DH_QgendaScheduleEntry","DH_QgendaScheduleEntry_DeletedHistory","DH_QgendaStaffmember","DH_QgendaTaskRoles","DH_QgendaTasks"],"sprocsCalledFromBody":["GetLastUpdatedDatesForSchedules"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveQGendaScheduleManager.cs.fnStoredProc"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Inserts new qgenda schedule by departmentid records; uses temporary tables, joins 19+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Simplify the query plan by breaking down the 19+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"AddRotationBlock","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockNum","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartdate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEnddate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DefaultRotationBlockCount","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":201,"tablesReferenced":["ACT_Sessions","DH_DepartmentBlocks","Prep_CampusLocationSessions","Prep_CampusLocations","Prep_ClusterNames","SEC_DepartmentTrainingTypes","SEC_TrainingTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":4,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new rotation block records; uses temporary tables, joins 16+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Simplify the query plan by breaking down the 16+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"AddTangierSchedule","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"bigint","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"varchar(4)","direction":"IN","defaultValue":"NULL"}],"lineCount":71,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionSchedule_LogEvent","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_CompletionQueue","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Inserts new tangier schedule records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Tangier/External Schedule Integration subsystem, enabling schedule import from the Tangier scheduling platform for external schedule integration.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"ApplyProgramDHRulesByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SearchDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":166,"tablesReferenced":["DH_DepartmentACGMERules","DH_DepartmentComplianceSettings","DH_ExcludedActivityCategoryForPGY","DH_ProgramACGMERules","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Applies programdh rules by criteria; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"ApplyProgramDutyHoursRules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null}],"lineCount":111,"tablesReferenced":["DH_DepartmentACGMERules","DH_DepartmentComplianceSettings","DH_ExcludedActivityCategoryForPGY","DH_ProgramACGMERules","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.ApplyDefaultProgramDutyHoursRules"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Applies program duty hours rules; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"AutoUpdateSignInSheet","schema":"dbo","parameters":[],"lineCount":37,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Get max number of days to verify conference from department setting after conference date, then auto-update the signing sheet.  Any person not marked as present/Excused is then marked as absent; uses temporary tables.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"CancelScheduleRequest","schema":"dbo","parameters":[{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":76,"tablesReferenced":["DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.CancelScheduleRequest"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Cancel Schedule; uses temporary tables, joins 10+ tables, processes XML data.","businessPurpose":"Supports the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"CheckAvailabilityTopicCategoryName","schema":"dbo","parameters":[{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TopicCategoryName","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.CheckAvailabilityTopicCategoryName"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Check availability of Topic Category name in the database; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Conference Topics subsystem, organizing conference content by topic categories for reporting and curriculum tracking.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"CheckConferenceScheduleExists","schema":"dbo","parameters":[{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceStartTime","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.CheckConferenceScheduleExists"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Validates conference schedule exists; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"CheckDHRotationBlockCalendarMapWithSetup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedAcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":77,"tablesReferenced":["DH_DepartmentBlocks","Prep_CampusLocationSessions","SEC_Departments"],"sprocsCalledFromBody":["usp_TraceUsersToRefreshTraineeSchedules"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.CheckDHRotationBlockCalendarMapWithSetup"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Check default calendar startdate match with first dy of academic year; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Validates data integrity or business rules within the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"CheckDutyHourAdminUserExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["DH_ComplianceAdmin"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.CheckDutyHoursAdminUserExist"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Validates duty hour admin user exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"CheckDutyHoursAdminUserDepartmets","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["DH_ComplianceAdmin","SEC_Departments","SEC_UserRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.CheckDutyHoursAdminUserDepartmets"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Validates duty hours admin user departmets; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"CheckEvaluationAttendance","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.CheckEvaluationAttendance"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Validates evaluation attendance; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"CheckingAvailableDepartmentConferencesSchedules","schema":"dbo","parameters":[{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatIntervalType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatBy","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ConflictDates","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":383,"tablesReferenced":["DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.CheckingAvailableDepartmentConferencesSchedules"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Validates available department conferences schedules; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Validates data integrity or business rules within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"CheckingConferenceDayAvailability","schema":"dbo","parameters":[{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":52,"tablesReferenced":["DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.CheckingConferenceDayAvailability"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Checking CC Track day availability or not; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"CheckIsAmionScheduleExists","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@UserIDTo","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":214,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Validates is amion schedule exists; uses temporary tables, joins 44+ tables, wrapped in explicit transaction.","businessPurpose":"Validates data integrity or business rules within the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 44+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"CheckIsAmionScheduleExistsDemo","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@UserIDTo","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":244,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleRotationAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_SyncAMIONCalls","DH_SyncAMIONRotations","DH_SyncAMIONUsers"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Validates is amion schedule exists demo; uses temporary tables, joins 38+ tables, wrapped in explicit transaction.","businessPurpose":"Validates data integrity or business rules within the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 38+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"CheckRotationBlockScheduleExists","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_AmionScheduleRotationBlocks"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Validates rotation block schedule exists; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"CheckScheduleConference8DigitByDate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":61,"tablesReferenced":["CME_ScheduleTemplate","DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetScheduleConferenceByDate"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Validates schedule conference8 digit by date; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"ConferenceImporting","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":146,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_UsersExt","tblConferenceUserAttendance"],"sprocsCalledFromBody":["UpdateBulkConferenceScheduleAttendanceStatus"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.ConferenceImporting"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages importing; uses temporary tables, joins 7+ tables, processes XML data.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"medium"},{"name":"CopyConferenceExcusedRotaionsByDepartmentID","schema":"dbo","parameters":[],"lineCount":54,"tablesReferenced":["DH_DepartmentConferences","DH_DepartmentConferencesRotations","SEC_Departments"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Copies conference excused rotaions by departmentid data; uses temporary tables.","businessPurpose":"Duplicates configuration or data within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"CopyDHComplianceSettings","schema":"dbo","parameters":[],"lineCount":107,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivitySettings","DH_DepartmentComplianceSettings","DH_DepartmentComplianceSettings_2017oldRules"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Copies compliance settings data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Duplicates configuration or data within the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"CopyFromGloablComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":68,"tablesReferenced":["DH_DepartmentACGMERules","DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.CopyFromGloablComplianceSettings"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Copies from gloabl compliance settings data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Duplicates configuration or data within the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"CopyGroupparticipants","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.CopyGroupParticipants"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Copies groupparticipants data; uses temporary tables.","businessPurpose":"Duplicates configuration or data within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeclineConferenceEvaluation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["DH_CCEvaluation","DH_CCEvaluationComments"],"sprocsCalledFromBody":["GetDeclineConferenceEvalTemplate"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.DeclineConferenceEvaluation"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Manages conference evaluation; uses temporary tables.","businessPurpose":"Supports the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteAMIONSchedule","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":28,"tablesReferenced":["DH_AmionSchedule"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.DeleteAmionSchudule"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Delete AMION Schedule; uses temporary tables.","businessPurpose":"Removes data from the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteCCPFUserDocument","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PFDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["DH_ConferenceSchedules","PF_UserDocuments"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deleting Clinics/conference Portfolio document; uses temporary tables.","businessPurpose":"Removes data from the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteConferenceDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":98,"tablesReferenced":["DH_ActivityCategorySettings","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_UserTimesheet","DH_UserTimesheetDeleteLog","DH_UserTimesheetSub"],"sprocsCalledFromBody":["GetUserViolationByDateRange","spLOG_ErrorHandling"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Deletes conference duty hours records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency."],"migrationRelevance":"medium"},{"name":"DeleteConferenceEvaluationAnswer","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_CCEvaluationAnswer"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes conference evaluation answer records; uses temporary tables.","businessPurpose":"Removes data from the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DeleteConferenceEvaluationComments","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_CCEvaluationComments"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes conference evaluation comments records; uses temporary tables.","businessPurpose":"Removes data from the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DeleteConferenceEvaluationLO","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_CCEvaluationLearningObjectives"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes conference evaluationlo records; uses temporary tables.","businessPurpose":"Removes data from the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DeleteConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":[],"sprocsCalledFromBody":["DeleteCMEScheduleByDepartmentConferenceScheduleID","RemoveAllConferenceAssignPresenters","RemoveAllConferenceUserAttendance","RemoveConferenceSchedule","SaveConferenceScheduleAuditTrailInfo"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.DeleteConfereneceSchedule"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes conference schedule records; uses temporary tables.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteConferenceScheduleByIDs","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":606,"tablesReferenced":["CME_Evaluation","CME_EvaluationComments","CME_EvaluationConflicts","CME_EvaluationLearningObjectives","CME_EvaluationTopicCredits","CME_ScheduleLearningObjectives","CME_ScheduleTemplate","CME_ScheduleTemplateLecturers","CME_ScheduleTemplateSpeakerCredits","CME_ScheduleTemplateTopics","DH_ConferenceDailyRecurring","DH_ConferenceMonthlyRecurring","DH_ConferenceSchedulePresenters","DH_ConferenceScheduleTemplatePresenters","DH_ConferenceScheduleTemplateUsers","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceWeeklyRecurring","DH_DepartmentConferences","DH_IndividualConference","QUIZ_Assignment","QUIZ_AssignmentUsers"],"sprocsCalledFromBody":["SaveConferenceScheduleAuditTrailInfo","spLOG_ErrorHandling"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":["ConferenceSchedulesManager.cs.DeleteConferenceScheduleByIDs"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Deletes conference schedule byi ds records; uses temporary tables, joins 178+ tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 178+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"DeleteDepartmentActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.Delete"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes department activity records; uses temporary tables.","businessPurpose":"Removes data from the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"DeleteDepartmentClinicInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentClinicID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["DH_DepartmentClinics","DH_SyncAMIONClinics"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.Delete"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes department clinic info records; uses temporary tables.","businessPurpose":"Removes data from the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteDepartmentComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentComplianceSettingID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityCategorySettingsID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":43,"tablesReferenced":["DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes department compliance settings records; uses temporary tables.","businessPurpose":"Removes data from the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteDepartmentExplanation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_DepartmentExplanations"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationExplanationManager.cs.Delete"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes department explanation records.","businessPurpose":"Removes data from the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"DeleteDepartmentGeofenceName","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentGeofenceNameID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["DH_DepartmentGeofenceNames","DH_GeofenceShapes"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GeofenceNamesManager.cs.DeleteGeofenceNames"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes department geofence name records.","businessPurpose":"Removes data from the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteDepartmentRotation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":102,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONRotations_History","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.Delete"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Deletes department rotation records; uses temporary tables, joins 7+ tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"DeleteDepartmentRotationActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_DepartmentRotationActivities"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.SaveRotationDutyHours"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes department rotation activity records; uses temporary tables.","businessPurpose":"Removes data from the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteDepartmentRotationBlocks","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@BlockNumber","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":52,"tablesReferenced":["ACT_Sessions","DH_DepartmentBlocks","Prep_CampusLocationSessions"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.DeleteDeprtmentBlocks"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Deletes department rotation blocks records.","businessPurpose":"Removes data from the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteDHAdmin","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":54,"tablesReferenced":["DH_ComplianceAdmin","SEC_DepartmentInstitution","SEC_Departments","SEC_InstitutionUsers","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AdminsManager.cs.Save"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Deletes admin records; uses temporary tables.","businessPurpose":"Removes data from the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteGroupParticipantsInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":[],"sprocsCalledFromBody":["RemoveCMEGroup"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.Delete"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes group participants info records; uses temporary tables.","businessPurpose":"Removes data from the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DeleteMatchedActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SyncID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_SyncAMIONCalls","DH_SyncAMIONCalls_History"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionOnCallManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes matched activity records; uses temporary tables.","businessPurpose":"Removes data from the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteMatchedClinic","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SyncID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["DH_SyncAMIONClinics"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionClinicManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes matched clinic records; uses temporary tables.","businessPurpose":"Removes data from the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteMatchedRotation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SyncID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SyncIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@AMIONBackupIDs","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":101,"tablesReferenced":["DH_SyncAMIONRotations","DH_SyncAMIONRotations_History","EVAL_Evaluations","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionRotationManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Deletes matched rotation records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"DeleteMatchedUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SyncID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@AMIONUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONBackupID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@AMIONStaffTypeUniqueID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":76,"tablesReferenced":["DH_SyncAMIONUsers","DH_SyncAMIONUsers_history","SEC_DepartmentsAmionCredentials"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionUserManager.cs.Save"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Deletes matched user records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"DeleteMilestonePeriod","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@OutcomeGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentOutcomeGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":37,"tablesReferenced":["EVAL_MilestonePeriod"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.DeleteMilestonePeriod"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deleting from EVAL_MilestonePeriod.","businessPurpose":"Removes data from the Milestone Tracking subsystem, connecting milestone competency assessments with rotation-based educational milestones.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteOrRestoreCCTopicCategory","schema":"dbo","parameters":[{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DeletedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.DeleteOrRestoreCCTopicCategory"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Delete or Restore Conference Topic Category By TopicCategoryID; uses temporary tables.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteQGendaTasks","schema":"dbo","parameters":[],"lineCount":45,"tablesReferenced":["DH_QGendaSchedule","DH_QgendaTasks"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes genda tasks records; uses temporary tables.","businessPurpose":"Removes data from the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DeleteUncompleteConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":57,"tablesReferenced":["DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":["DeleteConferenceSchedule"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.DeleteConfereneceScheduleTemplate"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Deletes uncomplete conference schedule records; uses temporary tables.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"DeleteUserTimeSheetViolationDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"DATETIME","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"DATETIME","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["DH_UserTimeSheetViolations"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Deletes user time sheet violation details records; uses temporary tables.","businessPurpose":"Removes data from the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DoesActivityAbbreviationExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Abbreviation","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.DoesActivityAbbreviationExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether activity abbreviation exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DoesActivityNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.DoesActivityNameExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether activity name exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DoesClinicNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentClinicID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["DH_DepartmentClinics"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.DoesClinicNameExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether clinic name exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DoesConferenceNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.DoesConferenceNameExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether conference name exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DoesDepartmentExplanationExists","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Explanation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentExplanationID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["DH_DepartmentExplanations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationExplanationManager.cs.DoesViolationExplanationExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether department explanation exists; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DoesGroupNameCopyExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_DepartmentCMEGroup"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.DoesGroupNameCopyExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether group name copy exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"DoesGroupNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":63,"tablesReferenced":["DH_DepartmentCMEGroup","PRC_ProceduresSupervisors"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.DoesGroupNameExist"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Checks whether group name exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"DoesRotationNameExist","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@PageMode","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@CampusLocationID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":42,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.DoesRotationNameExist"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether rotation name exist; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"EvaluateConferenceEvaluation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluationId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsPartialCompleted","dataType":"VerySmallNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_CCEvaluation"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Manages conference evaluation; uses temporary tables.","businessPurpose":"Supports the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"ExcuseConferenceUserAttendanceFromScheduler","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":113,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","DH_DepartmentConferencesRotations","DH_SyncAMIONRotations","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages conference user attendance from scheduler; uses temporary tables, joins 13+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"ExportDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"largeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ExportDutyHourManager.cs.GetDataForDutyHoursExport"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Exports duty hours data; uses temporary tables.","businessPurpose":"Supports the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GenerateActivitiesForDepartmentRotations","schema":"dbo","parameters":[],"lineCount":344,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionScheduleActivities","DH_AmionScheduleOneWeekResults","DH_CompletionQueue","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":13,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates activities for department rotations; uses cursor-based row processing, uses temporary tables, uses CTEs for data organization.","businessPurpose":"Produces computed output for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateActivitiesForRotationWithoutOverLap","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@WeekDayNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":110,"tablesReferenced":["DH_DepartmentRotationActivities","DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Generates activities for rotation without over lap; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GenerateCCSummaryConferenceEvaluationReport","schema":"dbo","parameters":[{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":579,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","DH_CCConferenceTemplate","DH_CCConferenceTemplateQuestion","DH_CCEvaluation","DH_CCEvaluationAnswer","DH_CCEvaluationComments","DH_CCEvaluationLearningObjectives","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","EVAL_AnswerScales","EVAL_AnswerTypes","EVAL_Answers","EVAL_Questions","EVAL_QuestionsCategories","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetSummaryConferenceEvaluationResults"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates summary conference evaluation report; employs dynamic SQL, uses temporary tables, joins 66+ tables.","businessPurpose":"Produces computed output for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 66+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateCCSummaryConferenceEvaluationReport_Backup","schema":"dbo","parameters":[{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":574,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","DH_CCConferenceTemplate","DH_CCConferenceTemplateQuestion","DH_CCEvaluation","DH_CCEvaluationAnswer","DH_CCEvaluationComments","DH_CCEvaluationLearningObjectives","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","EVAL_AnswerScales","EVAL_AnswerTypes","EVAL_Answers","EVAL_Questions","EVAL_QuestionsCategories","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates summary conference evaluation report_ backup; employs dynamic SQL, uses temporary tables, joins 66+ tables.","businessPurpose":"Produces computed output for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 66+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1551,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionScheduleOneWeekResults","DH_AmionScheduleRotationAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates department completion status report; uses temporary tables, joins 33+ tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 33+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReport_20230216","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1077,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionScheduleOneWeekResults","DH_AmionScheduleRotationAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates department completion status report_20230216; uses temporary tables, joins 42+ tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 42+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReportInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1734,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaCompKeyDepartments","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","Momentum_Assignments","Prep_BuildSchedules","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Created new Approach for the completion status report; uses temporary tables, joins 107+ tables, processes XML data.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 107+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReportInfo_0707","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1730,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaCompKeyDepartments","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","Momentum_Assignments","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Created new Approach for the completion status report; uses temporary tables, joins 112+ tables, processes XML data.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Simplify the query plan by breaking down the 112+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReportInfo_0712","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1708,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaCompKeyDepartments","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","Momentum_Assignments","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Created new Approach for the completion status report; uses temporary tables, joins 99+ tables, processes XML data.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Simplify the query plan by breaking down the 99+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReportInfo_Beta","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1818,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaCompKeyDepartments","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","Momentum_Assignments","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":6,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Created new Approach for the completion status report; uses temporary tables, joins 79+ tables, processes XML data.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Simplify the query plan by breaking down the 79+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentCompletionStatusReportInfo_V2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"BigNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":1530,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaCompKeyDepartments","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","Momentum_Assignments","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Created new Approach for the completion status report; uses temporary tables, joins 91+ tables, processes XML data.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Simplify the query plan by breaking down the 91+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateDepartmentRotationBlocks","schema":"dbo","parameters":[{"name":"@DepartmentIDTo","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"}],"lineCount":186,"tablesReferenced":["DH_DepartmentBlocks","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Generates department rotation blocks; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GenerateDepartmentScheduleDiscrepancyReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BIGNUMBER","direction":"IN","defaultValue":null}],"lineCount":1043,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_AmionTangierUsers","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDiscrepancyReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates department schedule discrepancy report; uses temporary tables, joins 45+ tables, uses CTEs for data organization.","businessPurpose":"Produces computed output for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Simplify the query plan by breaking down the 45+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GenerateDutyHoursRelatedData","schema":"dbo","parameters":[{"name":"@SelectedDepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"}],"lineCount":123,"tablesReferenced":["DH_DepartmentACGMERules","DH_ExcludedActivityCategoryForPGY","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":["AddDefaultDepartmentRotationBlocks","GetDepartmentACGMERules","GetDepartmentComplianceSettings"],"crudType":"mixed","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Generates duty hours related data; uses cursor-based row processing, uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GenerateInstitutionalClinicConferenceCompliance","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@SelectedDepartments","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":231,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_DepartmentInstitution","SEC_Departments","SEC_InstitutionUsers","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GenerateInstitutionalClinicConferenceCompliance"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Generating the  Clinic Conference Compliance Report; uses temporary tables, joins 8+ tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GenerateInstitutionalScheduleDiscrepancyReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentIDs","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":83,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":["GenerateDepartmentScheduleDiscrepancyReport"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDiscrepancyReportData"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Generates institutional schedule discrepancy report; uses temporary tables.","businessPurpose":"Produces computed output for the Institutional Reporting subsystem, providing institution-wide visibility into compliance status across all residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GenerateMySchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ScheduleStart","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":612,"tablesReferenced":["CME_Evaluation","CME_Events","CME_ScheduleTemplate","CME_ScheduleTemplateTopics","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Eval_MilestoneRotationSettings","Prep_BuildSchedules","Prep_CampusLocationSessions","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":["GenerateActivitiesForRotationWithoutOverLap","GenerateOnCallActivitiesWithoutOverLap"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GenerateMyScheduleDetails"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates my schedule; uses temporary tables, joins 40+ tables, uses CTEs for data organization.","businessPurpose":"Produces computed output for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 40+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GenerateMySchedule_API_20241107","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ScheduleStart","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":889,"tablesReferenced":["CME_Evaluation","CME_Events","CME_ScheduleTemplate","CME_ScheduleTemplateTopics","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","EVAL_Evaluations","Eval_MilestoneRotationSettings","LA_Preceptors","Prep_BuildSchedules","Prep_CampusLocationSessions","Prep_SiteNames","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_Roles","SEC_Specialty","SEC_TimeZones","SEC_UserRoles","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GenerateActivitiesForRotationWithoutOverLap","GenerateOnCallActivitiesWithoutOverLap"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates my schedule_api_20241107; uses temporary tables, joins 57+ tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 57+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GenerateMyScheduleForIcal","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":564,"tablesReferenced":["CME_Evaluation","CME_Events","CME_ScheduleTemplate","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Prep_BuildSchedules","Prep_CampusLocationSessions","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["GenerateActivitiesForRotationWithoutOverLap","GenerateOnCallActivitiesWithoutOverLap"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GenerateMyScheduleForIcal"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Generates my schedule for ical; uses temporary tables, joins 45+ tables, processes XML data.","businessPurpose":"Produces computed output for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 45+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GenerateOnCallActivitiesWithoutOverLap","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@WeekDayNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DeptActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":96,"tablesReferenced":["DH_DepartmentRotationActivities"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Generates on call activities without over lap; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Produces computed output for the On-Call Management subsystem, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GenerateTangierSchedules","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":98,"tablesReferenced":[],"sprocsCalledFromBody":["AddTangierSchedule"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.GenerateTangierSchedules"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Generate Tangier schedules for the department; uses temporary tables.","businessPurpose":"Produces computed output for the Tangier/External Schedule Integration subsystem, enabling schedule import from the Tangier scheduling platform for external schedule integration.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAcademicStartYear","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BigInt","direction":"IN","defaultValue":null}],"lineCount":45,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.GetAcademicStartYear","RetrieveQGendaScheduleManager.cs"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves academic start year data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAcademicYearsForRotationBlocks","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.GetAcademicYears"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves academic years for rotation blocks data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetACGMEInfoByRuleID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["DH_DepartmentACGMERules","DH_ProgramACGMERules"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves info by ruleid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetActivities","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":68,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivityColors","DH_ActivitySettings","DH_DepartmentActivities","DH_DepartmentMostUsedActivities","DH_DepartmentRotationActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.GetDepartmentActivities"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves activities data; uses temporary tables, joins 6+ tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain."],"migrationRelevance":"medium"},{"name":"GetActivityCategories","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.FetchActivityCategories"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves activity categories data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetActivityCategoryIDbyActivityID","schema":"dbo","parameters":[{"name":"@ActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetActivityCategoryIDbyActivityID"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves activity categoryi dby activityid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetActivityCategorySettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_ActivityCategorySettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.FetchActivityCategorySettings"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves activity category settings data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetActivityDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":52,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivityColors","DH_DepartmentActivities","DH_DepartmentMostUsedActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetActivityDetails"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves activity details data; uses temporary tables, joins 6+ tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain."],"migrationRelevance":"medium"},{"name":"GetActivityInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":56,"tablesReferenced":["DH_ActivityCategorySettings","DH_ActivityColors","DH_DepartmentActivities","DH_DepartmentMostUsedActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.GetActivityInfoByID"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves activity info byid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetActivityTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetActivityForDepartment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves activity types data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAdministratorNames","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":84,"tablesReferenced":["SEC_DepartmentInstitution","SEC_InstitutionUsers","SEC_Institutions","SEC_Roles","SEC_UserRoles","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAvailableAdministratorsForDepartment","UserManager.cs.GetAdminUserNames"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves administrator names data; uses temporary tables, joins 12+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetAdminsForDutyHourEmailByDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":75,"tablesReferenced":["DH_ComplianceAdmin","SEC_Departments","SEC_InstitutionUsers","SEC_Roles","SEC_UserRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetAdminsForDutyHourEmail"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves admins for duty hour email by department data; uses temporary tables, joins 8+ tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetAllCCSpeakersForReports","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":103,"tablesReferenced":["DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_DepartmentConferences","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAllCCSpeakersForReports"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic Category; uses temporary tables, joins 16+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 16+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetAllCCTopicCategories","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":28,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAllCCTopicCategories"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic Category; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAllCCTopicCategoriesForReports","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":316,"tablesReferenced":["DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":["GetAllCCSpeakersForReports"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAllCCTopicCategoriesForReports"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic Category; uses temporary tables, joins 59+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 59+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetAllCCTopicCategoriesForReportsNew","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":389,"tablesReferenced":["CME_ScheduleTemplate","CME_TopicCategories","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":["GetAllCCSpeakersForReports"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAllCCTopicCategoriesForReportsNew"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic Category; uses temporary tables, joins 85+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 85+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetAllCCTopicSystemCategories","schema":"dbo","parameters":[],"lineCount":25,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAllCCTopicSystemCategories"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic System Category; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAllPublishedConferenceTemplates","schema":"dbo","parameters":[],"lineCount":18,"tablesReferenced":["DH_CCConferenceTemplate"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAllPublishedConferenceTemplates"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves all published conference templates data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetAmionScheduleID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_AmionSchedule"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves amion scheduleid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetAmionStaff","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_SyncAMIONUsers"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetAmionStaff"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves amion staff data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAmionUserRotationSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":3033,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_CallNames","Prep_ClinicNames","Prep_ShiftRotationAssignments","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetRecordOfRotationsReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule data; uses cursor-based row processing, uses temporary tables, joins 193+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 193+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_02022024","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2351,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_02022024 data; uses cursor-based row processing, uses temporary tables, joins 134+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 134+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_02062025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2492,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_ShiftRotationAssignments","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_02062025 data; uses cursor-based row processing, uses temporary tables, joins 152+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 152+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_03142024","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2389,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_03142024 data; uses cursor-based row processing, uses temporary tables, joins 143+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 143+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_06192025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2512,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_ShiftRotationAssignments","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_06192025 data; uses cursor-based row processing, uses temporary tables, joins 153+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 153+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_08172023","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2267,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_08172023 data; uses cursor-based row processing, uses temporary tables, joins 122+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 122+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_11152024","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2387,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_11152024 data; uses cursor-based row processing, uses temporary tables, joins 143+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 143+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_12052025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2755,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_ShiftRotationAssignments","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_12052025 data; uses cursor-based row processing, uses temporary tables, joins 170+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 170+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule_12232025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2814,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_ShiftRotationAssignments","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMECServiceCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule_12232025 data; uses cursor-based row processing, uses temporary tables, joins 163+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 163+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserRotationSchedule1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SearchYear","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@SortValue","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateofFirstRotationAfter","dataType":"LARGEDATE","direction":"IN","defaultValue":null},{"name":"@IsOnlyFirsttimeRotatorsIncluded","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"2"},{"name":"@IsIncludeCalls","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsIncludeClinics","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2281,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_DepartmentRotations","DH_LightingBoltPersonnel","DH_LightingBoltRotations","DH_LightingBoltSchedule","DH_LightingBoltScheduleRange","DH_LightingBoltTasks","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user rotation schedule1 data; uses cursor-based row processing, uses temporary tables, joins 131+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 131+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAmionUserTimeSheet","schema":"dbo","parameters":[{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@UserIDTo","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":2559,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_ProgramACGMERules","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_ResetClinicalHoursLogs","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","PF_AffiliateAgreement","PF_AffiliateName","Prep_BuildSchedules","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves amion user time sheet data; uses temporary tables, joins 217+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Amion Schedule Integration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 217+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetAPESummaryComplainceReportResult","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ReportType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ComplianceQuestions","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1"},{"name":"@SelectedRotationIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":"'-1'"},{"name":"@ReportGraph","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@FlagArchived","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"}],"lineCount":2671,"tablesReferenced":["DH_ACGMERules","DH_DepartmentACGMERules","DH_DepartmentBlocks","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetSummaryComplianceQuestions"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary complaince report result data; uses cursor-based row processing, uses temporary tables, joins 15+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 15+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetAssignedEvaluations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CreatedDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ExpireDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@AssignedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":106,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","DH_DepartmentRotations","EVAL_ACGMETemplateLink","EVAL_Audiences","EVAL_Evaluations","EVAL_Templates","Eval_BaseAudience","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieving Incomplete Evaluations for sending out mails to all the users; uses temporary tables, joins 12+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetAttendanceCodeByQRCode","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":144,"tablesReferenced":["CME_Evaluation","CME_ScheduleTemplate","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves attendance code byqr code data; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the QR Code Verification subsystem, enabling real-time attendance verification through QR code scanning at conferences and activities.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetAttendanceCodeByQRCode_1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QRCode","dataType":"varchar(50)","direction":"IN","defaultValue":null}],"lineCount":77,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves attendance code byqr code_1 data; uses temporary tables.","businessPurpose":"Provides data retrieval for the QR Code Verification subsystem, enabling real-time attendance verification through QR code scanning at conferences and activities.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAttendanceCodeByQRCode_180306","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QRCode","dataType":"varchar(50)","direction":"IN","defaultValue":null}],"lineCount":58,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves attendance code byqr code_180306 data.","businessPurpose":"Provides data retrieval for the QR Code Verification subsystem, enabling real-time attendance verification through QR code scanning at conferences and activities.","optimizationRecommendations":["Add SET NOCOUNT ON at the procedure start (if not present) to suppress row-count messages and reduce network overhead."],"migrationRelevance":"medium"},{"name":"GetAttendanceCodeByQRCode1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QRCode","dataType":"varchar(50)","direction":"IN","defaultValue":null}],"lineCount":83,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves attendance code byqr code1 data; uses temporary tables.","businessPurpose":"Provides data retrieval for the QR Code Verification subsystem, enabling real-time attendance verification through QR code scanning at conferences and activities.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetAvailableMomentumRoles","schema":"dbo","parameters":[],"lineCount":27,"tablesReferenced":["Momentum_Roles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetAvailableMomentumRoles"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves available momentum roles data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Momentum Integration subsystem, enabling data import from the Momentum scheduling system for integrated duty hour tracking.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetBlockPeriodForPGY","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYNumber","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@BlockNumber","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":44,"tablesReferenced":["DH_DepartmentBlocks"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.GetBlockPeriodForPGY"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves block period forpgy data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Blocks subsystem, defining academic year time periods used for rotation scheduling and compliance period boundaries.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetBSNDatesForSession","schema":"dbo","parameters":[{"name":"@UserID","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"INT","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["ACT_Sessions"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetBSNDatesForSession"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves dates for session data; uses temporary tables.","businessPurpose":"Provides data retrieval for the BSN (Behavioral & Social Network) subsystem, tracking behavioral and social network data within the duty hours framework.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetBSNUserTimeSheet","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@IsOnCall","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":null},{"name":"@TimeSheetSource","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":"NULL"},{"name":"@PGYLevel","dataType":"SMALLNUMBER","direction":"OUTPUT","defaultValue":"0"}],"lineCount":70,"tablesReferenced":["ACT_Sessions","DH_ActivityCategorySettings","DH_BSNUserTimesheet","DH_BSNUserVerification","DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get BSN User Time Sheet; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetCCTemplateList","schema":"dbo","parameters":[],"lineCount":31,"tablesReferenced":["DH_CCConferenceTemplate"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetCCTemplateList"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Getting CCTrack Conference template list; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetCCTopicCategoryByCCTopicCategoryID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic Category By TopicCategoryID; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetCCTrackCount","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":108,"tablesReferenced":["CME_ScheduleTemplate","DH_ConferenceSchedules","DH_ConferenceUserAttendance","SEC_Departments","SEC_MyEvalMainPageLinks","SEC_ToDoAdmSubConAttendance"],"sprocsCalledFromBody":["GetCountNotation","usp_TraceMyEvalMainPageCounts"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetCCTrackCount"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves track count data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetCHDepartmentLockSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":59,"tablesReferenced":["DH_DepartmentLockSettings","SEC_DepartmentInstitution","SEC_Departments","SEC_InstitutionUsers","SEC_UserRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetCHDepartmentLockSettings"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Get Lock settings for the departments based on the role logged in; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinical Hours Locking subsystem, enforcing data integrity by preventing modifications to finalized clinical hours records.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetCHLockSettingsLastUpdatedMessage","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":56,"tablesReferenced":["DH_DepartmentLockSettings","SEC_DepartmentInstitution","SEC_Departments","SEC_InstitutionUsers","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetCHLockSettingsLastUpdatedMessage"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Get Lock settings last updated message for the departments based on the role logged in; uses temporary tables, joins 7+ tables.","businessPurpose":"Provides data retrieval for the Clinical Hours Locking subsystem, enforcing data integrity by preventing modifications to finalized clinical hours records.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetClinialHoursSchema","schema":"dbo","parameters":[],"lineCount":30,"tablesReferenced":["PRC_ClinicalHoursImportingFields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetClinialHoursSchema"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get Clinial Hours Schema; employs dynamic SQL, uses temporary tables, processes XML data.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"low"},{"name":"GetClinicalHoursRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@DepartmentID","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"''"},{"name":"@IsFromWeb","dataType":"TINYINT","direction":"IN","defaultValue":"0"}],"lineCount":402,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","PF_AffiliateAgreement","PF_AffiliateName","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves clinical hours rotations data; uses temporary tables, joins 13+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"GetClinicConferencePresentersInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":129,"tablesReferenced":["DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceScheduleTemplatePresenters","DH_ConferenceSchedules","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetClinicConferencePresentersInfoByID"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves clinic conference presenters info byid data; uses temporary tables, joins 9+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetClinicInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":36,"tablesReferenced":["DH_DepartmentClinics","DH_SyncAMIONClinics"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.GetClinicInfo"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves clinic info byid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetClinicsConferenceEmailInformation","schema":"dbo","parameters":[{"name":"@ScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDs","dataType":"Varchar(max)","direction":"IN","defaultValue":null},{"name":"@EmailTemplateID","dataType":"int","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@IsScheduler","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":375,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","EVAL_EmailTemplate","SEC_Departments","SEC_Users","Sec_CustomerSupportInfromation"],"sprocsCalledFromBody":["GetRowValuesToString"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Description,Getting Email Reminder for Clinis/conferene Assignment after marking the attendance for the users \"present\"; uses cursor-based row processing, uses temporary tables, joins 8+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetClinicsConferenceEmailInformationDemo","schema":"dbo","parameters":[{"name":"@ScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDs","dataType":"Varchar(max)","direction":"IN","defaultValue":null},{"name":"@EmailTemplateID","dataType":"int","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":343,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","EVAL_EmailTemplate","SEC_Departments","SEC_Users","Sec_CustomerSupportInfromation"],"sprocsCalledFromBody":["GetRowValuesToString"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Description,Getting Email Reminder for Clinis/conferene Assignment after marking the attendance for the users \"present\"; uses cursor-based row processing, uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetCMEConferenceID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":61,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conferenceid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetCommonScheduleView","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"varchar(20)","direction":"IN","defaultValue":null}],"lineCount":84,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves common schedule view data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetCommonScheduleView_","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"varchar(20)","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"smallint","direction":"IN","defaultValue":"-1"}],"lineCount":118,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves common schedule view_ data; uses temporary tables, joins 22+ tables.","businessPurpose":"Provides data retrieval for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetCommonScheduleView_1","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"VARCHAR(20)","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"DATETIME","direction":"IN","defaultValue":null}],"lineCount":131,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","DH_UserTimesheetSub","sec_DateRange"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves common schedule view_1 data; uses temporary tables, joins 24+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Schedule Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Simplify the query plan by breaking down the 24+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetCommonScheduleView_2","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"varchar(20)","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"datetime","direction":"IN","defaultValue":null}],"lineCount":135,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves common schedule view_2 data; uses temporary tables, joins 23+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Schedule Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Simplify the query plan by breaking down the 23+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetCommonScheduleView_3","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"varchar(20)","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"datetime","direction":"IN","defaultValue":null}],"lineCount":136,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","DH_UserTimesheetSub","sec_DateRange"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves common schedule view_3 data; uses temporary tables, joins 23+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Schedule Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Simplify the query plan by breaking down the 23+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetCompletionReportData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"largeNumber","direction":"IN","defaultValue":null},{"name":"@RequiredDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ResultByRotation","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@GroupBYRotation","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@SortOrder","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@SortBy","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsForAPI","dataType":"TINYINT","direction":"IN","defaultValue":"0  /*1=For API 0 for normal Execution*/"},{"name":"@SelectedUserID","dataType":"BIGINT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@PGYStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PGYEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PeriodStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PeriodEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":384,"tablesReferenced":["MYEVAL_UserClinicalHourDetails","MYEval_PerformanceTaskCompletion"],"sprocsCalledFromBody":["GenerateDepartmentCompletionStatusReportInfo","RotationList","UserReviewList"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetCompletionStatusReportData","MyEvaluations.Business.Evaluations/EvaluationsTemplateManager.cs"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves completion report data; uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetCompletionReportData_Beta","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"largeNumber","direction":"IN","defaultValue":null},{"name":"@RequiredDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ResultByRotation","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@GroupBYRotation","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@SortOrder","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@SortBy","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":548,"tablesReferenced":[],"sprocsCalledFromBody":["GenerateDepartmentCompletionStatusReportInfo","RotationList","UserReviewList"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetCompletionStatusReportDataBeta"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves completion report data_ beta data; uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetComplianceActivityCategorySettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivitySettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.GetComplianceActivityCategorySettings"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves compliance activity category settings data; uses temporary tables.","businessPurpose":"Provides data retrieval for the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetComplianceSettingsInfoByRuleID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves compliance settings info by ruleid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceAssignmentsForScheduler","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@IsFromPresenterScheduler","dataType":"verySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":85,"tablesReferenced":["DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Get Conference Assignments; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferenceAttendanceDetail_","schema":"dbo","parameters":[],"lineCount":25,"tablesReferenced":["DH_ConferenceAttendanceStatus","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceUsersLog"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Get Conference Attendance Detail; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceAttendanceDetail__","schema":"dbo","parameters":[{"name":"@EventID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["DH_ConferenceAttendanceStatus","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceUsersLog","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Get Conference Attendance Detail; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceAudienceList","schema":"dbo","parameters":[],"lineCount":32,"tablesReferenced":["EVAL_Audiences","EVAL_QuestionsCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetConferenceAudienceList"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conference audience list data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetConferenceEvaluationAnswers","schema":"dbo","parameters":[],"lineCount":20,"tablesReferenced":["DH_CCEvaluationAnswer","DH_CCEvaluationLearningObjectives"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceEvaluationAnswers"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conference evaluation answers data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetConferenceEvaluationInfoById","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["DH_CCConferenceTemplate","DH_CCEvaluation","DH_CCEvaluationComments","DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceEvaluationInfoById"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Getting Conference Evaluation Details based on evaluationid; uses temporary tables.","businessPurpose":"Provides data retrieval for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceGroupsAndQuestions","schema":"dbo","parameters":[{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AnswerTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":189,"tablesReferenced":["DH_CCConferenceTemplateQuestion","EVAL_ACGMEAnswerTypes","EVAL_ACGMEAnswers","EVAL_ACGMEQuestionMapping","EVAL_ACGMETemplateLink","EVAL_AnswerTypes","EVAL_Answers","EVAL_Questions","EVAL_QuestionsCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceGroupsAndQuestions"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Getting Question Group category and Questions; uses temporary tables, joins 23+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 23+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferenceGuestInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_ConferenceGuests"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GuestManager.cs.GetConferenceGuestInfoByID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conference guest info byid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetConferenceInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":76,"tablesReferenced":["DH_DepartmentConferences","DH_DepartmentConferencesRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetConferenceInfo"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conference info byid data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferenceLearningObjectivesByConferenceScheduleTemplateID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_ConferenceSchedules"],"sprocsCalledFromBody":["GetConferenceLearningObjectivesByScheduleID"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceLearningObjectivesByConferenceScheduleTemplateID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conference learning objectives by conference schedule templateid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetConferenceLearningObjectivesByScheduleID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","EVAL_AnswerTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceLearningObjectivesByScheduleID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conference learning objectives by scheduleid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@Scope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IncludeCMEConference","dataType":"SmallNumber","direction":"IN","defaultValue":"0 --added by Adilakshmi on 2016/02/16"}],"lineCount":106,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetConferenceListByCriteria","DetailedConferenceTrackingReportManager.cs.GetConferenceList","SummaryConferenceTrackingReportManager.cs"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conference list by criteria data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetConferenceListForReports","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@Scope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IncludeCMEConference","dataType":"SmallNumber","direction":"IN","defaultValue":"0 --added by Adilakshmi on 2016/02/16"}],"lineCount":201,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DetailedConferenceTrackingReportManager.cs.GetConferenceListForReports"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference list for reports data; uses temporary tables, joins 8+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetConferencePGYLevelList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":109,"tablesReferenced":["SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferencePGYLevelList"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Populating Clinics Conference PGY Level List; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferencePresentersInfoByConferenceScheduleTemplateID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":["GetConferencePresentersInfoByID"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferencePresentersInfoByConferenceScheduleTemplateID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,, Get Conference Presenters Info from latest updated schedule date Presenters; uses temporary tables.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetConferencePresentersInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":60,"tablesReferenced":["DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","SEC_Titles","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferencePresentersInfo"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference presenters info byid data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferencePresentersInfoWithComma","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentConferenceScheduleId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":[],"sprocsCalledFromBody":["GetConferencePresentersInfoByID"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["MonthlyConferenceReportManager.cs.GetConferencePresentersInfoWithComma"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Getting presentors name with comma separated; employs dynamic SQL, uses temporary tables.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching."],"migrationRelevance":"medium"},{"name":"GetConferenceQuestionCategories","schema":"dbo","parameters":[],"lineCount":26,"tablesReferenced":["EVAL_Audiences","EVAL_QuestionsCategories"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetConferenceQuestionCategories"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conference question categories data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceRecurrenceInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":66,"tablesReferenced":["DH_ConferenceDailyRecurring","DH_ConferenceMonthlyRecurring","DH_ConferenceScheduleTemplates","DH_ConferenceWeeklyRecurring"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceRecurrenceInfo"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conference recurrence info byid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferences","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IncludeCMEConference","dataType":"SmallNumber","direction":"IN","defaultValue":"0--added by adilakshmi on 02/18/2016"}],"lineCount":28,"tablesReferenced":["DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetAvailableConferencesForDepartment","SummaryConferenceTrackingReportManager.cs.GetConferenceList"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves conferences data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferencesAndConferenceTopicsInfoBySpeakerIDs","schema":"dbo","parameters":[{"name":"@SpeakerIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@GuestSpeakerIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":74,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCEvaluation","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.BindConferencesAndConferenceTopicsBySpeakerIDs"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conferences and conference topics info by speakeri ds data; uses temporary tables, joins 10+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferenceScheduleInfoByConferenceScheduleTemplateID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":188,"tablesReferenced":["DH_ConferenceScheduleTemplates","DH_ConferenceSchedules"],"sprocsCalledFromBody":["GetConferenceScheduleInfoByID"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceScheduleInfoByConferenceScheduleTemplateID"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,, GetConferenceScheduleInfo By ConferenceScheduleTemplateID; uses temporary tables, processes XML data, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetConferenceScheduleInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@RequestedConferenceScheduleID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null}],"lineCount":284,"tablesReferenced":["CME_ScheduleTemplate","CME_ScheduleTemplateTopics","DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","DH_QRCodes","PF_UserDocuments","QUIZ_Assignment","SEC_Departments","SEC_TimeZones","SEC_UserRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceScheduleInfo"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference schedule info byid data; uses temporary tables, joins 12+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetConferenceScheduleListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DateRange","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DayOfWeek","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ConferenceId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AdministratorId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DisplayMode","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":280,"tablesReferenced":["CME_Evaluation","CME_Events","CME_ScheduleTemplate","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Roles","SEC_UserRoles","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":7,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceScheduleListByCriteria"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference schedule list by criteria data; uses temporary tables, joins 17+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 17+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetConferencesForReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":38,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferencesForReport"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conferences for report data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferencesMonthlyRepeatTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["DH_ConferenceMonthlyRepeat"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves conferences monthly repeat types data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetConferencesRecurringTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["DH_ConferenceRecurringType"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves conferences recurring types data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetConferenceTemplatesAndPeriodByDepartmentConferenceID","schema":"dbo","parameters":[],"lineCount":49,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetConferenceTemplatesAndPeriodByDepartmentConferenceID"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conference templates and period by department conferenceid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConferenceTopicsAndSpeakersInfoByDepartmentConferenceIDs","schema":"dbo","parameters":[{"name":"@DepartmentConferenceIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":99,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCEvaluation","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceTopicsAndSpeakersInfoByDepartmentConferenceIDs"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference topics and speakers info by department conferencei ds data; uses temporary tables, joins 10+ tables.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetConferenceTopicsByDepartmentConferenceIDs","schema":"dbo","parameters":[{"name":"@DepartmentConferenceIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ByConferenceOrSpeaker","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@SpeakerIDs","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCEvaluation","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceTopicsInfoByDepartmentConferenceIDs"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conference topics by department conferencei ds data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Conference Topics subsystem, organizing conference content by topic categories for reporting and curriculum tracking.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetConferenceUsersAttendanceInfoByDepartmentID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentConferenceScheduleId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":154,"tablesReferenced":["DH_ConferenceSchedules","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetConferenceUsersAttendanceInfoByID_WithDepartmentSort"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetUsersAttendancePrintSheetInfo"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"For Attendence sheet generation should be according to Department bise; uses temporary tables, joins 20+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 20+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetConferenceUsersAttendanceInfoByDeptConfScheduleIDs","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":100,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetConferenceUsersAttendanceInfoByID1"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceUsersAttendanceInfoByDeptConfScheduleIDs"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference users attendance info by dept conf schedulei ds data; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConferenceUsersAttendanceInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":196,"tablesReferenced":["DH_ConferenceScheduleTemplateUsers","DH_ConferenceSchedules","DH_ConferenceUserAttendance","SEC_Departments","SEC_EventDetail","SEC_Events","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["UpdateDH_ConferenceUserAttendance"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceUsersAttendanceInfo"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference users attendance info byid data; uses temporary tables, joins 12+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetConferenceUsersInfoByConferenceScheduleTemplateID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":["GetConferenceUsersInfoByID"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceUsersInfoByConferenceScheduleTemplateID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,, Get Conference Users Info from latest updated schedule date users; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetConferenceUsersInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":77,"tablesReferenced":["DH_ConferenceScheduleTemplateUsers","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceInsertLog","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["UpdateDH_ConferenceUserAttendance"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceUsersInfo"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves conference users info byid data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConfereneUserMailInfo","schema":"dbo","parameters":[{"name":"@ScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Userids","dataType":"largetext","direction":"IN","defaultValue":null}],"lineCount":51,"tablesReferenced":["DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConfereneUserMailInfo"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves conferene user mail info data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Email Notifications subsystem, keeping stakeholders informed of pending actions, upcoming deadlines, and compliance events through automated communications.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetConflictConferences","schema":"dbo","parameters":[{"name":"@ConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceOccurs","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RepeatDay","dataType":"LongText","direction":"IN","defaultValue":"NULL"},{"name":"@RepeatBy","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@ConferenceStartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@ConferenceEndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":"0-- Added by rajiv on 3-5-2018"}],"lineCount":184,"tablesReferenced":["DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConflictConferences"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conflict Conferences; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConflictConferences_Import","schema":"dbo","parameters":[{"name":"@ConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceOccurs","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RepeatDay","dataType":"LongText","direction":"IN","defaultValue":"NULL"},{"name":"@RepeatBy","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@ConferenceStartTime","dataType":"SmallDate","direction":"IN","defaultValue":"null"},{"name":"@ConferenceEndTime","dataType":"SmallDate","direction":"IN","defaultValue":"null"}],"lineCount":152,"tablesReferenced":["DH_ConferenceSchedules","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conflict Conferences; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetConflictConferencesForSummaryUpdate","schema":"dbo","parameters":[{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceOccurs","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RepeatDay","dataType":"LongText","direction":"IN","defaultValue":"NULL"},{"name":"@RepeatBy","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@PreviousDepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceStartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@ConferenceEndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL  -- added by snehal on 4/2/2018"}],"lineCount":61,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":["GetConflictConferences"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConflictConferencesForSummaryUpdate"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conflict Conferences for summary updates; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDataForConferenceTrackingReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Status","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceSource","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":414,"tablesReferenced":["CME_ScheduleTemplate","CME_TopicCategories","DH_CCTopicCategories","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments"],"sprocsCalledFromBody":["GetAllCCSpeakersForReports","GetConferenceListForReports"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DetailedConferenceTrackingReportManager.cs.GetDetailedConferenceTrackingReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves data for conference tracking report data; uses temporary tables, joins 21+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 21+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetDataForMonthlyConferenceReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceSource","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@Details","dataType":"SmallNumber","direction":"IN","defaultValue":"0  -- 0 for all events and 1 for Personal Assignments"},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":179,"tablesReferenced":["CME_ScheduleTemplate","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","PF_UserDocuments","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetConferenceListForReports"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["MonthlyConferenceReportManager.cs.GetMonthlyConferenceScheduleReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves data for monthly conference report data; uses temporary tables, joins 12+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetDataForSummaryConferencePresentersTrackingReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceSource","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1084,"tablesReferenced":["CME_Events","CME_ScheduleTemplate","CME_TopicCategories","DH_CCTopicCategories","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetConferenceListByCriteria"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetDataForSummaryConferencePresentersTrackingReport"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves data for summary conference presenters tracking report data; uses temporary tables, joins 68+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Conference Presenters subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 68+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDataForSummaryConferenceTrackingReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceSource","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":986,"tablesReferenced":["CME_Events","CME_ScheduleTemplate","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetAllCCSpeakersForReports","GetConferenceListByCriteria"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferenceTrackingReportData","MyEvaluations.Business.Portfolio/DocDetailsManager.cs"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves data for summary conference tracking report data; uses temporary tables, joins 40+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 40+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDataForSummaryConferenceTrackingReport_","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceSource","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":946,"tablesReferenced":["CME_Events","CME_ScheduleTemplate","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetAllCCSpeakersForReports","GetConferenceListByCriteria"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves data for summary conference tracking report_ data; uses temporary tables, joins 40+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 40+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDataForSummaryConferenceTrackingReportNew","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceSource","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1052,"tablesReferenced":["CME_Events","CME_ScheduleTemplate","CME_TopicCategories","DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetAllCCSpeakersForReports","GetConferenceListForReports"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferenceTrackingReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves data for summary conference tracking report new data; uses temporary tables, joins 53+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 53+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetDataUsersToSyncTestOffline","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FirstYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@OnCallServiceID","dataType":"LargeNumber","direction":"IN","defaultValue":"1"}],"lineCount":91,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierUsers","SEC_Departments"],"sprocsCalledFromBody":["GetSyncAmionUsers","GetUserListByCriteriaBasic"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves data users to sync test offline data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Schedule Synchronization subsystem, maintaining data consistency between MyEvaluations and external scheduling platforms.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDeclineConferenceEvalTemplate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvaluationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":169,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","EVAL_EmailTemplate","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves decline conference eval template data; uses cursor-based row processing, uses temporary tables, joins 6+ tables.","businessPurpose":"Provides data retrieval for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetDeleteConferenceScheduleListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DateRange","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DayOfWeek","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ConferenceId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AdministratorId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DisplayMode","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":230,"tablesReferenced":["CME_Evaluation","CME_ScheduleTemplate","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_Roles","SEC_UserRoles","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetDeleteConferenceScheduleListByCriteria"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves delete conference schedule list by criteria data; uses temporary tables, joins 14+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetDeletedQuizAssignments","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":124,"tablesReferenced":["DH_DepartmentRotations","QUIZ_Assignment"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves deleted quiz assignments data; uses temporary tables, joins 9+ tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetDepartmentACGMERules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":163,"tablesReferenced":["DH_ACGMERules","DH_DepartmentACGMERules","DH_ProgramACGMERules","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.GetDepartmentACGMERules","TimeSheetManager.cs.GetRuleValues"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves departmentacgme rules data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetDepartmentActivitySettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":83,"tablesReferenced":["DH_ACGMERules","DH_ActivityCategorySettings","DH_ActivitySettings","DH_DepartmentActivities","DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetActivitySettings"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department activity settings data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetDepartmentAddress","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":9,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GeofenceNamesManager.cs.GetDepartmentAddress"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves department address data.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Add SET NOCOUNT ON at the procedure start (if not present) to suppress row-count messages and reduce network overhead."],"migrationRelevance":"low"},{"name":"GetDepartmentAllRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":28,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.FetchDepartmentAllRotations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves department all rotations data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDepartmentClinicsListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ClinicName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["DH_DepartmentClinics"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.GetDepartmentClinicsListByCriteria"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves department clinics list by criteria data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetDepartmentComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":68,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.GetDepartmentComplianceSetting"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves department compliance settings data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDepartmentConferencesForReport","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetDepartmentConferencesForReport"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department conferences for report data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDepartmentDHRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetDepartmentDHRotations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves departmentdh rotations data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDepartmentEvaluationRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":33,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Display rotation Name for Evaluation Module; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDepartmentExplanationById","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_DepartmentExplanations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationExplanationManager.cs.FetchViolationExplanationInfo"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves department explanation by id data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetDepartmentExplanations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["DH_DefaultExplanations","DH_DepartmentExplanations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationExplanationManager.cs.FetchViolationExplanations","TimeSheetManager.cs.GetViolationExplanations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves department explanations data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDepartmentGeofenceNames","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsDeleted","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":51,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentGeofenceNames","Prep_SiteNames"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GeofenceNamesManager.cs.FetchDepartmentGeofenceNames"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves department geofence names data; joins 7+ tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDepartmentGeofenceNames_New","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsDeleted","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsDepartment","dataType":"Smallnumber","direction":"IN","defaultValue":null},{"name":"@IsInstitutional","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@StartIndex","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PageSize","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":176,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentGeofenceNames","Prep_SiteNames"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GeofenceNamesManager.cs.FetchDepartmentGeofenceNames_New"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department geofence names_ new data; uses temporary tables, joins 20+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Department Configuration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 20+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetDepartmentInfoByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDepartmentInfoByCriteria"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves department info by criteria data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"low"},{"name":"GetDepartmentInfoByID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":447,"tablesReferenced":["DH_OnCallServices","EVAL_EvaluateEvaluation","SEC_DepartmentInstitution","SEC_DepartmentPulseCredentials","SEC_DepartmentTrainingComplement","SEC_DepartmentTrainingTypes","SEC_Departments","SEC_DeptSpecificTopMenuItems","SEC_ERASErrorResponse","SEC_InstitutionSubSpecialty","SEC_MedSchools","SEC_ResidencyTypes","SEC_SubSpecialty","SI_DepartmentModules"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetDepartmentOnCallServiceID","SyncAmionOnCallManager.cs.GetDepartmentInfo","DepartmentManager.cs.GetScheduleLinkedDepartments","TimeSheetManager.cs"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department info byid data; uses temporary tables, processes XML data, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetDepartmentListForAutoAssignments","schema":"dbo","parameters":[],"lineCount":285,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierRotations","DH_SyncAMIONRotations","EVAL_EvaluationSchedules","SEC_Departments","SEC_ProgramCategories","SEC_Programs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":6,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department list for auto assignments data; uses temporary tables, joins 21+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Department Configuration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 21+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetDepartmentRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagIsDeleted","dataType":"TINYINT","direction":"IN","defaultValue":"0 -- added by snehal on 8/1/2017 (Deleted Rotations and Reports)"},{"name":"@IsScheduleManagement","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"},{"name":"@CampusID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@IsForSysImpl","dataType":"TINYINT","direction":"IN","defaultValue":"0"},{"name":"@IsShifts","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":319,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations","PF_AffiliateAgreement","PF_AffiliateName","Prep_CampusLocations","Prep_Shifts","SEC_Departments"],"sprocsCalledFromBody":["GetAdminCampusLocations"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.FetchDepartmentRotations","EvaluationsReportManager.cs.FetchDepartmentRotationsForScheduleManagement","EvaluationsTemplateManager.cs.FetchDepartmentRotationsByCriteria"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department rotations data; uses temporary tables, joins 32+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 32+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetDepartmentRotations_12252025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagIsDeleted","dataType":"TINYINT","direction":"IN","defaultValue":"0 -- added by snehal on 8/1/2017 (Deleted Rotations and Reports)"},{"name":"@IsScheduleManagement","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"},{"name":"@CampusID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@IsForSysImpl","dataType":"TINYINT","direction":"IN","defaultValue":"0"},{"name":"@IsShifts","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":370,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations","PF_AffiliateAgreement","PF_AffiliateName","Prep_CampusLocations","Prep_Shifts","SEC_Departments"],"sprocsCalledFromBody":["GetAdminCampusLocations"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department rotations_12252025 data; uses temporary tables, joins 30+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 30+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetDepartmentRotationsForCompliance","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagIsDeleted","dataType":"TINYINT","direction":"IN","defaultValue":"0 -- added by snehal on 8/1/2017 (Deleted Rotations and Reports)"},{"name":"@IsScheduleManagement","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"},{"name":"@CampusID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@IsForSysImpl","dataType":"TINYINT","direction":"IN","defaultValue":"0"}],"lineCount":233,"tablesReferenced":["DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_SyncAMIONRotations","Prep_CampusLocations","Prep_Shifts","SEC_Departments"],"sprocsCalledFromBody":["GetAdminCampusLocations","GetDepartmentRotations"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.FetchDepartmentRotationsForCompliance"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department rotations for compliance data; uses temporary tables, joins 22+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetDepartmentRotationsNew","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagIsDeleted","dataType":"TINYINT","direction":"IN","defaultValue":"0 -- added by snehal on 8/1/2017 (Deleted Rotations and Reports)"},{"name":"@IsScheduleManagement","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":"NULL"},{"name":"@CampusID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@IsForSysImpl","dataType":"TINYINT","direction":"IN","defaultValue":"0"},{"name":"@IsShifts","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@IsCalls","dataType":"LargeNumber","direction":"IN","defaultValue":"0"}],"lineCount":199,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations","Prep_CallNames","Prep_CampusLocations","Prep_ClinicNames","Prep_Shifts","SEC_Departments"],"sprocsCalledFromBody":["GetAdminCampusLocations"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.FetchDepartmentRotationsNew"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves department rotations new data; uses temporary tables, joins 22+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDepartmentsForDutyHourEmail","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["DH_ComplianceAdmin","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDepartmentsForDutyHourEmail"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves departments for duty hour email data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDepartmentsForPersonalDHViolationEmail","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"DateTime","direction":"IN","defaultValue":null}],"lineCount":45,"tablesReferenced":["DH_DepartmentRotations","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDepartmentsForPersonalDHViolationEmail"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves departments for personaldh violation email data; uses temporary tables.","businessPurpose":"Provides data retrieval for the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDetailedComplaince","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TargetUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Ruleid","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":344,"tablesReferenced":["DH_ActivityCategorySettings"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetSubDetailedDutyHoursReportData"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves detailed complaince data; uses temporary tables, joins 13+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Department Configuration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDHAdmins","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":51,"tablesReferenced":["DH_ComplianceAdmin","SEC_Departments","SEC_InstitutionUsers","SEC_Roles","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AdminsManager.cs.FetchSupervisors"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves admins data; uses temporary tables, joins 13+ tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans."],"migrationRelevance":"medium"},{"name":"GetDHDeptCalculationRuleInfo","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDHDeptCalculationRuleInfo"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Getting Calculation RuleID based on Department Complaince settings; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDHRotationCalculationRule","schema":"dbo","parameters":[],"lineCount":21,"tablesReferenced":["DH_RotationCalculationRule"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDHRotationCalculationRule"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Getting Duty-hours Calculation rule; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetDHScheduleJobHistory","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DateRange","dataType":"SmallNumber","direction":"IN","defaultValue":"-1"},{"name":"@ConferenceId","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@Status","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":57,"tablesReferenced":["DH_ConferenceAttendanceQueueForDutyHours","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetDHScheduleJobHistory"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves schedule job history data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDutyHourCongfigforDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":45,"tablesReferenced":["DH_DepartmentLockSettings","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDutyHourCongfigforDepartment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour congfigfor department data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDutyHourCongfigforDepartmentByUserID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_DepartmentLockSettings","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDutyHourCongfigforDepartmentByUserID","MyEvaluations.Business.TimeSheet/TimeSheetManager.cs"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour congfigfor department by userid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetDutyHoursComplainceReportResult","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1763,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":1,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDetailedComplainceReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result data; uses cursor-based row processing, uses temporary tables, joins 35+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 35+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResult_01062023","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1558,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result_01062023 data; uses cursor-based row processing, uses temporary tables, joins 18+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResult_12202023","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1599,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentBlocks","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result_12202023 data; uses cursor-based row processing, uses temporary tables, joins 18+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResult09122019","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1508,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result09122019 data; uses cursor-based row processing, uses temporary tables, joins 17+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 17+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResultModified","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2326,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":1,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDetailedComplainceReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result modified data; uses cursor-based row processing, uses temporary tables, joins 43+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 43+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResultModified_08012024","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1773,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result modified_08012024 data; uses cursor-based row processing, uses temporary tables, joins 18+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResultModified_09032025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1800,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result modified_09032025 data; uses cursor-based row processing, uses temporary tables, joins 18+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResultModified_09292022","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":1541,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result modified_09292022 data; uses cursor-based row processing, uses temporary tables, joins 18+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursComplainceReportResultModified_12182025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@ResultType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SummaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2249,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_ComplianceAdmin","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":1,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours complaince report result modified_12182025 data; uses cursor-based row processing, uses temporary tables, joins 40+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 40+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetDutyHoursForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":307,"tablesReferenced":["DH_DepartmentRotations","DH_UserTimesheetSub","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDutyHoursForUserByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"}],"lineCount":1012,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_UserTimesheetSub","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user by criteria data; uses temporary tables, joins 24+ tables, uses MERGE for upsert logic.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 24+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursForUserByCriteria_20240722","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0"}],"lineCount":733,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user by criteria_20240722 data; uses cursor-based row processing, uses temporary tables, joins 54+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 54+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursForUserByCriteria_3","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@UserName","dataType":"VARCHAR(250)","direction":"IN","defaultValue":"NULL"}],"lineCount":1026,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user by criteria_3 data; uses cursor-based row processing, uses temporary tables, joins 78+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 78+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursForUserByCriteria_3_04032025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@UserName","dataType":"VARCHAR(250)","direction":"IN","defaultValue":"NULL"}],"lineCount":799,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user by criteria_3_04032025 data; uses cursor-based row processing, uses temporary tables, joins 56+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 56+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursForUserByCriteria_3_10302024","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@UserName","dataType":"VARCHAR(250)","direction":"IN","defaultValue":"NULL"}],"lineCount":895,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user by criteria_3_10302024 data; uses cursor-based row processing, uses temporary tables, joins 61+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 61+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursForUserByCriteria_3_12042025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedUser","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@UserName","dataType":"VARCHAR(250)","direction":"IN","defaultValue":"NULL"}],"lineCount":836,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours for user by criteria_3_12042025 data; uses cursor-based row processing, uses temporary tables, joins 57+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 57+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursReportInputDataNew","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@blockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@blockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@summaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":2065,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours report input data new data; uses temporary tables, joins 36+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 36+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursReportInputDataNew1_Test","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@blockStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@summaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":770,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours report input data new1_ test data; uses temporary tables, joins 28+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 28+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursReportInputDataNew1_V2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@blockStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@summaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":693,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours report input data new1_v2 data; uses temporary tables, joins 23+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 23+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetDutyHoursSetupGroupsByDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_DepartmentDutyHoursSetupGroups"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDutyHoursSetupGroupsByDepartment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hours setup groups by department data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetDutyHourVerificationForAuto","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDutyHourVerificationForAuto"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour verification for auto data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDutyHourVerificationSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["DH_DepartmentRotationVerification","DH_DepartmentRotationVerificationActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetDutyHourVerificationSettings"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour verification settings data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetDutyHourVerificationUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":102,"tablesReferenced":["BSN_Course","DH_BSNUserVerification","DH_DepartmentActivities","DH_DepartmentRotations","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDutyHourVerificationUsers"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour verification users data; uses temporary tables, joins 9+ tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDutyHourVerificationUsersByBatchID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@VerificationBatchID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@VerifiedToUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":74,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour verification users by batchid data; uses temporary tables, joins 6+ tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetDutyHourVerificationUsersWithDateRange","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SearchTrainee","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":184,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_UserVerification","SEC_MyEvalMainPageLinks","SEC_ToDoAdmVrfClnHours"],"sprocsCalledFromBody":["usp_TraceMyEvalMainPageCounts"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour verification users with date range data; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetDutyHourViolationToReviewCount","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":311,"tablesReferenced":["DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetCountNotation"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.FetchDutyHoursViolationToReviewCount"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour violation to review count data; employs dynamic SQL, uses temporary tables, joins 29+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Violation Tracking subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 29+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetDutyHourViolationToReviewCount_2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":75,"tablesReferenced":["DH_AveragedForViolations","DH_DepartmentRotations","DH_UserTimesheet"],"sprocsCalledFromBody":["GetCountNotation"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves duty hour violation to review count_2 data; uses temporary tables, joins 10+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetEmailTemplateForConferenceAssignment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsFromPresenterScheduler","dataType":"verySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":300,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","PF_EmailTemplate","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves email template for conference assignment data; uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetEmailTemplateForConferenceAssignmentweb","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsFromPresenterScheduler","dataType":"verySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":292,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","PF_EmailTemplate","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceAssignmentsForEmail"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves email template for conference assignmentweb data; uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetEmailTemplateForConferenceAssignmentwebUpdate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Userids","dataType":"largetext","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsFromPresenterScheduler","dataType":"verySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":304,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","PF_EmailTemplate","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetConferenceAssignmentsForEmailUpdate"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves email template for conference assignmentweb update data; uses temporary tables, joins 7+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Clinics/Conference Tracking (CCTrack) subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetEnabledActivities","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivitySettings","DH_DepartmentActivities","DH_DepartmentRotationActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.GetEnabledDepartmentActivities"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves enabled activities data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetEnabledDepartmentActivitiesByCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivitySettings","DH_DepartmentActivities","DH_DepartmentRotationActivities"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.GetEnabledDepartmentActivitiesByCategory"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves enabled department activities by category data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetEnableRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":63,"tablesReferenced":["DH_DepartmentRotations","PF_AffiliateAgreement","PF_AffiliateName"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetEnableRotations"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves enable rotations data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"GetExcludedActivityDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":64,"tablesReferenced":["DH_ActivityCategorySettings","DH_DepartmentActivities","DH_ExcludedActivityCategoryForPGY","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetGetExcludedActivityDetails"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves excluded activity details data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetExcludeSettingDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SearchDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":47,"tablesReferenced":["DH_ActivityCategorySettings","DH_ActivitySettings","DH_ComplianceSettingBase","DH_DepartmentComplianceSettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetGetExcludeSettingDetails"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves exclude setting details data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetGeofenceActivityEventLogs","schema":"dbo","parameters":[{"name":"@GeoEventsGUID","dataType":"NVARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@StartTime","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@IsCommand","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@adjustedActivityTypeId","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@adjustedStartTime","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":65,"tablesReferenced":["DH_ActivityGeoLocationEvents","DH_DepartmentActivities","DH_GeofenceShapes"],"sprocsCalledFromBody":["SaveGeoLocationActivitestoDutyHoursEvents"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves geofence activity event logs data; wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetGroupParticipantsInfoByGroupID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":42,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves group participants info by groupid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetGroupParticipantsInfoByGroupIDForAllUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":267,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_DepartmentInstitution","SEC_InstitutionUsers","SEC_UserRoles","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.GetGroupParticipantsInfo"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves group participants info by groupid for all users data; uses temporary tables, joins 31+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the User Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Simplify the query plan by breaking down the 31+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetGroupParticipantsListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves group participants list by criteria data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetGroupParticipantsListByCriteriaForAllUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":197,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.GetGroupParticipantsListByCriteria"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves group participants list by criteria for all users data; uses temporary tables, joins 8+ tables, uses CTEs for data organization.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetGroupParticipantsListByCriteriaForAllUsersRestore","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":175,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.DoesGroupNameCopyExist"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves group participants list by criteria for all users restore data; uses temporary tables, joins 6+ tables, uses CTEs for data organization.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetImproperSyncManually","schema":"dbo","parameters":[],"lineCount":209,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_SyncAMIONRotations","DH_SyncAMIONUsers"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"For fetching the Sync Data which are not correctly synched; uses temporary tables, joins 7+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Schedule Synchronization subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, maintaining data consistency between MyEvaluations and external scheduling platforms.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetInstCompletionReportData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@Option","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":206,"tablesReferenced":["DH_DepartmentRotations","SEC_Departments","SEC_ProgramCategories","SEC_Programs"],"sprocsCalledFromBody":["GenerateDepartmentCompletionStatusReportInfo"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetInstitutionalCompletionStatusReportData"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves inst completion report data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetInstitutionalDHComplianceData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportGraph","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2415,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":2,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetInstitutionalComplainceReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutionaldh compliance data; uses cursor-based row processing, uses temporary tables, joins 110+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 110+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetInstitutionalDHComplianceData_20240826","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportGraph","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2180,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":1,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutionaldh compliance data_20240826 data; uses cursor-based row processing, uses temporary tables, joins 104+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 104+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetInstitutionalDHComplianceData_V2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ReportGraph","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":2386,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutionaldh compliance data_v2 data; uses cursor-based row processing, uses temporary tables, joins 105+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 105+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetInstitutionalDHDetailedReportData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@CalRule","dataType":"BigNumber","direction":"IN","defaultValue":"0"},{"name":"@FlagArchived","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":630,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivitySettings","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_UserTimeSheetNoActivities","DH_UserTimesheetSub","SEC_Departments","SEC_ProgramCategories","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["InstitutionalClinicalHoursDetailedReportManager.cs.GetReportDetails"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutionaldh detailed report data; uses temporary tables, joins 64+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Institutional Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing institution-wide visibility into compliance status across all residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 64+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetInstitutionalSelectedUsersDutyHoursData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@SelectedDepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserTypeIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserLevelIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@CalculationRule","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SortBy","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":1154,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetSub","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":2,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDetailedDutyHoursReportDataDetails"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutional selected users duty hours data; uses cursor-based row processing, uses temporary tables, joins 109+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 109+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetInstitutionalSelectedUsersDutyHoursData_20240722","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@SelectedDepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserTypeIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserLevelIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@CalculationRule","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SortBy","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":469,"tablesReferenced":["DH_ActivityCategorySettings","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria_20240722"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutional selected users duty hours data_20240722 data; uses temporary tables, joins 32+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 32+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetInstitutionalSelectedUsersDutyHoursData_20240801","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@SelectedDepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserTypeIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserLevelIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@CalculationRule","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SortBy","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":1073,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetSub","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutional selected users duty hours data_20240801 data; uses cursor-based row processing, uses temporary tables, joins 106+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 106+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetInstitutionalSelectedUsersDutyHoursData_20241018","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@SelectedDepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserTypeIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedUserLevelIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SelectedActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@CalculationRule","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@SortBy","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":1154,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetSub","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":2,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institutional selected users duty hours data_20241018 data; uses cursor-based row processing, uses temporary tables, joins 109+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 109+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetInstitutionScheduleImplementationStatus","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SelectedAcadamicYear","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":null},{"name":"@SelectedComplianceStatus","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@SelectedSortingOption","dataType":"LARGENUMBER","direction":"IN","defaultValue":null}],"lineCount":412,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_QGendaSchedule","DH_QgendaStaffmember","DH_QgendaTaskRoles","DH_QgendaTasks","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetInstitutionScheduleImplementationStatus"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves institution schedule implementation status data; uses temporary tables, joins 31+ tables, processes XML data.","businessPurpose":"Serves as a primary data retrieval endpoint for the Schedule Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Simplify the query plan by breaking down the 31+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"GetLastRotation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":323,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","Momentum_Assignments","Prep_BuildSchedules","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetEnableRotations"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves last rotation data; uses temporary tables, joins 32+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 32+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetLastUpdatedDatesForSchedules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null}],"lineCount":186,"tablesReferenced":["DH_AmionSchedule","DH_LightingBoltSchedule","DH_MomentumSchedule","DH_QGendaSchedule","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionOnCallManager.cs.GetLastUpdatedDatesForSchedules"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves last updated dates for schedules data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetLightningBoltSelectedTasks","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_LightingBoltTasks"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetLightningBoltSelectedTasks"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get Lightning Bolt Selected Tasks; uses temporary tables.","businessPurpose":"Provides data retrieval for the Lightning Bolt Integration subsystem, contributing to the comprehensive duty hours management workflow within MyEvaluations.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetLinkedActivitiesForRotation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":34,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetLinkedActivities"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves linked activities for rotation data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetLinkRotationsDutyHourActivities","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":51,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetLinkRotationsDutyHourActivities"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves link rotations duty hour activities data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetListOfQuestionsForCCConference","schema":"dbo","parameters":[{"name":"@UserId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":["DH_CCConferenceTemplate","DH_CCConferenceTemplateQuestion","EVAL_Questions"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetListOfQuestions"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves list of questions forcc conference data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetManageDutyHourVerificationSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":132,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotationVerification","DH_DepartmentRotationVerificationActivities","DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetManageDutyHourVerificationSettings"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves manage duty hour verification settings data; uses temporary tables, processes XML data.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetMaxDHConferenceByDepartmentID","schema":"dbo","parameters":[],"lineCount":21,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetMaxDHConferenceByDepartmentID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves maxdh conference by departmentid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetMaxPGYforDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetMaxPGYforDepartment","PatientLogReportManager.cs.GetMaxFPGY_MsyforDepartment","MyEvaluations.Business.Quiz/GetQuizUsers.cs"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves maxpg yfor department data; uses temporary tables.","businessPurpose":"Provides data retrieval for the PGY Level Management subsystem, managing PGY level assignments used for compliance rule application and reporting stratification.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetMECAdditionalCredentials","schema":"dbo","parameters":[],"lineCount":9,"tablesReferenced":["SEC_DepartmentsMECServiceCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.GetMECAdditionalCredentials"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves additional credentials data.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetMilestoneRotationRequirements","schema":"dbo","parameters":[],"lineCount":21,"tablesReferenced":["DH_DepartmentRotations","Eval_MilestoneRotationSettings","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves milestone rotation requirements data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetMilestoneRotationUserDetails","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":113,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Eval_MilestoneRotationSettings","Momentum_Assignments","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Get Milestone Rotation User Details; uses temporary tables, joins 22+ tables, uses CTEs for data organization.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetMissingDatesbyUserID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"largeNumber","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":191,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotationActivities","DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"For getting the missing dates of the user; uses temporary tables, processes XML data, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetMomentumDataByDepartmentID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMomentumCredentials","SEC_DepartmentsQGendaCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.GetMomentumDataByDepartmentID"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,,Get Momentum Data By DepartmentID; uses temporary tables.","businessPurpose":"Provides data retrieval for the Momentum Integration subsystem, enabling data import from the Momentum scheduling system for integrated duty hour tracking.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetMomentumRolesByTaskID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_MomentumTaskRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetMomentumRolesByTaskID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get Selected Momentum Roles By TaskID; uses temporary tables.","businessPurpose":"Provides data retrieval for the Momentum Integration subsystem, enabling data import from the Momentum scheduling system for integrated duty hour tracking.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetMonthlyConferenceScheduleReportDataForDate","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":14,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["MonthlyConferenceReportManager.cs.GetMonthlyConferenceScheduleReportDataForDate"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves monthly conference schedule report data for date data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetMonthlyPopupInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_ConferenceSchedules","DH_DepartmentConferences","PF_UserDocuments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves monthly popup info data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetMyEvalsFieldsForConferenceImporting","schema":"dbo","parameters":[],"lineCount":28,"tablesReferenced":["DH_CCConferenceImportingMyEvalsAliasNameFields","DH_CCConferenceImportingMyEvalsFields"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetMyEvalsFieldsForConferenceImporting"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves my evals fields for conference importing data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetOnCallAssignments","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserTypeID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":275,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleCallAssignments","DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionScheduleShiftAssignments","DH_AmionTangierUsers","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","Momentum_Assignments","Momentum_Staff","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get OnCall Assignments; uses temporary tables, joins 75+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the On-Call Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Simplify the query plan by breaking down the 75+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"high"},{"name":"GetONCallCurriculaAssignments_Demo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentAccessLevelID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":290,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","PF_TempCurriculaEmailData","SEC_DepartmentInstitution","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves call curricula assignments_ demo data; uses temporary tables, joins 26+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the On-Call Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Simplify the query plan by breaking down the 26+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetONCallCurriculaAssignments_DemoApproach2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentAccessLevelID","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":347,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","PF_TempCurriculaEmailData","SEC_DepartmentInstitution","SEC_Departments","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves call curricula assignments_ demo approach2 data; uses temporary tables, joins 21+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the On-Call Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Simplify the query plan by breaking down the 21+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetONcallQuizAssignments","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@RotationIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@UserTypeId","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AnswersDisplay","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AssignedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":108,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_SyncAMIONRotations","DH_SyncAMIONUsers","SEC_Users"],"sprocsCalledFromBody":["SaveQuizAssignmentDetails"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves ncall quiz assignments data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the On-Call Management subsystem, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetOnCallServicesList","schema":"dbo","parameters":[],"lineCount":13,"tablesReferenced":["DH_OnCallServices"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionOnCallManager.cs.GetOnCallServices"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves on call services list data; uses temporary tables.","businessPurpose":"Provides data retrieval for the On-Call Management subsystem, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetONLYPGYTEXT","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":14,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetPGYText","MyEvaluations.Business.Evaluations/EvaluationsReportManager.cs"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves getonlypgytext data; uses temporary tables.","businessPurpose":"Provides data retrieval for the PGY Level Management subsystem, managing PGY level assignments used for compliance rule application and reporting stratification.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetOnlyTrainees","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SearchDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":110,"tablesReferenced":["SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.FetchTrainees"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves only trainees data; uses temporary tables, joins 7+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetOnlyTraineesForDH","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SearchDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@PGYList","dataType":"LargeText","direction":"IN","defaultValue":"NULL"}],"lineCount":98,"tablesReferenced":["DH_DepartmentCMEGroupUsers","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.FetchTraineesDH"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves only trainees fordh data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetPendingEvaluations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":108,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","DH_DepartmentRotations","EVAL_ACGMETemplateLink","EVAL_Audiences","EVAL_Evaluations","EVAL_Templates","Eval_BaseAudience"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieving Incomplete Evaluations for sending out mails to all the users; uses temporary tables, joins 12+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetPendingEvaluationsForManualEvaluationReminders","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":100,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","DH_DepartmentRotations","EVAL_ACGMETemplateLink","EVAL_Audiences","EVAL_Evaluations","EVAL_Templates","Eval_BaseAudience","Prep_SiteNames"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieving Incomplete Evaluations for sending out mails to all the users; uses temporary tables, joins 20+ tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 20+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetPFDocumentDetails_testp","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SectionID","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FileType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"VeryShortText","direction":"IN","defaultValue":null}],"lineCount":2854,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","LA_Preceptors","PF_DocumentCreditSubject","PF_UserDocuments","PF_UserSpecificSubject","SEC_Roles","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["GetLinkedDepartmentList","GetRowValuesToString","spLOG_ErrorHandling"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves document details_testp data; employs dynamic SQL, uses temporary tables, joins 286+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Department Configuration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 286+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetPFDocumentDetails_V2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SectionID","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FileType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"VeryShortText","direction":"IN","defaultValue":null}],"lineCount":3100,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","LA_Preceptors","PF_DocumentCreditSubject","PF_UserDocuments","PF_UserSpecificSubject","SEC_Roles","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["GetLinkedDepartmentList","GetRowValuesToString","spLOG_ErrorHandling"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves document details_v2 data; employs dynamic SQL, uses temporary tables, joins 356+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Department Configuration subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 356+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetPFDocumentSubjectNameByID","schema":"dbo","parameters":[{"name":"@DocumentSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentSectionCode","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":126,"tablesReferenced":["PF_DocumentCreditSubject","PF_Subjects","PF_UserDocuments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetPFDocumentSubjectNameByID","MyEvaluations.Business.Portfolio/DocDetailsManager.cs"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves document subject name byid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetPFRecordOfRotationsDemo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":195,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves record of rotations demo data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetPFTempCurriculaEmailData_03302020","schema":"dbo","parameters":[],"lineCount":41,"tablesReferenced":["DH_DepartmentRotations","PF_TempCurriculaEmailData","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,,Get PF TempCurriculaEmailData; uses temporary tables.","businessPurpose":"Provides data retrieval for the Email Notifications subsystem, keeping stakeholders informed of pending actions, upcoming deadlines, and compliance events through automated communications.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetPGYAndAcademicStartYearForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CheckDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"SmallNumber","direction":"OUTPUT","defaultValue":null}],"lineCount":19,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetPGYAndAcademicYearForUser"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves and academic start year for user data.","businessPurpose":"Provides data retrieval for the PGY Level Management subsystem, managing PGY level assignments used for compliance rule application and reporting stratification.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetPGYTextforReport","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["SEC_TrainingTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetPGYText","MyEvaluations.Business.Evaluations/EvaluationsReportManager.cs"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves textfor report data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetPreceptorsList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SmallNumber","direction":"IN","defaultValue":"- 1"},{"name":"@FlagArchived","dataType":"TINYINT","direction":"IN","defaultValue":"0"},{"name":"@IsGetSelectedDepartmentData","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsPreceptorReports","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":116,"tablesReferenced":["LA_PreceptorGroups","LA_Preceptors","LA_Trainee","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.Preceptors_users","OnboardingGroupParticipantsManager.cs.DeleteOBC"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"This procedure is using for getting all the users of preceptors; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetPresentersByEvalIDs","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":40,"tablesReferenced":["DH_CCEvaluation","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves presenters by evali ds data; uses temporary tables, processes XML data.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"medium"},{"name":"GetPresentersList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"INT","direction":"IN","defaultValue":"- 1"}],"lineCount":49,"tablesReferenced":["SEC_DepartmentInstitution","SEC_InstitutionUsers","SEC_UserRoles","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetUsersPresentersList"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves presenters list data; uses temporary tables, joins 8+ tables.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain."],"migrationRelevance":"medium"},{"name":"GetPresentersListLocal","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"INT","direction":"IN","defaultValue":"-1"}],"lineCount":43,"tablesReferenced":["SEC_DepartmentInstitution","SEC_InstitutionUsers","SEC_UserRoles","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetUsersPresentersListLocal"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves presenters list local data; uses temporary tables, joins 6+ tables.","businessPurpose":"Provides data retrieval for the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain."],"migrationRelevance":"medium"},{"name":"GetProgramACGMERules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":42,"tablesReferenced":["DH_ACGMERules","DH_ProgramACGMERules","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.GetProgramACGMERules"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves programacgme rules data; uses temporary tables.","businessPurpose":"Provides data retrieval for the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetProgramExcludedActivityDetails","schema":"dbo","parameters":[{"name":"@ProgramId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["DH_ProgramExcludedCategory"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves program excluded activity details data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetProgramList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["SEC_Programs"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.GetProgramList","MyEvaluations.Business.Portfolio/LookUpTables.cs"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves program list data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetPublishDeletedConferenceInfo","schema":"dbo","parameters":[],"lineCount":32,"tablesReferenced":["DH_CCConferenceTemplate"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetPublishDeletedConferenceInfo"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Get list of delete Conference which are Published; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetQGendaDataForDepartment","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"NULL"}],"lineCount":25,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.GetQGendaDataForDepartment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Get QGenda Data For Department; uses temporary tables.","businessPurpose":"Provides data retrieval for the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetQgendaRoles","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_QgendaRoles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetQgendaRoles"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves qgenda roles data; uses temporary tables.","businessPurpose":"Provides data retrieval for the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetQgendaSavedTaskRoles","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@TaskRoleID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ServiceType","dataType":"SmallNumber","direction":"IN","defaultValue":"1"}],"lineCount":55,"tablesReferenced":["DH_LightingBoltRotations","DH_LightingBoltTasks","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaTaskRoles","DH_QgendaTasks","Momentum_Roles"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetQgendaSavedTaskRoles"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves qgenda saved task roles data; uses temporary tables.","businessPurpose":"Provides data retrieval for the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetQueueListForAmionDataImportForAcadYear","schema":"dbo","parameters":[],"lineCount":41,"tablesReferenced":["DH_AmionSchedule","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves queue list for amion data import for acad year data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetQueueListForAmionDataUpdate","schema":"dbo","parameters":[],"lineCount":38,"tablesReferenced":["DH_AmionSchedule","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves queue list for amion data update data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetQueueListForCompletionDataImport","schema":"dbo","parameters":[],"lineCount":13,"tablesReferenced":["DH_CompletionQueue"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves queue list for completion data import data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Data Import subsystem, enabling data ingestion from external sources to populate the duty hours system.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetQueueListForQGendaDataImport","schema":"dbo","parameters":[],"lineCount":64,"tablesReferenced":["SEC_Departments","SEC_DepartmentsQGendaCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.GetQueueListForQGendaDataImport"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Get Queue List For QGenda Data Import; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetQueueListForTangierDataImport","schema":"dbo","parameters":[],"lineCount":20,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionRotationManager.cs.GetQueueListForTangierDataImport"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves queue list for tangier data import data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Tangier/External Schedule Integration subsystem, enabling schedule import from the Tangier scheduling platform for external schedule integration.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetQuizAssignments_User","schema":"dbo","parameters":[],"lineCount":34,"tablesReferenced":["DH_DepartmentRotations","QUIZ_Assignment"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves quiz assignments_ user data; uses temporary tables.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetRepetativeConferences","schema":"dbo","parameters":[],"lineCount":25,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetRepetativeConferences"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves repetative conferences data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetRestoreConferencesListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@Scope","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":60,"tablesReferenced":["DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetRestoreConferencesListByCriteria"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,,Get Restore Conferences List; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetRotationBlocksForDutyHourEmailByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["DH_DepartmentBlocks"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetRotationBlocksForDutyHourEmail"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves rotation blocks for duty hour email by criteria data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetRotationDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":21,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetRotationDetails"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves rotation details data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetRotationDetailsByID","schema":"dbo","parameters":[],"lineCount":17,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetRotationDetailsByID"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves rotation details byid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetRotationListForNegativeRotationUniqueID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["DH_AmionTangierRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves rotation list for negative rotation uniqueid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"GetRotationSettings","schema":"dbo","parameters":[{"name":"@LoginUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsDeleted","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@CampusID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@SiteNameIDS","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@StartIndex","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PageSize","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":305,"tablesReferenced":["DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_RotationsLinkedDepartments","EVAL_TemplateRotation","Eval_MilestoneRotationSettings","PF_AFFSponsorsName","PF_AffiliateAgreement","PF_AffiliateName","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_CampusLocations","Prep_SiteNames","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsAmionCredentials","SEC_DepartmentsLightningBoltCredentials","SEC_DepartmentsMomentumCredentials","SEC_DepartmentsQGendaCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":4,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.GetRotationSettings"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get Rotation Settings; uses temporary tables, joins 35+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 35+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetScheduleRotationsShiftsClinicsCalls","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":99,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations","Prep_BuildSchedules","Prep_BuildSchedulesData","Prep_CallNames","Prep_ClinicNames","Prep_Shifts","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.GetScheduleRotationsShiftsClinicsCalls"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves schedule rotations shifts clinics calls data; uses temporary tables, joins 13+ tables, uses CTEs for data organization.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"GetSelectedUserCountByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SearchStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SearchEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@SelectedPGYs","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":83,"tablesReferenced":["SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetSelectedUserCountByCriteria"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves selected user count by criteria data; uses temporary tables, joins 9+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetSelectedUsersDutyHoursData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsForAPI","dataType":"TINYINT","direction":"IN","defaultValue":"0  /*1=For API 0 for normal Execution*/"},{"name":"@SelectedUserID","dataType":"BIGINT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@usrAcademicYear","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@UsrPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@PGYStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PGYEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":428,"tablesReferenced":["DH_ActivityCategorySettings","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet","DH_UserTimesheetSub","EVAL_EvaluateEvaluation","MYEVAL_PerformanceUserPatientLog","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria_3"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDetailedDutyHoursReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves selected users duty hours data; uses temporary tables, joins 30+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 30+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetSelectedUsersDutyHoursData_","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":495,"tablesReferenced":["DH_ActivityCategorySettings","DH_UserTimesheet","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves selected users duty hours data_ data; uses temporary tables, joins 10+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetSelectedUsersDutyHoursData_04032025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsForAPI","dataType":"TINYINT","direction":"IN","defaultValue":"0  /*1=For API 0 for normal Execution*/"},{"name":"@SelectedUserID","dataType":"BIGINT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@usrAcademicYear","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@UsrPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@PGYStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PGYEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":428,"tablesReferenced":["DH_ActivityCategorySettings","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet","DH_UserTimesheetSub","EVAL_EvaluateEvaluation","MYEVAL_PerformanceUserPatientLog","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria_3"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves selected users duty hours data_04032025 data; uses temporary tables, joins 30+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 30+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetSelectedUsersDutyHoursData_3","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":182,"tablesReferenced":["DH_ActivityCategorySettings","DH_UserTimesheet","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria_3"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves selected users duty hours data_3 data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetSelectedUsersDutyHoursDataForVerification","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@VerificationStatus","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"}],"lineCount":558,"tablesReferenced":["DH_ActivityCategorySettings","DH_UserVerification","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetDetailedDutyHoursReportDataForVerification"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves selected users duty hours data for verification data; uses temporary tables, joins 10+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"GetSettingsByCategory","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["DH_ActivityCategorySettings","DH_ActivitySettings"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.GetSettingsByCategory"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves settings by category data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetSharedAdminDepartments","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":25,"tablesReferenced":["DH_ComplianceAdmin","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetSharedAdminDepartments"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves shared admin departments data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetSpeakersListForSummaryConferenceEval","schema":"dbo","parameters":[{"name":"@CCTrackID","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TopicIDs","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":91,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCEvaluation","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_DepartmentConferences","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetSpeakersListForSummaryConferenceEval"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves speakers list for summary conference eval data; employs dynamic SQL, uses temporary tables, joins 12+ tables.","businessPurpose":"Provides data retrieval for the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetSubmittedDisabledRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":424,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","PF_AffiliateAgreement","PF_AffiliateName","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetSubmittedDisabledRotations"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves submitted disabled rotations data; uses temporary tables, joins 14+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"GetSubmittedDisabledRotations_02062025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":220,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves submitted disabled rotations_02062025 data; uses temporary tables, joins 7+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetSubmittedDisabledRotations_07172025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":356,"tablesReferenced":["DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","PF_AffiliateAgreement","PF_AffiliateName","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves submitted disabled rotations_07172025 data; uses temporary tables, joins 13+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"GetSummaryComplainceReportResult","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ComplianceQuestions","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1 --Include-1"},{"name":"@SelectedRotationIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":"'-1'"},{"name":"@ReportGraph","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IncludeUserViolationReport","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 -- Added by rajiv on 20-1-2017 for user violations report."},{"name":"@IsDashBoardFlag","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IsForAPI","dataType":"TINYINT","direction":"IN","defaultValue":"0  /*1=For API 0 for normal Execution*/"},{"name":"@SelectedUserID","dataType":"BIGINT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@PGYStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PGYEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PeriodStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PeriodEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":3180,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","MYEVAL_UserClinicalHourViolationDetails","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1","GetSummaryComplianceQuestionsNew"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":true,"nolockCount":3,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetSummaryComplainceReportData"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary complaince report result data; uses cursor-based row processing, uses temporary tables, joins 134+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 134+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetSummaryComplainceReportResult_02082023","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ComplianceQuestions","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1 --Include-1"},{"name":"@SelectedRotationIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":"'-1'"},{"name":"@ReportGraph","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IncludeUserViolationReport","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 -- Added by rajiv on 20-1-2017 for user violations report."}],"lineCount":2903,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1","GetSummaryComplianceQuestionsNew"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary complaince report result_02082023 data; uses cursor-based row processing, uses temporary tables, joins 116+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 116+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetSummaryComplainceReportResult_09062024","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ComplianceQuestions","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1 --Include-1"},{"name":"@SelectedRotationIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":"'-1'"},{"name":"@ReportGraph","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IncludeUserViolationReport","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 -- Added by rajiv on 20-1-2017 for user violations report."},{"name":"@IsDashBoardFlag","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IsForAPI","dataType":"TINYINT","direction":"IN","defaultValue":"0  /*1=For API 0 for normal Execution*/"},{"name":"@SelectedUserID","dataType":"BIGINT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@UserPGYLevel","dataType":"INT","direction":"IN","defaultValue":"0  /*Using this Column for API*/"},{"name":"@PGYStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PGYEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PeriodStartDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"},{"name":"@PeriodEndDate","dataType":"DATETIME","direction":"IN","defaultValue":"NULL"}],"lineCount":2700,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","MYEVAL_UserClinicalHourViolationDetails","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1","GetSummaryComplianceQuestionsNew"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary complaince report result_09062024 data; uses cursor-based row processing, uses temporary tables, joins 118+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 118+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetSummaryComplainceReportResult_V2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ComplianceQuestions","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1 --Include-1"},{"name":"@SelectedRotationIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":"'-1'"},{"name":"@ReportGraph","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IncludeUserViolationReport","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 -- Added by rajiv on 20-1-2017 for user violations report."}],"lineCount":2578,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_ProgramACGMERules","DH_UserTimeSheetViolations","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1","GetSummaryComplianceQuestionsNew_V2"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary complaince report result_v2 data; uses cursor-based row processing, uses temporary tables, joins 109+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the Reporting subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 109+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"GetSummaryComplianceQuestions","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AvgWeekHrs","dataType":"FloatingNumber","direction":"IN","defaultValue":null}],"lineCount":675,"tablesReferenced":["DH_ActivityCategorySettings","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_UserTimesheet","DH_UserTimesheetSub","SEC_Departments","SEC_ProgramCategories","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary compliance questions data; uses temporary tables, joins 44+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 44+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetSummaryComplianceQuestionsNew","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AvgWeekHrs","dataType":"FloatingNumber","direction":"IN","defaultValue":null}],"lineCount":799,"tablesReferenced":["DH_ActivityCategorySettings","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_UserTimesheet","DH_UserTimesheetSub","SEC_Departments","SEC_ProgramCategories","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary compliance questions new data; uses temporary tables, joins 49+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 49+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetSummaryComplianceQuestionsNew_V2","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AvgWeekHrs","dataType":"FloatingNumber","direction":"IN","defaultValue":null}],"lineCount":800,"tablesReferenced":["DH_ActivityCategorySettings","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_UserTimesheet","DH_UserTimesheetSub","SEC_Departments","SEC_ProgramCategories","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves summary compliance questions new_v2 data; uses temporary tables, joins 49+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Compliance Settings subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 49+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetSummaryConferenceReportCalculationData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":32,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferencetrackingReportCalculationData"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves summary conference report calculation data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetSummaryConferenceReportCalculationDataForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RequestedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferenceReportCalculationDataForUser"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves summary conference report calculation data for user data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetSummaryConferenceReportConferenceData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferenceReportConferenceData"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves summary conference report conference data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetSummaryConferenceReportConferenceScheduleData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferenceReportConferenceScheduleData"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves summary conference report conference schedule data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetSummaryConferenceReportRequiredConferenceDataForUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SummaryConferenceTrackingReportManager.cs.GetSummaryConferenceReportRequiredConferenceDataForUser"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves summary conference report required conference data for user data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetSyncAmionCallServices","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":108,"tablesReferenced":["DH_DepartmentActivities","DH_QgendaTasks","DH_SyncAMIONCalls","Momentum_Roles","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMomentumCredentials","SEC_DepartmentsQGendaCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionOnCallManager.cs.FetchSyncAmionCallServices"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves sync amion call services data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetSyncAmionClinics","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":135,"tablesReferenced":["DH_DepartmentClinics","DH_DepartmentConferences","DH_QgendaTasks","Momentum_Roles","SEC_DepartmentsAmionCredentials","SEC_DepartmentsMomentumCredentials","SEC_DepartmentsQGendaCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionClinicManager.cs.FetchSyncAmionClinics"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves sync amion clinics data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetSyncAmionRotationsForConference","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":48,"tablesReferenced":["DH_DepartmentRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.FetchSyncAmionRotations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves sync amion rotations for conference data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetSyncAmionUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FirstYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@OnCallServiceID","dataType":"LargeNumber","direction":"IN","defaultValue":"1"}],"lineCount":216,"tablesReferenced":["DH_SyncAMIONUsers","SEC_DepartmentsAmionCredentials","SEC_DepartmentsLightningBoltCredentials","SEC_DepartmentsMomentumCredentials","SEC_DepartmentsQGendaCredentials","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionUserManager.cs.FetchSyncAmionUsers","UserManager.cs.GetSyncAmionUsers"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves sync amion users data; uses temporary tables, joins 8+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetSyncDetails","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsRotation","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":114,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_QGendaSchedule","DH_QgendaStaffmember","DH_QgendaTaskRoles","DH_QgendaTasks","DH_SyncAMIONRotations","DH_SyncAMIONUsers","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetSyncDetails"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Get SYNC Details; uses temporary tables, joins 20+ tables, uses CTEs for data organization.","businessPurpose":"Provides data retrieval for the Schedule Synchronization subsystem, maintaining data consistency between MyEvaluations and external scheduling platforms.","optimizationRecommendations":["Simplify the query plan by breaking down the 20+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetSyncRotationsDiscrepancyList","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierRotations","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetSyncRotationsDiscrepancyList"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Get all Sync Rotations Discrepancy list for the department; uses temporary tables.","businessPurpose":"Provides data retrieval for the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetTangierAccessDetails","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@isServiceDetails","dataType":"smallint","direction":"IN","defaultValue":"0"}],"lineCount":33,"tablesReferenced":["SEC_DepartmentsTangierCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetTangierAccessDetails"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves tangier access details data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Tangier/External Schedule Integration subsystem, enabling schedule import from the Tangier scheduling platform for external schedule integration.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetTangierCredentials","schema":"dbo","parameters":[],"lineCount":19,"tablesReferenced":["DH_TangierLocationSites","SEC_DepartmentsTangierCredentials"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.GetTangierCredentialsForDepartment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves tangier credentials data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Tangier/External Schedule Integration subsystem, enabling schedule import from the Tangier scheduling platform for external schedule integration.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"GetTangierLocationSites","schema":"dbo","parameters":[],"lineCount":13,"tablesReferenced":["DH_TangierLocationSites"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["SyncAmionOnCallManager.cs.GetTangierLocationSites"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Retrieves tangier location sites data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Tangier/External Schedule Integration subsystem, enabling schedule import from the Tangier scheduling platform for external schedule integration.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetTimesheetNotSubmittedUsersForDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null}],"lineCount":60,"tablesReferenced":["DH_UserTimesheet","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetDHDeptCalculationRuleInfo"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves timesheet not submitted users for duty hours data; uses temporary tables, processes XML data.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"medium"},{"name":"GetTraineeTypesList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":41,"tablesReferenced":["LA_Preceptors","LA_Trainee","SEC_DepartmentTrainingTypes","SEC_Departments","SEC_TrainingTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetTraineeTypeListForDepartment"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves trainee types list data; uses temporary tables, processes XML data.","businessPurpose":"Provides data retrieval for the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"low"},{"name":"GetUCONNDepartments","schema":"dbo","parameters":[],"lineCount":23,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.GetUCONNDepartments"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get UCONN Departments; uses temporary tables.","businessPurpose":"Provides data retrieval for the UCONN Integration subsystem, contributing to the comprehensive duty hours management workflow within MyEvaluations.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetUserDHRotationDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@RuleType","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@DateFilter","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@blockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@blockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@summaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":442,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentActivities","DH_DepartmentComplianceSettings","DH_DepartmentRotations","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves userdh rotation details data; uses temporary tables, joins 12+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 12+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"medium"},{"name":"GetUserHandoutsWithDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"bigint","direction":"IN","defaultValue":null}],"lineCount":39,"tablesReferenced":["DH_CCTopicCategories","DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves user handouts with details data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetUserInfoByDateRangeVio","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@dtStartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@dtEndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@txtUserIDs","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":191,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user info by date range vio data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetUserListByCriteriaBasicForDH","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FirstYear","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL --AcadStartYear"},{"name":"@SearchDate","dataType":"LargeDate","direction":"IN","defaultValue":"Null"},{"name":"@PGYList","dataType":"LargeText","direction":"IN","defaultValue":"Null"},{"name":"@IsPGYZeroIncluded","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":213,"tablesReferenced":["DH_DepartmentCMEGroupUsers","LA_Preceptors","LA_Trainee","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUserListBySearchCriteriaBasicDH"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user list by criteria basic fordh data; uses temporary tables, joins 14+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the User Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetUserListByCriteriaBasicForDHVerification","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FirstYear","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL --AcadStartYear"},{"name":"@SearchDate","dataType":"LargeDate","direction":"IN","defaultValue":"Null"},{"name":"@PGYList","dataType":"LargeText","direction":"IN","defaultValue":"Null"},{"name":"@IsPGYZeroIncluded","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":180,"tablesReferenced":["DH_DepartmentCMEGroupUsers","LA_Preceptors","LA_Trainee","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUserListBySearchCriteriaBasicDHVerification"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user list by criteria basic fordh verification data; uses temporary tables, joins 14+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Verification subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, ensuring accuracy of logged duty hours through supervisor review and attestation workflows.","optimizationRecommendations":["Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetUserListByForDHWeekly","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserType","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@UserScope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@FirstYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":"NULL"},{"name":"@SearchDate","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":119,"tablesReferenced":["SEC_Departments","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUserListBySearchCriteriaBasicDH"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves user list by fordh weekly data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetUserListByYearsAndPGYForDH","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYList","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@UsersScope","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@Year","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":80,"tablesReferenced":["SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUsersByPGYList"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves user list by years andpgy fordh data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the PGY Level Management subsystem, managing PGY level assignments used for compliance rule application and reporting stratification.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetUserListForNegativeUserUniqueID","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["DH_AmionTangierUsers"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves user list for negative user uniqueid data; uses temporary tables.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"GetUsersForDutyHourEmailByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":75,"tablesReferenced":["DH_AveragedForViolations","DH_UserTimeSheetViolations","DH_UserTimesheet"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetRotationBlocksForDutyHourEmail"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves users for duty hour email by criteria data; uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetUsersForPersonalDutyHourEmailByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUsersForPersonalDutyHourEmail"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves users for personal duty hour email by criteria data; uses temporary tables, processes XML data.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"medium"},{"name":"GetUsersList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetUsersList"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves users list data; uses temporary tables.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetUsersListByGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":100,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_DepartmentInstitution","SEC_InstitutionUsers","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.GetUsersListByGroup","DutyHoursManager.cs"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves users list by group data; uses temporary tables, joins 13+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetUsersListBySearchCriteriaForDH","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TypeIds","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@UsersScope","dataType":"SmallNumber","direction":"IN","defaultValue":"-1"},{"name":"@PGYList","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":82,"tablesReferenced":["SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUserListBySearchCriteriaBasicDHVerification"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves users list by search criteria fordh data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetUsersListByTypeForDH","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TypeIds","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":55,"tablesReferenced":["SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUsersListByTypeInTableDH"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves users list by type fordh data; uses temporary tables.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"GetUsersListForRecordofRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FirstYear","dataType":"SmallNumber","direction":"IN","defaultValue":"NULL --AcadStartYear"},{"name":"@SearchDate","dataType":"LargeDate","direction":"IN","defaultValue":"Null"},{"name":"@PGYList","dataType":"LargeText","direction":"IN","defaultValue":"Null"},{"name":"@IsPGYZeroIncluded","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsPreceptor","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":304,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_DepartmentCMEGroupUsers","DH_QgendaScheduleEntry","DH_SyncAMIONUsers","LA_Preceptors","LA_Trainee","Momentum_Assignments","Prep_BuildSchedules","Prep_TraineeSchedulecalendar","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUsersListForRecordofRotations"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves users list for recordof rotations data; uses temporary tables, joins 18+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the Rotation Management subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetUserTimeSheet","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@IsOnCall","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":null},{"name":"@TimeSheetSource","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":"NULL"}],"lineCount":1582,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetSub","DH_UserVerification","PF_AffiliateAgreement","PF_AffiliateName","Prep_BuildSchedules","Prep_SiteNames","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_UserTypes"],"sprocsCalledFromBody":["GetAmionUserTimeSheet","GetUserTimeSheetForConference"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user time sheet data; uses temporary tables, joins 95+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 95+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetUserTimeSheet_10182025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@IsOnCall","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":null},{"name":"@TimeSheetSource","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":"NULL"}],"lineCount":1635,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetSub","DH_UserVerification","PF_AffiliateAgreement","PF_AffiliateName","Prep_BuildSchedules","Prep_SiteNames","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_UserTypes"],"sprocsCalledFromBody":["GetAmionUserTimeSheet","GetUserTimeSheetForConference"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user time sheet_10182025 data; uses temporary tables, joins 98+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 98+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetUserTimeSheet_11262025","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@IsOnCall","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":null},{"name":"@TimeSheetSource","dataType":"VERYSMALLNUMBER","direction":"OUTPUT","defaultValue":"NULL"}],"lineCount":1578,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetSub","DH_UserVerification","PF_AffiliateAgreement","PF_AffiliateName","Prep_BuildSchedules","Prep_SiteNames","Prep_TraineeReSchedulecalendar","Prep_TraineeReSchedulecalendarData","Prep_TraineeSchedulecalendar","Prep_TraineeSchedulecalendarData","SEC_Departments","SEC_DepartmentsMECServiceCredentials","SEC_UserTypes"],"sprocsCalledFromBody":["GetAmionUserTimeSheet","GetUserTimeSheetForConference"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user time sheet_11262025 data; uses temporary tables, joins 95+ tables, uses CTEs for data organization.","businessPurpose":"Serves as a primary data retrieval endpoint for the Duty Hours Logging subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 95+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"GetUserTimeSheet05022013","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsOnCall","dataType":"VerySmallNumber","direction":"OUTPUT","defaultValue":null},{"name":"@TimeSheetSource","dataType":"VerySmallNumber","direction":"OUTPUT","defaultValue":"Null"}],"lineCount":187,"tablesReferenced":["DH_ActivityCategorySettings","DH_AmionSchedule","DH_AmionScheduleRotationAssignments","DH_DepartmentActivities","DH_DepartmentRotations","DH_SyncAMIONRotations","DH_SyncAMIONUsers","DH_UserTimesheet","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["GetAmionUserTimeSheet","GetUserTimeSheetForConference"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user time sheet05022013 data; uses temporary tables, joins 13+ tables, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 13+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"GetUserTimeSheetCount","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToGet","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.UserTimeSheetExist"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves user time sheet count data; uses temporary tables.","businessPurpose":"Provides data retrieval for the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"GetUserTypeList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":20,"tablesReferenced":["SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.GetUsersTypeList","MyEvaluations.Business.Security/UserManager.cs"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Retrieves user type list data; uses temporary tables.","businessPurpose":"Provides data retrieval for the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"GetUserViolationByDateRange","schema":"dbo","parameters":[{"name":"@ssnUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@UserIDs","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsFromConferenceAttendance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":938,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_AveragedForViolationsHistory","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_UserTimeSheetViolations","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":["Add1in7UserViolationForAveragedNo","Add1in7UserViolationForAveragedYes","Add80HrViolationForAveragedYes","DeleteUserTimeSheetViolationDetails","GetACGMEInfoByRuleID","GetComplianceSettingsInfoByRuleID","GetUserInfoByDateRangeVio","GetViolations"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.GetViolationDetails"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves user violation by date range data; uses temporary tables, joins 22+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Violation Tracking subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetViolationDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ViolationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":92,"tablesReferenced":["DH_AveragedForViolations","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_UserTimeSheetViolations","DH_UserTimesheet","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":11,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.FetchViolationDetailsByID"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves violation details data; uses temporary tables, joins 9+ tables, uses CTEs for data organization.","businessPurpose":"Provides data retrieval for the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"high"},{"name":"GetViolationList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TraineeName","dataType":"ShortText","direction":"IN","defaultValue":"''"},{"name":"@IsAll","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@SeletedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SortBy","dataType":"ShortText","direction":"IN","defaultValue":"NULL"},{"name":"@StartIndex","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@PageSize","dataType":"INT","direction":"IN","defaultValue":"40"},{"name":"@TotalCount","dataType":"INT","direction":"OUTPUT","defaultValue":null}],"lineCount":375,"tablesReferenced":["DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_UserTimesheet","SEC_MyEvalMainPageLinks","SEC_ToDoAdmRvwClnHoursViolations","SEC_UserRoles","SEC_Users"],"sprocsCalledFromBody":["usp_TraceMyEvalMainPageCounts"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.Unknown"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves violation list data; employs dynamic SQL, uses temporary tables, joins 18+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Violation Tracking subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetViolationList_20230818","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TraineeName","dataType":"ShortText","direction":"IN","defaultValue":"''"},{"name":"@IsAll","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@SeletedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartIndex","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@PageSize","dataType":"INT","direction":"IN","defaultValue":"40"}],"lineCount":215,"tablesReferenced":["DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_UserTimesheet","EVAL_EvaluateEvaluation","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves violation list_20230818 data; uses temporary tables, joins 29+ tables, wrapped in explicit transaction.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Violation Tracking subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Simplify the query plan by breaking down the 29+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"high"},{"name":"GetViolationList_20240807","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TraineeName","dataType":"ShortText","direction":"IN","defaultValue":"''"},{"name":"@IsAll","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@SeletedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SortBy","dataType":"ShortText","direction":"IN","defaultValue":"NULL"},{"name":"@StartIndex","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@PageSize","dataType":"INT","direction":"IN","defaultValue":"40"}],"lineCount":363,"tablesReferenced":["DH_AveragedForViolations","DH_ComplianceAdmin","DH_DepartmentACGMERules","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments","SEC_MyEvalMainPageLinks","SEC_ToDoAdmRvwClnHoursViolations","SEC_Users"],"sprocsCalledFromBody":["usp_TraceMyEvalMainPageCounts"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Retrieves violation list_20240807 data; employs dynamic SQL, uses temporary tables, joins 29+ tables.","businessPurpose":"Serves as a primary data retrieval endpoint for the ACGME Violation Tracking subsystem, aggregating data across multiple related entities to provide comprehensive views for the UI or reporting layer, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 29+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"GetViolations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":72,"tablesReferenced":["DH_UserTimeSheetViolations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Retrieves violations data; uses temporary tables.","businessPurpose":"Provides data retrieval for the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"GetWrongSyncDepartments","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@IsWrongSync","dataType":"SMALLNUMBER","direction":"OUTPUT","defaultValue":null}],"lineCount":159,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierCalls","DH_AmionTangierClinics","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","OnCallUserDetail_History"],"sprocsCalledFromBody":["GetSyncAmionUsers"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Retrieves wrong sync departments data; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Schedule Synchronization subsystem, maintaining data consistency between MyEvaluations and external scheduling platforms.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"GetWrongSyncDetails","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null}],"lineCount":148,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierCalls","DH_AmionTangierClinics","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","OnCallUserDetail_History"],"sprocsCalledFromBody":["GetSyncAmionUsers"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"For Getting the Wrong syncs and sync names; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Provides data retrieval for the Schedule Synchronization subsystem, maintaining data consistency between MyEvaluations and external scheduling platforms.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"ImportConferenceSchedules","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":88,"tablesReferenced":["DH_TemPImportConferenceSchedules"],"sprocsCalledFromBody":["GetConflictConferences_test"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Imports conference schedules from external source; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Ingests external data into the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"ImportMomentumData","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsManual","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":164,"tablesReferenced":["DH_MomentumSchedule","DH_MomentumScheduleHistory","Momentum_Assignments","Momentum_Assignments_History","Momentum_Roles","Momentum_Roles_History","Momentum_Staff","Momentum_Staff_History"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveQGendaScheduleManager.cs.ImportMomentumDataByDepartmentID"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Import Momentum Data; uses temporary tables, joins 16+ tables, wrapped in explicit transaction.","businessPurpose":"Ingests external data into the Momentum Integration subsystem, enabling data import from the Momentum scheduling system for integrated duty hour tracking.","optimizationRecommendations":["Simplify the query plan by breaking down the 16+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"InsertBaseCCTopicCategories","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["DH_BaseCCTopicCategories","DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Get Conference Topic Category; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"InsertCCTopicCategory","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AddedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.InsertNewTopicCategory"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Insert Conference Topic Category; uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"InsertConfigurationRulesSettingTypes","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ClinicalhourrulesSettingConfigvalue","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ExceptionsSettingConfigvalue","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"}],"lineCount":84,"tablesReferenced":["DH_ConfigurationRulesSettingTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Inserts new configuration rules setting types records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"InstitutionalClinicalHoursDetailedReportInputs","schema":"dbo","parameters":[{"name":"@Imode","dataType":"Varchar(100)","direction":"IN","defaultValue":"null"},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@TrainingTypeID","dataType":"BigNumber","direction":"IN","defaultValue":"-1"}],"lineCount":177,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ActivityColors","DH_ActivitySettings","DH_DepartmentActivities","DH_DepartmentMostUsedActivities","DH_DepartmentRotationActivities","SEC_DepartmentTrainingTypes","SEC_Departments","SEC_Programs","SEC_TrainingTypes","SEC_UserTypes"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":true,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["InstitutionalClinicalHoursDetailedReportManager.cs.GetDetails"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages clinical hours detailed report inputs; uses cursor-based row processing, uses temporary tables, joins 10+ tables.","businessPurpose":"Supports the Institutional Reporting subsystem, providing institution-wide visibility into compliance status across all residency programs.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"IsCheckConferenceEvaluationStatus","schema":"dbo","parameters":[{"name":"@EvaluationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["DH_CCEvaluation"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.IsCheckConferenceEvaluationStatus"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"TO CHECK THE EVALUATION IS Closed OR NOT; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"IsEnableDHTrackUserTypeID","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":29,"tablesReferenced":["DH_TrackUserTypes","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.IsEnableDHTrack"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether enabledh track user typeid; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"IsEnableToSubmitDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["SEC_Users"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.GetUsersByPGYList"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether enable to submit duty hours; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"IsMoonlightingEnable","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_ProgramExcludedCategory"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.IsMoonlightingEnable"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Checks whether moonlighting enable; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"IsMoonlightingEnableForDepartment","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_ExcludedActivityCategoryForPGY","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.IsMoonlightingEnableForDepartment"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Checks whether moonlighting enable for department; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"IsScheduleIntegrated","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":38,"tablesReferenced":["DH_AmionSchedule","DH_MomentumSchedule","DH_QGendaSchedule","DH_SyncAMIONRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.IsScheduleIntegratedForDepartment"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Checks whether schedule integrated; uses temporary tables.","businessPurpose":"Validates data integrity or business rules within the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"low"},{"name":"MainPulicationResearch_20220311","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SectionID","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FileType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@Report","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@StartIndex","dataType":"LargeNumber","direction":"IN","defaultValue":"1"}],"lineCount":353,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","PF_DocumentCreditSubject","PF_UserDocuments","PF_UserSpecificSubject","SEC_UserRoles"],"sprocsCalledFromBody":["GetLinkedDepartmentList","GetRowValuesToString"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages pulication research_20220311; uses temporary tables, joins 32+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 32+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"MainPulicationResearch_v2","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SectionID","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FileType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@FlagArchived","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@Report","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@StartIndex","dataType":"LargeNumber","direction":"IN","defaultValue":"1"}],"lineCount":551,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","PF_DocumentCreditSubject","PF_UserDocuments","PF_UserSpecificSubject","SEC_UserRoles"],"sprocsCalledFromBody":["GetLinkedDepartmentList","GetRowValuesToString"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages pulication research_v2; uses temporary tables, joins 50+ tables, uses CTEs for data organization.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Simplify the query plan by breaking down the 50+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"MergeUsers_ProcessRow","schema":"dbo","parameters":[{"name":"@SourceUserID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@DestinationUserID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":532,"tablesReferenced":["DH_AveragedForViolations","DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheet","DH_UserTimesheetAMION","SCHE_ApplicationEmailSchedules","SEC_AccessHistory","SEC_Departments","SEC_UserDetails","SEC_Users","sys_merged_users"],"sprocsCalledFromBody":["ArchiveUsers","MergeFNPPreceptors"],"crudType":"mixed","antiPatterns":{"hasCursor":true,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":true,"nolockCount":3,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Merges users_ process row data; uses cursor-based row processing, employs dynamic SQL, uses temporary tables.","businessPurpose":"Supports the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 28+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"high"},{"name":"MilestoneRotationQuizScheduler","schema":"dbo","parameters":[],"lineCount":463,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers","DH_MomentumSchedule","DH_MomentumTaskRoles","DH_QGendaSchedule","DH_QgendaScheduleEntry","DH_QgendaTaskRoles","DH_SyncAMIONRotations","DH_SyncAMIONUsers","EVAL_MilestoneRotationLearningModuleData","EVAL_MilestoneRotationLearningModules","EVAL_MilestoneRotationQuizes","EVAL_MilestoneRotationQuizesData","LA_AssignmentUsers","LA_LearningAssignments","LA_Literature","LA_LiteratureData","Momentum_Assignments","PF_UserDocuments","QUIZ_Assignment","QUIZ_AssignmentUsers","QUIZ_Template","SEC_Users"],"sprocsCalledFromBody":["GetSummaryPerformanceDateRangesByUserGaps"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Description,,Milestone Rotation Quiz Scheduler; uses temporary tables, joins 67+ tables, uses CTEs for data organization.","businessPurpose":"Supports the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 67+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"ReCalcConferencesServerTime","schema":"dbo","parameters":[],"lineCount":18,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Manages calc conferences server time.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RecordofRotationsDetailedFiscalFormat","schema":"dbo","parameters":[{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"2016"},{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":260,"tablesReferenced":["SEC_CitizenShipStatus","SEC_City","SEC_Countries","SEC_Degrees","SEC_Departments","SEC_ERAS","SEC_EducationCategory","SEC_EducationCertification","SEC_Enrolled","SEC_Ethnicity","SEC_Gender","SEC_Language","SEC_LayoutSpecificFields","SEC_Layouts","SEC_MaritalStatus","SEC_MedSchools","SEC_Military","SEC_MilitaryRank","SEC_PostGraduation","SEC_Roles","SEC_Specialty","SEC_States","SEC_UserAddress","SEC_UserRoles","SEC_UserStatus","SEC_UserTypes","SEC_UsersExt","SEC_VisaTypes"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourReportManager.cs.GetRecordofRotationsDetailedFiscalFormat"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages rotations detailed fiscal format; employs dynamic SQL, uses temporary tables, joins 48+ tables.","businessPurpose":"Supports the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Simplify the query plan by breaking down the 48+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"RemoveAllCCConferenceAssignPresenters","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":13,"tablesReferenced":["DH_CCConferenceSchedulePresenters"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes allcc conference assign presenters records.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"RemoveAllConferenceAssignPresenters","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":19,"tablesReferenced":["DH_ConferenceSchedulePresenters"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes all conference assign presenters records.","businessPurpose":"Removes data from the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RemoveAllConferenceUserAttendance","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes all conference user attendance records.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RemoveAllGroupUser","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":14,"tablesReferenced":["DH_DepartmentCMEGroupUsers"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes all group user records.","businessPurpose":"Removes data from the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"RemoveBSNUserTimeSheet","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDDelete","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":102,"tablesReferenced":["DH_BSNUserTimeSheetNoActivities","DH_BSNUserTimesheet","DH_BSNUserTimesheetDeleteLog","DH_BSNUserTimesheetSub","DH_BSNUserTimesheetSub_History","DH_BSNUserTimesheet_History"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Deletes user time sheet records; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"RemoveCMEGroup","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":17,"tablesReferenced":["DH_DepartmentCMEGroup"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes group records.","businessPurpose":"Removes data from the CME Integration subsystem, connecting conference participation with CME credit tracking for faculty and residents.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RemoveConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":15,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Deletes conference schedule records.","businessPurpose":"Removes data from the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RemoveUserTimeSheet","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDDelete","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":156,"tablesReferenced":["DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetDeleteLog","DH_UserTimesheetSub","DH_UserTimesheetSub_History","DH_UserTimesheet_History"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":["TimeSheetManager.cs.RemoveUserTimeSheet"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Deletes user time sheet records; uses temporary tables, joins 8+ tables, wrapped in explicit transaction.","businessPurpose":"Removes data from the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data."],"migrationRelevance":"medium"},{"name":"RestoreConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":37,"tablesReferenced":[],"sprocsCalledFromBody":["RestoreCMEScheduleByDepartmentConferenceScheduleID","RestoreDHConferenceSchedule","SaveConferenceScheduleAuditTrailInfo"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.RestoreConfereneceSchedule"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted conference schedule; uses temporary tables.","businessPurpose":"Enables recovery of previously removed data within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"RestoreConferenceScheduleByIDs","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":433,"tablesReferenced":["CME_Evaluation","CME_EvaluationComments","CME_EvaluationConflicts","CME_EvaluationLearningObjectives","CME_EvaluationTopicCredits","CME_ScheduleLearningObjectives","CME_ScheduleTemplate","CME_ScheduleTemplateLecturers","CME_ScheduleTemplateSpeakerCredits","CME_ScheduleTemplateTopics","DH_ConferenceDailyRecurring","DH_ConferenceMonthlyRecurring","DH_ConferenceSchedulePresenters","DH_ConferenceScheduleTemplatePresenters","DH_ConferenceScheduleTemplateUsers","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceWeeklyRecurring","DH_DepartmentConferences","DH_IndividualConference","QUIZ_Assignment","QUIZ_AssignmentUsers"],"sprocsCalledFromBody":["SaveConferenceScheduleAuditTrailInfo","spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":["ConferenceSchedulesManager.cs.RestoreConferenceScheduleByIDs"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted conference schedule byi ds; uses temporary tables, joins 99+ tables, wrapped in explicit transaction.","businessPurpose":"Enables recovery of previously removed data within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 99+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"RestoreDeleteUncompleteConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":58,"tablesReferenced":["DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":["RestoreConferenceSchedule"],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.RestoreConfereneceScheduleTemplate"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted delete uncomplete conference schedule; uses temporary tables.","businessPurpose":"Enables recovery of previously removed data within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RestoreDepartmentActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.SetActivityDeleteFlag"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted department activity; uses temporary tables.","businessPurpose":"Enables recovery of previously removed data within the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"RestoreDHConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted conference schedule.","businessPurpose":"Enables recovery of previously removed data within the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"RestoreGlobalComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":70,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentComplianceSettings","DH_ExcludedActivityCategoryForPGY","DH_ProgramACGMERules","DH_ProgramExcludedCategory","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.RestoreDefaultComplianceSettings"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted global compliance settings; uses temporary tables.","businessPurpose":"Enables recovery of previously removed data within the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"high"},{"name":"RestoreRotations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":76,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.RestoreRotations"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,For Restoring the Rotations; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Enables recovery of previously removed data within the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"RestoreToDefaultComplianceSettings","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":[],"sprocsCalledFromBody":["CopyFromGloablComplianceSettings"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.RestoreToDefaultComplianceSettings"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Restores previously deleted to default compliance settings.","businessPurpose":"Enables recovery of previously removed data within the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"RotationList","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Manages list; uses temporary tables.","businessPurpose":"Supports the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"low"},{"name":"SaveBSNUserTimeSheet","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToSave","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRecursion","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@RotationIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EndDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@Separator","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsFromConferenceAttendance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@FutureDatetime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":538,"tablesReferenced":["ACT_Sessions","BSN_Course","BSN_CourseFaculty","BSN_CourseSession","BSN_Faculty","BSN_StudentCLCAssignment","DH_BSNUserTimeSheetNoActivities","DH_BSNUserTimesheet","DH_BSNUserTimesheetLog","DH_BSNUserTimesheetSub","DH_BSNUserVerification","DH_DepartmentActivities","DH_UserVerification","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["UpdateBSNNonSubmitters","spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Saves user time sheet data (insert or update); uses temporary tables, joins 47+ tables, uses MERGE for upsert logic.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 47+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"SaveConferenceDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDTo","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":491,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments","SaveConferenceDutyHours_Log"],"sprocsCalledFromBody":["CheckIsAmionScheduleExists","GetLastRotation","GetUserViolationByDateRange","SaveUserTimeSheet","spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Saves conference duty hours data (insert or update); uses temporary tables, joins 22+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"SaveConferenceDutyHoursDemo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDTo","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":422,"tablesReferenced":["DH_ActivityCategories","DH_ActivityCategorySettings","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentConferences","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":["CheckIsAmionScheduleExists","GetUserViolationByDateRange","SaveUserTimeSheet"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Saves conference duty hours demo data (insert or update); uses temporary tables, joins 18+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"SaveConferenceScheduleAuditTrailInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@EventTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":"0"},{"name":"@EntityID","dataType":"BigNumber","direction":"IN","defaultValue":"0 -- added by bharathi on 2017/01/06"}],"lineCount":160,"tablesReferenced":["DH_CCConferenceScheduleLearningObjectives","DH_ConferenceRecurringType","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","PF_UserDocuments","QUIZ_Template","SEC_EventDetail","SEC_Events","SEC_Users"],"sprocsCalledFromBody":["GetConferenceScheduleInfoByID"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SaveConferenceScheduleAuditTrailInfo"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Saves conference schedule audit trail info data (insert or update); uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"SaveConferenceUsersDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":53,"tablesReferenced":["DH_ConferenceUserAttendance"],"sprocsCalledFromBody":["SaveConferenceDutyHours","spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Saves conference users duty hours data (insert or update); uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"SaveConferenceUsersDutyHoursDemo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["DH_ConferenceUserAttendance"],"sprocsCalledFromBody":["SaveConferenceDutyHours"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Saves conference users duty hours demo data (insert or update); uses temporary tables.","businessPurpose":"Records new data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"SaveExplanations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToSave","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ViolationType","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@Explanation","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ShiftRestHours","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@ShiftTotalHours","dataType":"ScoreNumber","direction":"IN","defaultValue":null}],"lineCount":79,"tablesReferenced":["DH_ACGMERules","DH_DepartmentACGMERules","DH_UserTimesheet"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Saves explanations data (insert or update); uses temporary tables.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"SaveGeoLocationActivitestoDutyHoursEvents","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":98,"tablesReferenced":["DH_ActivityGeoLocationEvents","DH_UserTimesheet","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Saves geo location activitesto duty hours events data (insert or update); uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"SaveHoursforActivitiesBasedonGeoLocationEvents","schema":"dbo","parameters":[{"name":"@GeoEventsGUID","dataType":"VARCHAR(250)","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"DATETIME","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"DATETIME","direction":"IN","defaultValue":null}],"lineCount":152,"tablesReferenced":["DH_ActivityGeoLocationEvents","DH_DepartmentActivities","DH_DepartmentRotations","DH_SyncAMIONUsers","DH_UserTimesheet","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["SaveGeoLocationActivitestoDutyHoursEvents"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Saves hoursfor activities basedon geo location events data (insert or update); uses temporary tables, joins 7+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"SaveHoursforActivitiesBasedonQR","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":352,"tablesReferenced":["DH_ActivityScannedQRCodesDetails","DH_ActivityScannedQRCodesDetails_History","DH_DepartmentActivities","DH_DepartmentRotations","DH_SyncAMIONUsers","DH_UserTimesheet","SEC_UserTypes","SEC_Users"],"sprocsCalledFromBody":["SaveQRScannedActivitestoDutyHours"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.ReadQRforUsers"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Saves hoursfor activities basedonqr data (insert or update); uses temporary tables, joins 31+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the QR Code Verification subsystem, enabling real-time attendance verification through QR code scanning at conferences and activities.","optimizationRecommendations":["Simplify the query plan by breaking down the 31+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"SaveMomentumTaskRoles","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TaskRoleID","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":58,"tablesReferenced":["DH_MomentumTaskRoles","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","Momentum_Roles"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.SaveMomentumTaskRoles"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Save Momentum Task Roles; uses temporary tables, joins 7+ tables.","businessPurpose":"Records new data in the Momentum Integration subsystem, enabling data import from the Momentum scheduling system for integrated duty hour tracking.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"saveONcallQuizAssignments","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"CounterNumber","direction":"IN","defaultValue":null},{"name":"@RotationIDs","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@UserTypeId","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@AnswersDisplay","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AssignedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":111,"tablesReferenced":["DH_AmionScheduleRotationAssignments","DH_SyncAMIONRotations","DH_SyncAMIONUsers","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["SaveQuizAssignmentDetails_new"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages ncall quiz assignments; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the On-Call Management subsystem, managing on-call service assignments and rotations for resident scheduling.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"SaveQgendaImportedTasksRoles","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@TaskRole","dataType":"LARGETEXT","direction":"IN","defaultValue":null}],"lineCount":139,"tablesReferenced":["DH_QgendaTaskRoles","DH_QgendaTasks","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONRotations_History"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.SaveTaskRoles"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Saves qgenda imported tasks roles data (insert or update); uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"SaveQRScannedActivitestoDutyHours","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":45,"tablesReferenced":["DH_ActivityScannedQRCodesDetails","DH_UserTimesheet","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Saves scanned activitesto duty hours data (insert or update); uses temporary tables.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"SaveUserTimeSheet","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToSave","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRecursion","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@RotationIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EndDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@Separator","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsFromConferenceAttendance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@FutureDatetime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsReset","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsWeb","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":652,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotations","DH_ResetClinicalHoursLogs","DH_UserTimeSheetDuplicateData","DH_UserTimeSheetNoActivities","DH_UserTimesheet","DH_UserTimesheetLog","DH_UserTimesheetSub","PF_AffiliateAgreement","PF_AffiliateName","SEC_Users"],"sprocsCalledFromBody":["AddDHVerificationInfo","spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":2,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Saves user time sheet data (insert or update); uses temporary tables, joins 21+ tables, uses CTEs for data organization.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 21+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible."],"migrationRelevance":"high"},{"name":"SaveUserTimeSheet_01312022","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToSave","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRecursion","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@RotationIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EndDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@Separator","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@IsFromConferenceAttendance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"NULL"},{"name":"@FutureDatetime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"}],"lineCount":62,"tablesReferenced":["DH_UserTimesheetLog"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Saves user time sheet_01312022 data (insert or update); uses MERGE for upsert logic.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Add SET NOCOUNT ON at the procedure start (if not present) to suppress row-count messages and reduce network overhead."],"migrationRelevance":"medium"},{"name":"SaveUserTimeSheet_Overnite","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToSave","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRecursion","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@RotationIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EndDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@Separator","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":323,"tablesReferenced":["DH_UserTimesheet","DH_UserTimesheetDeleteLog","DH_UserTimesheetSub"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Saves user time sheet_ overnite data (insert or update); uses temporary tables, uses MERGE for upsert logic, wrapped in explicit transaction.","businessPurpose":"Records new data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"SaveUserTimeSheetAmion","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserIDToSave","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DutyEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRecursion","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ActivityIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@RotationIDArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartDateArray","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@EndDateArray","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":177,"tablesReferenced":["DH_UserTimesheetAMION","DH_UserTimesheetSubAMION"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Saves user time sheet amion data (insert or update); uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"SaveUserViolationByAdminAfterSettingsChanged","schema":"dbo","parameters":[{"name":"@ssnUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@UserIDs","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ACGMERuleID","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":983,"tablesReferenced":["DH_ACGMERules","DH_AveragedForViolations","DH_AveragedForViolationsHistory","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_UserTimeSheetViolations","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":["Add1in7UserViolationForAveragedNo","Add1in7UserViolationForAveragedYes","Add80HrViolationForAveragedYes","DeleteUserTimeSheetViolationDetails","GetACGMEInfoByRuleID","GetComplianceSettingsInfoByRuleID","GetUserInfoByDateRangeVio"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.SaveUserViolationByAdminAfterSettingsChanged"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Saves user violation by admin after settings changed data (insert or update); uses temporary tables, joins 22+ tables, wrapped in explicit transaction.","businessPurpose":"Records new data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 22+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"ScheduleJob_ProcessUsers","schema":"dbo","parameters":[{"name":"@ProcessID","dataType":"BigInt","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"BigInt","direction":"IN","defaultValue":null}],"lineCount":187,"tablesReferenced":["DH_ConferenceSchedulePresenters","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentConferences","SEC_UserCertifications","SEC_UserTypes","SEC_Users","SEC_UsersExt"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages job_ process users; uses temporary tables, joins 14+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"high"},{"name":"ScheduleJob_ReminderDepartments","schema":"dbo","parameters":[{"name":"@ProcessID","dataType":"BigInt","direction":"IN","defaultValue":null}],"lineCount":152,"tablesReferenced":["DH_ComplianceAdmin","DH_ConferenceSchedules","DH_DepartmentConferences","EVAL_EvaluationScheduleEvaluation","EVAL_Evaluations","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"report","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages job_ reminder departments; uses temporary tables, joins 7+ tables, processes XML data.","businessPurpose":"Supports the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"SearchAmionSchedule","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":50,"tablesReferenced":["DH_AmionSchedule"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.LatestScheduleAvailable"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Manages amion schedule; uses temporary tables.","businessPurpose":"Supports the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"SendAssignmentEvaluationMail","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AddedDateTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AdminUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvalPeriodID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":575,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","DH_DepartmentRotations","EVAL_ACGMETemplateLink","EVAL_Audiences","EVAL_EmailTemplate","EVAL_Evaluations","EVAL_Templates","Eval_BaseAudience","Prep_SiteNames","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["CheckEmailStatus"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Sending Mail to the evaluator when an evaluation is assigned; uses temporary tables, joins 15+ tables, processes XML data.","businessPurpose":"Triggers outbound communications from the Email Notifications subsystem, keeping stakeholders informed of pending actions, upcoming deadlines, and compliance events through automated communications.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 15+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible."],"migrationRelevance":"high"},{"name":"SendAssignmentEvaluationMail_T","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AddedDateTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AdminUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EvalPeriodID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":586,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceSchedules","DH_DepartmentConferences","DH_DepartmentRotations","EVAL_ACGMETemplateLink","EVAL_Audiences","EVAL_EmailTemplate","EVAL_Evaluations","EVAL_Templates","Eval_BaseAudience","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":["CheckEmailStatus"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Sending Mail to the evaluator when an evaluation is assigned; uses temporary tables, joins 14+ tables, processes XML data.","businessPurpose":"Triggers outbound communications from the Email Notifications subsystem, keeping stakeholders informed of pending actions, upcoming deadlines, and compliance events through automated communications.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Leading-wildcard LIKE patterns (LIKE '%...') prevent index usage — consider full-text search or restructuring the query to use prefix matching where possible."],"migrationRelevance":"high"},{"name":"SendDHVerificationEmail","schema":"dbo","parameters":[],"lineCount":609,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentRotationVerification","DH_DepartmentRotations","DH_UserVerification","EVAL_EmailTemplate","PF_EmailTemplate","SCHE_ApplicationEmailSchedules","SCHE_ApplicationEmailSchedules_TempInsertData","SEC_Departments","SEC_KeyTxtInfo","SEC_UserRoles"],"sprocsCalledFromBody":["spLOG_ErrorHandling"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"To send email to users as per the department settings; uses temporary tables, joins 27+ tables, processes XML data.","businessPurpose":"Triggers outbound communications from the Duty Hours Verification subsystem, ensuring accuracy of logged duty hours through supervisor review and attestation workflows.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 27+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"SetConferenceDecline","schema":"dbo","parameters":[],"lineCount":25,"tablesReferenced":["DH_CCEvaluation"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Removing the Decline Date for the completed Conference Evaluation; uses temporary tables.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"SetConferenceEvaluationExemptedFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_CCEvaluation"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.SubmitConferenceEvaluations"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Sets conference evaluation exempted flag configuration; uses temporary tables.","businessPurpose":"Supports the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"SetDepartmentActivityDisableFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.SetActivityDisableFlag"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Sets department activity disable flag configuration; uses temporary tables.","businessPurpose":"Supports the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"SetDepartmentClinicDisableFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentClinicId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_DepartmentClinics"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.SetClinicDisableFlag"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Sets department clinic disable flag configuration; uses temporary tables.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"SetDepartmentConferencesDeletedFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":155,"tablesReferenced":["CME_ScheduleTemplate","DH_CCEvaluation","DH_ConferenceDailyRecurring","DH_ConferenceMonthlyRecurring","DH_ConferenceSchedulePresenters","DH_ConferenceScheduleTemplatePresenters","DH_ConferenceScheduleTemplateUsers","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceWeeklyRecurring","DH_DepartmentConferences","DH_DepartmentConferencesRotations","DH_IndividualConference","EVAL_OutcomeConference","Prep_ClinicNames","QUIZ_Assignment","QUIZ_AssignmentUsers"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.SetConferenceDeleteFlag"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Sets department conferences deleted flag configuration; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"SetDepartmentConferencesDisableFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.SetConferenceDisableFlag"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Sets department conferences disable flag configuration; uses temporary tables.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"SetDepartmentConferencesSharedFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceId","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.SetConferenceSharedFlag"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Sets department conferences shared flag configuration; uses temporary tables.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"SetDepartmentRotationDisableFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":24,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.SetRotationDisableFlag"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Sets department rotation disable flag configuration; uses temporary tables.","businessPurpose":"Supports the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"SubmitConferenceUserAttendanceUsersLog","schema":"dbo","parameters":[{"name":"@ConferenceUserAttendanceID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":48,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceUsersLog","DH_DepartmentConferences"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateUserAttendanceCheckInCheckOut"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Manages conference user attendance users log; uses temporary tables.","businessPurpose":"Supports the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"TestDutyHoursReportInputData","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNUmber","direction":"IN","defaultValue":null},{"name":"@blockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@blockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@summaryCompliance","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@AcademicStartYear","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@MaxPGY","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":1564,"tablesReferenced":["DH_ComplianceSettingBase","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_DepartmentRotations","SEC_Programs","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages duty hours report input data; uses temporary tables, joins 30+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 30+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"UnDeleteCMEPresentersFromConference","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":107,"tablesReferenced":["CME_ScheduleGuests","CME_ScheduleTemplate","CME_ScheduleTemplateLecturers","DH_ConferenceGuests","DH_ConferenceSchedulePresenters","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UnDeleteCMEPresentersFromConference"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,, Insert or Update the presenters in CME from Conference module; uses temporary tables, joins 6+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UndoConferenceEvaluation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":35,"tablesReferenced":["DH_CCEvaluation"],"sprocsCalledFromBody":["GetIncompleteEvaluations"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UndoConferenceEvaluation"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Undo Conference Evaluation; uses temporary tables.","businessPurpose":"Supports the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UndoDutyHourVerifiedUsers","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":100,"tablesReferenced":["ACT_Sessions","BSN_CourseSession","BSN_StudentCLCAssignment","BSN_StudentCLCAssignmentChildFieldOptions","DH_BSNUserTimesheet","DH_BSNUserVerification","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.UndoDutyHourVerifiedUsers"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Undoes duty hour verified users; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateAmionScheduleCallAssignments","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ToDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_AmionScheduleCallAssignments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates amion schedule call assignments data.","businessPurpose":"Modifies existing data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateAmionScheduleClinicAssignments","schema":"dbo","parameters":[{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionRotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@FromDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ToDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_AmionScheduleClinicAssignments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates amion schedule clinic assignments data.","businessPurpose":"Modifies existing data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateAmionUniqueIDByCriteria","schema":"dbo","parameters":[{"name":"@ReportNumber","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AmionScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":26,"tablesReferenced":["DH_AmionTangierRotations","DH_AmionTangierUsers"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates amion uniqueid by criteria data.","businessPurpose":"Modifies existing data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateAmionUniqueIDByCriteria2","schema":"dbo","parameters":[],"lineCount":44,"tablesReferenced":["DH_AmionScheduleClinicAssignments","DH_AmionScheduleCrossCoverAssignments","DH_AmionScheduleRotationAssignments","DH_AmionTangierUsers"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates amion uniqueid by criteria2 data.","businessPurpose":"Modifies existing data in the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateBulkConferenceScheduleAttendanceStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null}],"lineCount":319,"tablesReferenced":["CME_ScheduleTemplate","DH_CCConferenceScheduleTemplate","DH_ConferenceAttendanceQueueForDutyHours","DH_ConferenceSchedules","DH_ConferenceUserAttendance","LOG_ConferenceUserAttendance","QUIZ_Assignment","QUIZ_AssignmentUsers","SEC_Departments","SEC_EventDetail","SEC_Events"],"sprocsCalledFromBody":["AddCCEvaluation","GetClinicsConferenceEmailInformation"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateAttendanceStatus"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Updates bulk conference schedule attendance status data; uses temporary tables, processes XML data, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"UpdateBulkConferenceScheduleAttendanceStatusDemo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":207,"tablesReferenced":["CME_ScheduleTemplate","DH_CCConferenceScheduleTemplate","DH_ConferenceUserAttendance","QUIZ_Assignment","QUIZ_AssignmentUsers","SEC_Departments"],"sprocsCalledFromBody":["AddCCEvaluation","DeleteConferenceDutyHours","GetClinicsConferenceEmailInformationDemo","SaveConferenceUsersDutyHours"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates bulk conference schedule attendance status demo data; uses temporary tables, processes XML data, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"UpdateCCTopicCategory","schema":"dbo","parameters":[{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["DH_CCTopicCategories"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateTopicCategory"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Update Conference Topic Category; uses temporary tables.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateCHLockModifications","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsLocked","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@LockThroughDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@LockedStatus","dataType":"VeryShortText","direction":"IN","defaultValue":null},{"name":"@LockModificationsType","dataType":"ShortText","direction":"IN","defaultValue":"''"}],"lineCount":77,"tablesReferenced":["DH_DepartmentLockSettings","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.UpdateCHLockModifications"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Toggle functionality of Locked /Un-Locked of Department; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinical Hours Locking subsystem, enforcing data integrity by preventing modifications to finalized clinical hours records.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"UpdateCompletionQueueStatus","schema":"dbo","parameters":[{"name":"@CompletionQueueID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":16,"tablesReferenced":["DH_CompletionQueue"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates completion queue status data.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateConferenceArchiveDate","schema":"dbo","parameters":[{"name":"@TemplateID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_CCConferenceTemplate"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.UpdateConferenceArchiveDate"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Update Conference Template  ArchivedDate.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateConferenceEvaluationStatusFromScheduler","schema":"dbo","parameters":[],"lineCount":30,"tablesReferenced":["DH_CCConferenceTemplate","DH_CCEvaluation","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Description,Update The evaluaiton Status based on the department settings; uses temporary tables.","businessPurpose":"Modifies existing data in the Conference Evaluations subsystem, tracking evaluation completion for conference-related assessments as part of residency competency requirements.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateConferencePortfolioDocument","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@CreatedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PFDocumentID","dataType":"LargeNumber","direction":"OUTPUT","defaultValue":null},{"name":"@PFPPDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":465,"tablesReferenced":["DH_ConferenceSchedules","PF_DocumentCreditSubject","PF_Subjects","PF_UserDocuments","SEC_Users"],"sprocsCalledFromBody":["AddConferencePFUserDocument","AddConferencePortfolioDocument","AddPFCreditSubjectForDepartment","UpdateConferencePFUserDocument"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateConferenceDocument"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updating CCTrack Portfolio Document; uses temporary tables, joins 6+ tables, processes XML data.","businessPurpose":"Modifies existing data in the Conference Portfolio subsystem, managing portfolio documentation associated with conference participation and professional development.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Consider adding covering indexes on frequently joined columns to reduce lookup overhead in the multi-table join chain.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"UpdateConferenceSchedule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PortfolioDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":"1"}],"lineCount":44,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates conference schedule data; uses temporary tables.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateConferenceScheduleAttendanceStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceUsers","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AttendanceStatus","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":46,"tablesReferenced":["DH_ConferenceUserAttendance"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates conference schedule attendance status data; uses temporary tables.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateConferenceScheduleAttendanceStatusByJob","schema":"dbo","parameters":[],"lineCount":174,"tablesReferenced":["DH_ConferenceAttendanceQueueForDutyHours","DH_ConferenceSchedules","DH_ConferenceUserAttendance","SEC_Departments","SEC_UserRoles"],"sprocsCalledFromBody":["DeleteConferenceDutyHours","SaveConferenceUsersDutyHours","spLOG_ErrorHandling"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateConferenceScheduleAttendanceStatusByJob"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates conference schedule attendance status by job data; uses temporary tables, processes XML data, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentActivity","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AbbreviatedName","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@ActivityCategorySettingID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsDisabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@UpdatedDepartmentActivityID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":27,"tablesReferenced":["DH_DepartmentActivities"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ActivityManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates department activity data; uses temporary tables.","businessPurpose":"Modifies existing data in the Activity Management subsystem, enabling departments to define trackable clinical and educational activities for duty hour logging.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentClinics","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UpdatedDepartmentClinicID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@AmionUniqueID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionBackupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AmionClinicName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ValidFromDate","dataType":"SmallDate","direction":"IN","defaultValue":null}],"lineCount":54,"tablesReferenced":["DH_DepartmentClinics","DH_SyncAMIONClinics"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ClinicManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates department clinics data; uses temporary tables.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentComplianceSettingsCalculationRule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null}],"lineCount":88,"tablesReferenced":["DH_AveragedForViolationsHistory","DH_DepartmentComplianceSettings","DH_DepartmentRotations","DH_UserTimesheet","SEC_Departments"],"sprocsCalledFromBody":["GetUserViolationByDateRange"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Update Duty-Hour Compliance Settings Calculation Rule; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the ACGME Compliance Settings subsystem, allowing programs to configure ACGME duty hour rules and thresholds specific to their specialty and institutional requirements.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"UpdateDepartmentConferences","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UpdatedDepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Name","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentActivityId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@IsRequired","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ExcusedRotations","dataType":"LargeText","direction":"IN","defaultValue":"NULL"},{"name":"@AcademicYear","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsCheckInFeatureEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":97,"tablesReferenced":["DH_ActivityCategorySettings","DH_DepartmentActivities","DH_DepartmentConferences","Prep_ClinicNames"],"sprocsCalledFromBody":["AddConferenceExcusedRotations"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates department conferences data; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentConferencesSchedules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@CCConferenceTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@QuizDueDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PortfolioDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":null},{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@IsSummaryConferenceUpdate","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsDocumentAttachToAllDates","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsAccessibleToAttendees","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@LastUpdatedMode","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SortBy","dataType":"verysmallnumber","direction":"IN","defaultValue":"0 --Added by Amit 6/21/2016 1 means SortBy \"Department & LastName\" and 0 means LastName"},{"name":"@IsCheckInFeatureEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":402,"tablesReferenced":["CME_ScheduleTemplate","DH_CCConferenceScheduleLearningObjectives","DH_CCConferenceScheduleTemplate","DH_CCConferenceTemplate","DH_CCEvaluation","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceUserAttendance","QUIZ_Assignment","QUIZ_AssignmentUsers","QUIZ_Template","SEC_Departments"],"sprocsCalledFromBody":["AddCCConferenceScheduleTemplate","AddCCEvaluation","AddConferenceBulkPresenters","AddConferenceQuizAssignments","AddConferenceUserAttendance","AddDeleteCMEPresentersFromConference","GetClinicsConferenceEmailInformation","ImportOncallToScheduleManagement","RemoveAllConferenceAssignPresenters","UpdateConferenceSchedule","UpdateDH_ConferenceUserAttendance"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.Update"],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Updates department conferences schedules data; uses temporary tables, joins 18+ tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 18+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"high"},{"name":"UpdateDepartmentDutyHoursSetupGroups","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SelectedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DutyHoursSetupItemID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@TrainingTypeID","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@IsEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":null}],"lineCount":54,"tablesReferenced":["DH_DepartmentDutyHoursSetupGroups"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.UpdatedutyHourSetpConfiguration"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates department duty hours setup groups data; uses temporary tables.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentExplanation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Explanation","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["DH_DepartmentExplanations"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationExplanationManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates department explanation data; uses temporary tables.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentGeofenceNames","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentGeofenceNameID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@SiteNameID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@GeofenceName","dataType":"varchar(50)","direction":"IN","defaultValue":null},{"name":"@GeofenceDescription","dataType":"varchar(250)","direction":"IN","defaultValue":"NULL"},{"name":"@Latitude","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Longitude","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@Radiusmts","dataType":"Decimal(18, 8)","direction":"IN","defaultValue":null},{"name":"@Radiusfts","dataType":"Decimal(18, 8)","direction":"IN","defaultValue":null},{"name":"@ActivityId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserTypeIds","dataType":"varchar(50)","direction":"IN","defaultValue":null},{"name":"@ModifiedBy","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@InstitutionalID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ActivityTypeIds","dataType":"varchar(100)","direction":"IN","defaultValue":"NULL"},{"name":"@CenterLatitude","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@CenterLongitude","dataType":"LongText","direction":"IN","defaultValue":null}],"lineCount":201,"tablesReferenced":["DH_DepartmentGeofenceNames","DH_GeofenceShapes","DH_GeofenceShapesHistory"],"sprocsCalledFromBody":["CheckProximityWarning"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":["GeofenceNamesManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates department geofence names data; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"UpdateDepartmentSummaryConferencesSchedules","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceTopic","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@ConferenceDocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@CCConferenceTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@QuizID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PassPercentage","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@QuizDueDate","dataType":"LargeDate","direction":"IN","defaultValue":null},{"name":"@DocumentName","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@ApplyToLevel","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@RequiredCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@OptionalCredit","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@DocumentTitle","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentDescription","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFilePath","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@DocumentFileSize","dataType":"ScoreNumber","direction":"IN","defaultValue":null},{"name":"@IsConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@DocumentCreditSubjectID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PortfolioDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IncludeSignField","dataType":"verysmallnumber","direction":"IN","defaultValue":null},{"name":"@CCTopicCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@DepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@PreviousDepartmentConferenceID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@StartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatIntervalType","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatInterval","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceRepeatBy","dataType":"BigNumber","direction":"IN","defaultValue":null},{"name":"@EnableMonday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableTuesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableWednesday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableThursday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableFriday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSaturday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableSunday","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@ConflictDates","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@StartTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@EndTime","dataType":"SmallDate","direction":"IN","defaultValue":"NULL"},{"name":"@IsDocumentAttachToAllDates","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsAccessibleToAttendees","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":null},{"name":"@LastUpdatedMode","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@SortBy","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"},{"name":"@IsCheckInFeatureEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckInEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMinimumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@IsMaximumCheckOutEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooEarlyOut","dataType":"SmallNumber","direction":"IN","defaultValue":"0"},{"name":"@TooLateIn","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":375,"tablesReferenced":["DH_ConferenceDailyRecurring","DH_ConferenceMonthlyRecurring","DH_ConferenceScheduleTemplates","DH_ConferenceSchedules","DH_ConferenceWeeklyRecurring"],"sprocsCalledFromBody":["AddConferenceDailyRecurring","AddConferenceMonthlyRecurring","AddConferenceWeeklyRecurring","AddDepartmentConferencesSchedulesForSummary","DeleteConferenceSchedule","UpdateDepartmentConferencesSchedules"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateDepartmentSummaryConferencesSchedules"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Description,,Update conference with multiple schedules; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans."],"migrationRelevance":"medium"},{"name":"UpdateDH_ConferenceSchedules","schema":"dbo","parameters":[{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DocumentActualName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DocumentPhysicalName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@DocumentLocation","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@PFDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":"- 1"},{"name":"@IsRepetitiveConference","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":90,"tablesReferenced":["DH_ConferenceScheduleTemplates","DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateDH_ConferenceSchedules"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates conference schedules data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateDH_ConferenceUserAttendance","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":114,"tablesReferenced":["DH_ConferenceUserAttendance","DH_GenerateAttendanceCodeLogged"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates conference user attendance data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDH_ConferenceUserAttendance_Duplicate","schema":"dbo","parameters":[{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":96,"tablesReferenced":["DH_ConferenceUserAttendance","DH_GenerateAttendanceCodeLogged","DH_UserRegistrationCodes"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates conference user attendance_ duplicate data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDHAdminNonSubmittersStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableNonsubmitterCheck","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@EnableNoViolationNotifications","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"0"}],"lineCount":29,"tablesReferenced":["SEC_Departments","SEC_Events"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AdminsManager.cs.Save"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates admin non submitters status data.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDHConferenceComments","schema":"dbo","parameters":[{"name":"@TemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_CCConferenceTemplate"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceManager.cs.ConferenceActionComment"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Update IsCommentsMandatory column to find user commented.","businessPurpose":"Modifies existing data in the Clinics/Conference Tracking (CCTrack) subsystem, supporting mandatory conference attendance tracking, presenter scheduling, and compliance documentation for residency programs.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDuplicatAttendaceCode","schema":"dbo","parameters":[],"lineCount":41,"tablesReferenced":["DH_TempDuplcateRegistrationCodes"],"sprocsCalledFromBody":["UpdateDH_ConferenceUserAttendance_Duplicate"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates duplicat attendace code data; uses temporary tables.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDutyHourSetupConfiguraion","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UpdatedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableDHEmailReminders","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableAMIONAutoRetrieve","dataType":"VerySmallNUmber","direction":"IN","defaultValue":null},{"name":"@EnableQGendaAutoRetrieve","dataType":"VerySmallNUmber","direction":"IN","defaultValue":"0"},{"name":"@EnableDHNonCompEmail","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableViolationCheck","dataType":"VerySmallNUmber","direction":"IN","defaultValue":null},{"name":"@EnableDHTrackForAttendings","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableDHRepeatHoursFeature","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@EnableDHVerification","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@EnableDHSubmissionReminderForAttendings","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@EnableDHEditSubmissionsByAdmin","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@EnableDHSubmissionIntoFuture","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@RepeatDHSubRemindersFrequencyDays","dataType":"VerySmallNumber","direction":"IN","defaultValue":"7"},{"name":"@DHSubRemindersDaysBack","dataType":"VerySmallNumber","direction":"IN","defaultValue":"7"},{"name":"@DHSubRemindersCompliantPercent","dataType":"VerySmallNumber","direction":"IN","defaultValue":"70"}],"lineCount":34,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.UpdatedutyHourSetpConfiguration","MyEvaluations.Business.Security/DepartmentManager.cs"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates duty hour setup configuraion data; uses temporary tables.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDutyHourSetupConfiguraionNew","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UpdatedDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@EnableDHEmailReminders","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableAMIONAutoRetrieve","dataType":"VerySmallNUmber","direction":"IN","defaultValue":null},{"name":"@EnableQGendaAutoRetrieve","dataType":"VerySmallNUmber","direction":"IN","defaultValue":"0"},{"name":"@EnableDHNonCompEmail","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableViolationCheck","dataType":"VerySmallNUmber","direction":"IN","defaultValue":null},{"name":"@EnableDHTrackForAttendings","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@EnableDHRepeatHoursFeature","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@EnableDHVerification","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@EnableDHSubmissionReminderForAttendings","dataType":"VerySmallNumber","direction":"IN","defaultValue":"0"},{"name":"@EnableDHEditSubmissionsByAdmin","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@EnableDHSubmissionIntoFuture","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@RepeatDHSubRemindersFrequencyDays","dataType":"VerySmallNumber","direction":"IN","defaultValue":"7"},{"name":"@DHSubRemindersDaysBack","dataType":"VerySmallNumber","direction":"IN","defaultValue":"7"},{"name":"@DHSubRemindersCompliantPercent","dataType":"VerySmallNumber","direction":"IN","defaultValue":"70"},{"name":"@EnableDHRotationchange","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@EnableDHSitechange","dataType":"VerySmallNumber","direction":"IN","defaultValue":"1"},{"name":"@EnableNonsubmitterCheck","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@EnableNoViolationNotifications","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@EnablePotentialViolations","dataType":"VERYSMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@SelectedAdmin","dataType":"LargeText","direction":"IN","defaultValue":"Null"}],"lineCount":119,"tablesReferenced":["SEC_Departments","SEC_Events"],"sprocsCalledFromBody":["AddDHAdmin","DeleteDHAdmin"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.UpdatedutyHourSetpConfigurationNew"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates duty hour setup configuraion new data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateDutyHoursPrepopulatedHoursFlag","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":7,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHoursManager.cs.UpdatedutyHoursPrepopulatedHours"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates duty hours prepopulated hours flag data.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateDutyHourUserVerificationStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserVerificationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsConfirm","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":93,"tablesReferenced":["DH_DepartmentRotationVerification","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates duty hour user verification status data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateDutyHourUserVerificationStatus1","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserVerificationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsConfirm","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":94,"tablesReferenced":["DH_DepartmentRotationVerification","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates duty hour user verification status1 data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateDutyHourUserVerificationStatusByDateRange","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@VerificationBatchID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsConfirm","dataType":"SmallNumber","direction":"IN","defaultValue":"0"}],"lineCount":92,"tablesReferenced":["DH_DepartmentRotationVerification","DH_UserVerification"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates duty hour user verification status by date range data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateExcludedCategoryForPGY","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@IsEnabled","dataType":"VerySmallNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null},{"name":"@AcademicStartYear","dataType":"ShortCounterNumber","direction":"IN","defaultValue":null},{"name":"@ActivityCategoryID","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":"-1"}],"lineCount":57,"tablesReferenced":["DH_ExcludedActivityCategoryForPGY"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Updates excluded category forpgy data; uses temporary tables.","businessPurpose":"Modifies existing data in the PGY Level Management subsystem, managing PGY level assignments used for compliance rule application and reporting stratification.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateGroupParticipantsInfo","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentGroupID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@GroupName","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@BrowserDetail","dataType":"VARCHAR(MAX)","direction":"IN","defaultValue":"''"}],"lineCount":92,"tablesReferenced":["DH_DepartmentCMEGroup","DH_DepartmentCMEGroupUsers","SEC_EventDetail","SEC_Events","SEC_Users"],"sprocsCalledFromBody":["InsertMedcomCacheUsers","RemoveAllGroupUser"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates group participants info data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateGuestPresenters","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceGuestID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@TitleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@Suffix","dataType":"ShortText","direction":"IN","defaultValue":null},{"name":"@FirstName","dataType":"ShortText","direction":"IN","defaultValue":null}],"lineCount":23,"tablesReferenced":["DH_ConferenceGuests"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GuestManager.cs.Update"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates guest presenters data; uses temporary tables.","businessPurpose":"Modifies existing data in the Conference Presenters subsystem, managing faculty and resident presentation assignments for educational conferences.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateParticipantsListByCriteria","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_DepartmentCMEGroup"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["GroupParticipantsManager.cs.RestoreDeletedManageParticipants"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates participants list by criteria data; uses temporary tables.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"low"},{"name":"UpdatePPDocumentID","schema":"dbo","parameters":[{"name":"@DepartmentConferenceScheduleID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PFPPDocumentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceScheduleTemplateID","dataType":"LargeNumber","direction":"IN","defaultValue":"- 1"}],"lineCount":33,"tablesReferenced":["DH_ConferenceSchedules"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdatePPDocumentID"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates documentid data; uses temporary tables.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateProgramMoonlighting","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ProgramId","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_ProgramExcludedCategory"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["DutyHourProgramRuleManager.cs.Update"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates program moonlighting data.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateQGendaRetrieveStatus","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_QGendaSchedule"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveQGendaScheduleManager.cs.UpdateQGendaRetrieveStatus"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Description,,Update QGenda Retrieve Status; uses temporary tables.","businessPurpose":"Modifies existing data in the QGenda Schedule Integration subsystem, enabling automated schedule import from QGenda to streamline duty hour tracking for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateRBandRemoveOverlapDates","schema":"dbo","parameters":[],"lineCount":36,"tablesReferenced":["DH_DepartmentBlocks"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":true,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates band remove overlap dates data; uses temporary tables.","businessPurpose":"Modifies existing data in the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateRotationStatus","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentRotationID","dataType":"CounterNumber","direction":"IN","defaultValue":null}],"lineCount":30,"tablesReferenced":["DH_DepartmentRotations"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RotationManager.cs.UpdateRotationStatus"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates rotation status data; uses temporary tables.","businessPurpose":"Modifies existing data in the Rotation Management subsystem, enabling program directors to define and manage resident rotation assignments throughout the academic year.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateTheSyncDataforAccuracy","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@AcademicYear","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@OldAmionScheduleID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null}],"lineCount":98,"tablesReferenced":["DH_AmionSchedule","DH_AmionTangierCalls","DH_AmionTangierClinics","DH_AmionTangierRotations","DH_AmionTangierUsers","DH_SyncAMIONCalls","DH_SyncAMIONClinics","DH_SyncAMIONRotations","DH_SyncAMIONUsers"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"To adjust the unique ID and delete the duplicate UniqueIDs after AMION Data pull; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the Schedule Synchronization subsystem, maintaining data consistency between MyEvaluations and external scheduling platforms.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"UpdateUserAttendance","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ConferenceUser","dataType":"LongText","direction":"IN","defaultValue":null},{"name":"@AttendanceCode","dataType":"BigNumber","direction":"IN","defaultValue":null}],"lineCount":275,"tablesReferenced":["CME_Events","CME_ScheduleTemplate","DH_CCConferenceScheduleTemplate","DH_ConferenceAttendanceQueueForDutyHours","DH_ConferenceSchedules","DH_ConferenceUserAttendance","QUIZ_Assignment","QUIZ_AssignmentUsers","SEC_Departments"],"sprocsCalledFromBody":["AddCCEvaluation","GetCMEEvalEmailInformation","GetClinicsConferenceEmailInformation"],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateUserAttendance"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates user attendance data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"high"},{"name":"UpdateUserAttendanceCheckInCheckOut","schema":"dbo","parameters":[{"name":"@EncryptText","dataType":"LargeText","direction":"IN","defaultValue":"''"}],"lineCount":244,"tablesReferenced":["DH_CCConferenceScheduleTemplate","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceUsersLog","SEC_Departments","SEC_KeyTxtInfo"],"sprocsCalledFromBody":["AddCCEvaluation","GetClinicsConferenceEmailInformation"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ConferenceSchedulesManager.cs.UpdateUserAttendanceCheckInCheckOut"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates user attendance check in check out data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"high"},{"name":"UpdateUserAttendanceCheckInCheckOut__","schema":"dbo","parameters":[{"name":"@CurrentDate","dataType":"datetime","direction":"IN","defaultValue":null}],"lineCount":166,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceUsersLog"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates user attendance check in check out__ data; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Modifies existing data in the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"UpdateUserAttendanceCheckInCheckOut_181113","schema":"dbo","parameters":[],"lineCount":157,"tablesReferenced":["DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_ConferenceUserAttendanceUsersLog"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Updates user attendance check in check out_181113 data.","businessPurpose":"Modifies existing data in the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"medium"},{"name":"UpdateUserTimeSheetViolations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@UserTimeSheetViolationID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":18,"tablesReferenced":["DH_UserTimeSheetViolations"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["TimeSheetManager.cs.SaveExplanations"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Updates user time sheet violations data.","businessPurpose":"Modifies existing data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateViolation","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ViolationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@ReviewComments","dataType":"LongText","direction":"IN","defaultValue":"null Commented by rajiv on 11-11-2016"}],"lineCount":28,"tablesReferenced":["DH_AveragedForViolations"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.UpdateViolatoin"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates violation data.","businessPurpose":"Modifies existing data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"UpdateViolations","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":22,"tablesReferenced":["DH_AveragedForViolations"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["ViolationReviewManager.cs.UpdateViolatoins"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Updates violations data; uses temporary tables.","businessPurpose":"Modifies existing data in the ACGME Violation Tracking subsystem, ensuring residency programs track and respond to duty hour limit violations as required by ACGME regulations.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_CreateAmionTempTables","schema":"dbo","parameters":[],"lineCount":144,"tablesReferenced":[],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":true,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.CreateAmionTempTables"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages create amion temp tables; employs dynamic SQL, uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Review dynamic SQL usage for parameterization — ensure sp_executesql is used with typed parameters to prevent SQL injection and enable plan caching.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"usp_DeleteGeofenceEvent","schema":"dbo","parameters":[],"lineCount":50,"tablesReferenced":["DH_ActivityGeoLocationEvents"],"sprocsCalledFromBody":[],"crudType":"delete","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Manages delete geofence event; uses temporary tables, processes XML data.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"medium"},{"name":"usp_GetRefreshRequiredDepartmentsForScheduleData","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":"0"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":"0"}],"lineCount":98,"tablesReferenced":["DH_AmionSchedule","DH_LightingBoltSchedule","DH_MomentumSchedule","DH_QGendaSchedule","MyEvals_ScheduleDetails","Prep_BuildSchedules"],"sprocsCalledFromBody":["usp_LogDepartmentAcademicYearScheduleDetails"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":5,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveQGendaScheduleManager.cs.GetRefreshRequiredDepartmentsForScheduleDataNew"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages get refresh required departments for schedule data; uses temporary tables, uses CTEs for data organization, wrapped in explicit transaction.","businessPurpose":"Supports the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"usp_GetSelectedUsersDutyHoursData_API","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@BlockStartDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@BlockEndDate","dataType":"SmallDate","direction":"IN","defaultValue":null},{"name":"@ActivityIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@SelectedRotationIDs","dataType":"LargeText","direction":"IN","defaultValue":"'-1'"},{"name":"@AcademicYear","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@BlockNumber","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@IsPgySpecific","dataType":"verysmallnumber","direction":"IN","defaultValue":"0"}],"lineCount":591,"tablesReferenced":["DH_ActivityCategorySettings","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentRotations","DH_UserTimesheetSub","MYEVAL_UserPatientLogDetails","SEC_Users"],"sprocsCalledFromBody":["GetDutyHoursForUserByCriteria_3"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages get selected users duty hours data_api; uses temporary tables, joins 26+ tables, wrapped in explicit transaction.","businessPurpose":"Supports the Duty Hours Logging subsystem, enabling residents and administrators to log, review, and verify duty hours for ACGME compliance documentation.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 26+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"usp_GetSummaryComplainceReportResultAPI","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LARGENUMBER","direction":"IN","defaultValue":null},{"name":"@ReportStartDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@ReportEndDate","dataType":"SMALLDATE","direction":"IN","defaultValue":null},{"name":"@PGY","dataType":"BIGNUMBER","direction":"IN","defaultValue":null},{"name":"@CalcType","dataType":"SMALLNUMBER","direction":"IN","defaultValue":null},{"name":"@ComplianceQuestions","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"1 --Include-1"},{"name":"@SelectedRotationIDs","dataType":"LARGETEXT","direction":"IN","defaultValue":"'-1'"},{"name":"@ReportGraph","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 --Include-1"},{"name":"@FlagArchived","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@IncludeUserViolationReport","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0 -- Added by rajiv on 20-1-2017 for user violations report."},{"name":"@IsDashBoardFlag","dataType":"SMALLNUMBER","direction":"IN","defaultValue":"0"},{"name":"@PGYLevel","dataType":"INT","direction":"IN","defaultValue":"0"},{"name":"@PartName","dataType":"VARCHAR(10)","direction":"IN","defaultValue":"''"}],"lineCount":628,"tablesReferenced":["DH_ACGMERules","DH_ComplianceSettingBase","DH_DepartmentACGMERules","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentComplianceSettings","DH_ProgramACGMERules","SEC_Departments"],"sprocsCalledFromBody":["GetDutyHoursReportInputDataNew1"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":true,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":true,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages get summary complaince report resultapi; uses cursor-based row processing, uses temporary tables, joins 14+ tables.","businessPurpose":"Supports the Reporting subsystem, providing program directors and administrators with compliance and operational visibility through structured reporting.","optimizationRecommendations":["Replace CURSOR-based row-by-row processing with set-based operations (e.g., JOINs, MERGE, or windowed functions) to reduce overhead and improve throughput.","Simplify the query plan by breaking down the 14+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access."],"migrationRelevance":"high"},{"name":"usp_GetSystemImplementationDashBoardDetails_API","schema":"dbo","parameters":[{"name":"@LoggedInUserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@LoggedInDepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"Largenumber","direction":"IN","defaultValue":null},{"name":"@DepartmentIDs","dataType":"LargeText","direction":"IN","defaultValue":"''"},{"name":"@AcademicYear","dataType":"LargeNumber","direction":"IN","defaultValue":"NULL"}],"lineCount":2253,"tablesReferenced":["APE_CorePersonnel","APE_CorePersonnelUsers","APE_Group","CME_CertificateSetup","CME_CredentialingInformation","CME_CreditTypes","CME_Evaluation","CME_Events","CME_ScheduleTemplate","CME_Templates","DH_ActivityCategories","DH_ActivityCategorySettings","DH_CCConferenceTemplate","DH_ComplianceAdmin","DH_ConferenceSchedules","DH_ConferenceUserAttendance","DH_DepartmentActivities","DH_DepartmentBlocks","DH_DepartmentConferences","DH_DepartmentRotationActivities","DH_DepartmentRotations","DH_LightingBoltRotations","DH_LightingBoltTasks","DH_MomentumTaskRoles","DH_QgendaTaskRoles","DH_QgendaTasks","DH_RotationBase","DH_SyncAMIONCalls","DH_SyncAMIONRotations","DH_SyncAMIONUsers","EVAL_CurricularWorksheetData","EVAL_EvaluationSchedules","EVAL_MilestoneCommitteeMembers","EVAL_MilestoneSetup","EVAL_MilestoneTrainee","EVAL_OutcomeCompetency","EVAL_OutcomeConference","EVAL_OutcomeProcedure","EVAL_OutcomeQuizQuestion","EVAL_OutcomeSettings","EVAL_OutcomeSubCompetency","EVAL_TemplateRotation","EVAL_Templates","LA_Admins","LA_AssignmentUsers","LA_Literature","Momentum_Roles","PRC_ProceduresSupervisors","PTL_CompetenceLevels","PTL_Locations","PTL_PatientLogSupervisors","SEC_DepartmentTrainingTypes","SEC_Departments","SEC_Roles","SEC_UserRoles","SEC_UserTypes","SEC_Users","SI_Modules","SI_SubModules"],"sprocsCalledFromBody":["GenerateAPEOverallCompletionDashboard"],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"very-complex","aiEnrichment":null,"module":"DH","summary":"Manages get system implementation dash board details_api; uses temporary tables, joins 398+ tables, uses CTEs for data organization.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Simplify the query plan by breaking down the 398+ JOIN chain into staged CTEs or indexed temporary tables to help the optimizer produce better execution plans.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization."],"migrationRelevance":"high"},{"name":"usp_InsertApiResponseAudit","schema":"dbo","parameters":[{"name":"@CorrelationID","dataType":"UNIQUEIDENTIFIER","direction":"IN","defaultValue":null},{"name":"@ApiSource","dataType":"NVARCHAR(50)","direction":"IN","defaultValue":null},{"name":"@ApiOperation","dataType":"NVARCHAR(100)","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"INT","direction":"IN","defaultValue":"NULL"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":"NULL"},{"name":"@RequestUrl","dataType":"NVARCHAR(2000)","direction":"IN","defaultValue":null},{"name":"@ResponseText","dataType":"NVARCHAR(MAX)","direction":"IN","defaultValue":"NULL"},{"name":"@DurationMs","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@IsSuccess","dataType":"BIT","direction":"IN","defaultValue":null},{"name":"@ErrorType","dataType":"NVARCHAR(100)","direction":"IN","defaultValue":"NULL"}],"lineCount":34,"tablesReferenced":["Api_Response_Audit"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPIService.cs.Get"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Manages insert api response audit.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"},{"name":"usp_PerformancePatientLogAPI_Job","schema":"dbo","parameters":[],"lineCount":102,"tablesReferenced":["DH_DepartmentActivities","MYEVAL_UserPatientLogTrace","SEC_Departments"],"sprocsCalledFromBody":["usp_GetSelectedUsersDutyHoursData_API"],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":false},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Manages performance patient logapi_ job; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Patient Log Integration subsystem, linking patient encounter data with duty hours for clinical activity verification.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_ReceiveGeofenceDataByUserID","schema":"dbo","parameters":[],"lineCount":32,"tablesReferenced":["DH_DepartmentActivities","DH_DepartmentGeofenceNames","DH_GeofenceShapes","SEC_Departments","SEC_Users"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages receive geofence data by userid; processes XML data.","businessPurpose":"Supports the User Management subsystem, managing user information and access within the duty hours tracking context.","optimizationRecommendations":["Replace string-splitting or OPENXML parameter parsing with Table-Valued Parameters (TVPs) to eliminate parsing overhead and enable better query optimization.","Profile XML processing operations (.value(), .nodes()) — for large result sets, consider shredding XML into a temp table first with a PRIMARY XML INDEX for repeated access.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Simplify complex CASE expression chains — consider mapping tables or computed columns to reduce inline conditional logic and improve readability."],"migrationRelevance":"medium"},{"name":"usp_RefreshingMissmatchOfAssignments","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":"0"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":"0"}],"lineCount":112,"tablesReferenced":["DH_AmionSchedule","DH_LightingBoltSchedule","DH_MomentumSchedule","DH_QGendaSchedule","MyEvals_ScheduleAssignments","Prep_BuildSchedules"],"sprocsCalledFromBody":["usp_RefreshScheduleAssignments"],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":true,"nolockCount":5,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages refreshing missmatch of assignments; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"usp_TraceUsersToRefreshTraineeSchedules","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@UserID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@ScheduleIDs","dataType":"NVARCHAR(MAX)","direction":"IN","defaultValue":"''"},{"name":"@AcademicYear","dataType":"INT","direction":"IN","defaultValue":null},{"name":"@UserIDs","dataType":"NVARCHAR(MAX)","direction":"IN","defaultValue":"''"}],"lineCount":31,"tablesReferenced":["Prep_RefreshTraineeScheduleCalendarData"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["BlockManager.cs.UpdateScheduleIncorrectBlocks"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Manages trace users to refresh trainee schedules.","businessPurpose":"Supports the Schedule Management subsystem, allowing coordinators to plan, assign, and manage resident duty schedules within compliance constraints.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_UpdateDepartmentAmionScheduleType","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":15,"tablesReferenced":["SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.GenerateAmionSchedule"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Manages update department amion schedule type.","businessPurpose":"Supports the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_UpdateDepartmentsAmionCredentialsAmionScheduleType","schema":"dbo","parameters":[{"name":"@DepartmentsAmionCredentialID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":10,"tablesReferenced":["SEC_DepartmentsAmionCredentials"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.GenerateAmionSchedule"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Manages update departments amion credentials amion schedule type.","businessPurpose":"Supports the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_UpdateDepartmentsAmionCredentialsLastUpdateDate","schema":"dbo","parameters":[{"name":"@DepartmentsAmionCredentialID","dataType":"BIGINT","direction":"IN","defaultValue":null}],"lineCount":15,"tablesReferenced":["SEC_DepartmentsAmionCredentials"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["RetrieveOnCall ScheduleManager.cs.GenerateAmionSchedule"],"complexity":"trivial","aiEnrichment":null,"module":"DH","summary":"Manages update departments amion credentials last update date.","businessPurpose":"Supports the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_UpdateIsValidAMIONPassword","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"BIGINT","direction":"IN","defaultValue":null},{"name":"@IsValidAMIONPassword","dataType":"TINYINT","direction":"IN","defaultValue":"1"},{"name":"@UserID","dataType":"BIGINT","direction":"IN","defaultValue":"1"}],"lineCount":38,"tablesReferenced":["SEC_Departments","SEC_DepartmentsExt"],"sprocsCalledFromBody":[],"crudType":"update","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":["AmionAPI.cs.UpdateIsValidAMIONPassword"],"complexity":"simple","aiEnrichment":null,"module":"DH","summary":"Manages update is validamion password.","businessPurpose":"Supports the Amion Schedule Integration subsystem, enabling automated schedule import from AMION to reduce manual data entry for program coordinators.","optimizationRecommendations":["Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications."],"migrationRelevance":"medium"},{"name":"usp_ValidateViews","schema":"dbo","parameters":[],"lineCount":65,"tablesReferenced":["DH_DepartmentConferences","DH_DepartmentRotations","MyGMEViewValidation"],"sprocsCalledFromBody":[],"crudType":"mixed","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":true,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Manages validate views; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the Department Configuration subsystem, supporting department-level administration and configuration within the duty hours module.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Evaluate whether READ UNCOMMITTED isolation level is appropriate for write operations — dirty reads during UPDATE logic can cause incorrect data modifications.","Extract correlated subqueries into CTEs or JOINs — the optimizer often cannot flatten deeply nested subqueries, leading to repeated table scans.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer."],"migrationRelevance":"medium"},{"name":"VerifiedDepartmentACGMERule","schema":"dbo","parameters":[{"name":"@UserID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@RotationID","dataType":"LargeNumber","direction":"IN","defaultValue":null},{"name":"@PGYLevel","dataType":"SmallNumber","direction":"IN","defaultValue":null}],"lineCount":160,"tablesReferenced":["DH_DepartmentACGMERules","DH_ProgramACGMERules","SEC_Departments"],"sprocsCalledFromBody":[],"crudType":"insert","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":true,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":true,"hasNoTryCatch":true},"calledFromCode":["ComplianceSettingManager.cs.Update"],"complexity":"complex","aiEnrichment":null,"module":"DH","summary":"Manages departmentacgme rule; uses temporary tables, wrapped in explicit transaction.","businessPurpose":"Supports the ACGME Compliance Settings subsystem, managing the regulatory framework that governs resident work hour limits, rest requirements, and supervision standards.","optimizationRecommendations":["Refactor WHILE loop logic into set-based operations where possible to eliminate iterative row processing and improve query plan efficiency.","Add explicit indexes (or PRIMARY KEY constraints) on temporary tables after population to improve JOIN and WHERE clause performance on #temp data.","Add TRY/CATCH error handling with explicit transaction rollback to prevent partial writes and provide meaningful error messages to the application layer.","Scalar UDF calls inside queries execute row-by-row — inline the UDF logic or convert to an inline table-valued function (iTVF) for set-based evaluation."],"migrationRelevance":"high"},{"name":"verifyActivitiesBasedonQR","schema":"dbo","parameters":[{"name":"@DepartmentID","dataType":"LargeNumber","direction":"IN","defaultValue":null}],"lineCount":31,"tablesReferenced":["DH_QRCodeTypes","DH_QRCodes","SEC_Departments","SEC_TimeZones"],"sprocsCalledFromBody":[],"crudType":"get","antiPatterns":{"hasCursor":false,"hasSelectStar":false,"hasDynamicSql":false,"hasNolock":false,"nolockCount":0,"missingSetNocountOn":false,"hasTableVariable":false,"hasTempTable":false,"hasWhileLoop":false,"hasNoTryCatch":true},"calledFromCode":[],"complexity":"moderate","aiEnrichment":null,"module":"DH","summary":"Manages activities basedonqr.","businessPurpose":"Supports the Duty Hours Verification subsystem, ensuring accuracy of logged duty hours through supervisor review and attestation workflows.","optimizationRecommendations":["Verify that READ UNCOMMITTED isolation level is acceptable for this query's data consistency requirements, especially if the results drive downstream business logic."],"migrationRelevance":"medium"}]}