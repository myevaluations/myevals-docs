---
title: "MyEvalsExportImportService Files"
sidebar_label: "MyEvalsExportImportService"
description: "Per-file reference for MyEvalsExportImportService (5 files)"
---

import FileReference from '@site/src/components/FileReference';

# MyEvalsExportImportService File Reference

> **5 files** | **4,888 lines** | Generated 2/20/2026

<FileReference
  files={[
  {
    "filePath": "MyEvalsExportImportService/App_Code/IEvaluationService.cs",
    "fileName": "IEvaluationService.cs",
    "fileType": "infrastructure",
    "className": "IEvaluationService",
    "inheritsFrom": null,
    "module": "Export/Import API Contract",
    "summary": "WCF service contract defining REST-style endpoints for evaluation data export. Exposes POST endpoints for GetEvaluations, GetTemplates, GetTemplateQuestions, GetAnswerScaleTemplateInfo, GetFinalGradeTemplateInfo, GetUserDetails, and GetPendingReviewCounts. Uses XML request/response format with WebInvoke attributes and UriTemplate routing.",
    "businessPurpose": "Defines the public API contract for external systems to retrieve evaluation data, templates, questions, answer scales, final grades, and user details from MyEvaluations. Used by institutions and third-party systems for data integration and reporting.",
    "keyMethods": [
      "GetEvaluations - Retrieves evaluation data based on XML input criteria",
      "GetTemplates - Retrieves template information for a department",
      "GetTemplateQuestions - Retrieves questions for specific templates",
      "GetAnswerScaleTemplateInfo - Retrieves answer scale configuration for templates",
      "GetFinalGradeTemplateInfo - Retrieves final grade configuration for templates",
      "GetUserDetails - Retrieves user information for a department",
      "GetPendingReviewCounts - Retrieves pending review counts for BSN integration"
    ],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "WCF REST service contract. These endpoints may be consumed by external systems. Node.js backend should provide equivalent REST API endpoints with JSON format instead of XML.",
    "complexity": "simple",
    "lineCount": 90
  },
  {
    "filePath": "MyEvalsExportImportService/App_Code/IService.cs",
    "fileName": "IService.cs",
    "fileType": "infrastructure",
    "className": "IService",
    "inheritsFrom": null,
    "module": "Export/Import API Contract (Stream-based)",
    "summary": "Alternative WCF service contract using Stream-based input instead of string parameters. Defines the same endpoints as IEvaluationService but accepts Stream objects for request bodies, enabling raw XML POST handling. Includes a GET-based GetPendingReviewCounts endpoint.",
    "businessPurpose": "Provides an alternative API contract accepting raw XML streams, supporting clients that send data as raw POST body rather than query parameters. This is the actively used contract implemented by the Service class.",
    "keyMethods": [
      "GetEvaluations - Retrieves evaluations from Stream input",
      "GetTemplates - Retrieves templates from Stream input",
      "GetTemplateQuestions - Retrieves template questions from Stream input",
      "GetAnswerScaleTemplateInfo - Retrieves answer scale info from Stream input",
      "GetFinalGradeTemplateInfo - Retrieves final grade info from Stream input",
      "GetUserDetails - Retrieves user details from Stream input",
      "GetPendingReviewCounts - GET endpoint for BSN pending review counts"
    ],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "Stream-based WCF contract. Node.js Express naturally handles raw request bodies.",
    "complexity": "simple",
    "lineCount": 92
  },
  {
    "filePath": "MyEvalsExportImportService/App_Code/Service.cs",
    "fileName": "Service.cs",
    "fileType": "service",
    "className": "Service",
    "inheritsFrom": "IService",
    "module": "Export/Import API Implementation",
    "summary": "WCF service implementation of the IService contract. Handles incoming XML requests by reading from Stream, validating XML against XSD schemas, executing data retrieval via stored procedures, and returning XML responses. Includes service request/response logging for audit trail. Implements all seven endpoints with error handling and XML document response building.",
    "businessPurpose": "Primary implementation of the evaluation data export API. Processes XML-based requests from external systems to export evaluation data, templates, user details, and other information. All requests are logged for audit compliance.",
    "keyMethods": [
      "GetEvaluations - Reads Stream, validates XML, calls GetEvaluationResponse, logs request/response",
      "GetTemplateQuestions - Reads Stream, validates template questions XML, calls GetTemplateQuestionsResponse",
      "GetAnswerScaleTemplateInfo - Validates and retrieves answer scale template details",
      "GetFinalGradeTemplateInfo - Validates and retrieves final grade template details",
      "GetTemplates - Validates department XML, retrieves template list for department",
      "GetUserDetails - Validates user detail XML, retrieves user information",
      "GetPendingReviewCounts - Decrypts AES-encrypted input, validates BSN counts, retrieves pending reviews",
      "GetEvaluationResponse - Processes evaluation query criteria and builds response XML",
      "GetTemplateQuestionsResponse - Processes template questions query and builds response",
      "GetTemplatesResponse - Builds template list response from stored procedure results",
      "GetUserDetailsResponse - Builds user details response from stored procedure results",
      "AddServiceRequestLog - Logs incoming service request to database",
      "UpdateServiceResponsesLog - Updates service log with response data"
    ],
    "storedProcedures": [
      "InsertWebServicesLog",
      "UpdateWebServicesLog",
      "GetEvaluationDataForExportThroughWebService",
      "GetTemplateDetailsByDepartments",
      "GetTemplateQuestionDetailsByDepartments",
      "GetAnswerSclaeTemplateDetailsByWebservice",
      "GetFinalGradeTemplateDetailsByWebservice",
      "GetUserDetailsByDepartment",
      "usp_ValidateUser",
      "VerifyExportServiceDepartmentAccess",
      "GetUserViewPrivileges",
      "GetBSNPendingReviewCount"
    ],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "Core data export service used by external integrations. Must identify all external consumers before deprecating. The Node.js backend should provide equivalent REST/JSON endpoints. The stored procedure calls need to be mapped to MikroORM queries or preserved as raw SQL.",
    "complexity": "very-complex",
    "lineCount": 2055
  },
  {
    "filePath": "MyEvalsExportImportService/App_Code/EvaluationService.cs",
    "fileName": "EvaluationService.cs",
    "fileType": "service",
    "className": "EvaluationService",
    "inheritsFrom": "IEvaluationService",
    "module": "Export/Import API Implementation (String-based)",
    "summary": "Alternative WCF service implementation of IEvaluationService accepting string parameters instead of streams. Functionally identical to Service.cs but takes evaluation info as direct string parameters. Delegates to the same Utilities methods for validation and data retrieval. Also includes service logging.",
    "businessPurpose": "Alternative API implementation for clients that pass XML as query string parameters rather than POST body. Both Service and EvaluationService implementations exist to support different client integration patterns.",
    "keyMethods": [
      "GetEvaluations - Accepts evaluationInfo string, validates, retrieves evaluation data",
      "GetTemplateQuestions - Accepts evaluationInfo string, validates, retrieves template questions",
      "GetAnswerScaleTemplateInfo - Retrieves answer scale details via string parameter",
      "GetFinalGradeTemplateInfo - Retrieves final grade details via string parameter",
      "GetTemplates - Retrieves template list by department",
      "GetUserDetails - Retrieves user details by department",
      "GetPendingReviewCounts - Retrieves BSN pending review counts with AES decryption",
      "GetEvaluationResponse - Core evaluation data query builder (duplicated from Service.cs)",
      "GetTemplateQuestionsResponse - Template questions query builder",
      "GetTemplatesResponse - Template list response builder",
      "GetUserDetailsResponse - User details response builder"
    ],
    "storedProcedures": [
      "InsertWebServicesLog",
      "UpdateWebServicesLog",
      "GetEvaluationDataForExportThroughWebService",
      "GetTemplateDetailsByDepartments",
      "GetTemplateQuestionDetailsByDepartments",
      "GetAnswerSclaeTemplateDetailsByWebservice",
      "GetFinalGradeTemplateDetailsByWebservice",
      "GetUserDetailsByDepartment",
      "usp_ValidateUser",
      "VerifyExportServiceDepartmentAccess",
      "GetUserViewPrivileges",
      "GetBSNPendingReviewCount"
    ],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "Duplicate of Service.cs with different parameter binding. During migration, these should be consolidated into a single set of REST endpoints.",
    "complexity": "very-complex",
    "lineCount": 1730
  },
  {
    "filePath": "MyEvalsExportImportService/App_Code/Utilities.cs",
    "fileName": "Utilities.cs",
    "fileType": "service",
    "className": "Utilities",
    "inheritsFrom": null,
    "module": "Export/Import Utilities",
    "summary": "Shared utility class for the export/import service. Provides XML validation against XSD schemas (evaluation, department, user detail, template question, answer scale, BSN counts), database operations via stored procedures, user authentication/authorization, encryption/decryption (TripleDES for legacy, AES/Rijndael for current), and XML response building.",
    "businessPurpose": "Central utility layer for the data export API providing input validation, security (authentication, authorization, encryption), database access, and response formatting. Validates all inbound XML against XSD schemas before processing.",
    "keyMethods": [
      "BuildXmlResponse - Converts XML string to XmlElement for WCF response",
      "AddServiceRequestLog - Logs service requests via InsertWebServicesLog stored procedure",
      "UpdateServiceResponsesLog - Updates log with response via UpdateWebServicesLog stored procedure",
      "GetTemplateQuestionsByDepartments - Retrieves template questions via stored procedure",
      "GetAnswerSclaeTemplateDetails - Retrieves answer scale details via stored procedure",
      "GetFinalGradeTemplateDetails - Retrieves final grade details via stored procedure",
      "GetTemplatesByDepartments - Retrieves templates by department via stored procedure",
      "GetUsersByDepartment - Retrieves users by department and type via stored procedure",
      "GetExportData - Retrieves evaluation export data with date range filters",
      "VerifyLogin - Validates user credentials via usp_ValidateUser stored procedure",
      "VerifyDepartmentPrivileges - Checks department access via VerifyExportServiceDepartmentAccess",
      "VerifyUserPrivileges - Checks module view privileges via GetUserViewPrivileges",
      "Encrypt - TripleDES encryption with MD5 key hashing",
      "ValidateXML - Validates evaluation XML against EvalValidation.xsd",
      "ValidateDepartmentXML - Validates department XML against DepartmentValidation.xsd",
      "ValidateUserDetailsXML - Validates user detail XML against UserDetailValidation.xsd",
      "ValidateTemplateQuestionsXML - Validates template questions XML against TemplateQuestionValidation.xsd",
      "ValidateAnswerscaleTemplateXML - Validates answer scale XML against AnswerScaleTemplateValidation.xsd",
      "ValidateBSNCounts - Validates BSN counts XML against BSNCounts.xsd",
      "DecryptStringFromBytes - AES/Rijndael decryption of byte arrays",
      "DecryptStringAES - AES decryption of base64-encoded strings with fixed key",
      "GetPendingReviewCounts - Handles BSN pending review count logic with decryption and validation",
      "GetBSNPendingReviewCount - Retrieves BSN pending review count via stored procedure"
    ],
    "storedProcedures": [
      "InsertWebServicesLog",
      "UpdateWebServicesLog",
      "GetTemplateQuestionDetailsByDepartments",
      "GetAnswerSclaeTemplateDetailsByWebservice",
      "GetFinalGradeTemplateDetailsByWebservice",
      "GetTemplateDetailsByDepartments",
      "GetUserDetailsByDepartment",
      "GetEvaluationDataForExportThroughWebService",
      "usp_ValidateUser",
      "VerifyExportServiceDepartmentAccess",
      "GetUserViewPrivileges",
      "GetBSNPendingReviewCount"
    ],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "Contains critical security logic (encryption keys, authentication) and data access patterns. The hardcoded encryption keys (MyEvalSecurityKey$123#, MyEvalKey$12345#) must be preserved or migrated carefully. XSD validation can be replaced with JSON schema validation in Node.js.",
    "complexity": "complex",
    "lineCount": 921
  }
]}
  directoryOverview="WCF-based web service providing evaluation data export and import capabilities for external system integration. Exposes RESTful XML endpoints for retrieving evaluations, templates, template questions, answer scales, final grades, user details, and BSN pending review counts. Features two parallel service implementations (stream-based and string-based) for different client integration patterns. All requests are validated against XSD schemas, authenticated via credential verification, and logged for audit. Uses stored procedures for all database access and supports AES encryption for sensitive data exchange."
  keyWorkflows={["Evaluation Export: Client POST XML -> ValidateXML (XSD) -> VerifyLogin -> VerifyDepartmentPrivileges -> GetExportData (stored proc) -> Build XML response -> Log request/response","Template Export: Client POST XML -> ValidateDepartmentXML -> GetTemplatesByDepartments (stored proc) -> Build template list XML","User Details Export: Client POST XML -> ValidateUserDetailsXML -> VerifyLogin -> GetUsersByDepartment (stored proc) -> Build user details XML","BSN Pending Reviews: Client POST encrypted data -> DecryptStringAES -> ValidateBSNCounts -> GetBSNPendingReviewCount (stored proc) -> Return counts","Request Logging: AddServiceRequestLog (stored proc) -> Process request -> UpdateServiceResponsesLog (stored proc)"]}
/>
