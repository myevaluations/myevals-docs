---
title: "Business.Portfolio Files"
sidebar_label: "Business.Portfolio"
description: "Per-file reference for Business.Portfolio (11 files)"
---

import FileReference from '@site/src/components/FileReference';

# Business.Portfolio File Reference

> **11 files** | **77,671 lines** | Generated 2/21/2026

<FileReference
  files={[
  {
    "filePath": "Business.Portfolio/ContractsEntity.cs",
    "fileName": "ContractsEntity.cs",
    "fileType": "business",
    "className": "ContractsEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A data entity class representing a physician/resident training contract record. Holds fields for training agreement ID, contract dates (start/end/appointment end), current and initial programs, resident type codes and IDs, resident status, transfer status, employer name, FTE, days off, department IDs, compliance type, document status, archived status, and report settings (favourite report name, system/institutional report flags, report settings ID). Used as a parameter carrier for contract and portfolio report queries.",
    "businessPurpose": "Carries physician training contract and credentialing document data for the MyPortfolio module, supporting contract management, resident status tracking, and portfolio report configuration for GME programs.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "This entity defines the shape of the physician contract and training agreement data. It should become a MikroORM entity in the NestJS backend for GME/portfolio contract management. The report settings fields suggest this also serves as a report filter DTO.",
    "complexity": "simple",
    "lineCount": 215
  },
  {
    "filePath": "Business.Portfolio/DocDetailsBusiness.cs",
    "fileName": "DocDetailsBusiness.cs",
    "fileType": "business",
    "className": "DocDetailsBusiness",
    "inheritsFrom": "System.Web.UI.Page",
    "module": "Portfolio",
    "summary": "The primary business layer class for portfolio document detail pages, inheriting from Page (WebForms pattern). Handles initialization and control population for the portfolio document detail form across all document section types (licenses, degrees, contracts, QI projects, etc.), including lookup data loading (visa types, states, countries, schools, degrees), section-specific control visibility, and document metadata management. At 26,301 lines this is one of the largest files in the entire codebase, covering every portfolio document section code.",
    "businessPurpose": "Orchestrates the display, creation, and editing of every type of portfolio document in MyPortfolio â€” from medical licenses and training contracts to QI projects â€” by initializing the appropriate form controls, populating dropdowns from lookup tables, and managing section-specific field visibility rules.",
    "keyMethods": [
      "OnViewPortfolioDocInitialize - initializes the portfolio document detail page by loading lookup dropdowns (visa, state, country, school, degree) and setting section-specific control visibility",
      "HideControlsBasedOnTheCondition - conditionally shows or hides form fields and panels based on the document section code and user role"
    ],
    "storedProcedures": [],
    "businessManagersUsed": [
      "MyEvaluations.Business.Portfolio.DocDetailsManager",
      "MyEvaluations.Business.Portfolio.MainPageBusiness",
      "MyEvaluations.Business.Common.DepartmentManager",
      "MyEvaluations.Business.Common.AssignmentUsersManager",
      "MyEvaluations.Business.Common.UserManager",
      "MyEvaluations.Business.Quiz.DesignQuizManager",
      "MyEvaluations.Business.LearningAssignment.LearningAssignmentInfo",
      "MyEvaluations.Business.Quiz.ManageQuizAssignmentsBusiness",
      "MyEvaluations.Business.Common.GMEAdminManager",
      "MyEvaluations.Business.Utilities.FieldsLookupManager"
    ],
    "migrationRelevance": "high",
    "migrationNote": "At 26,301 lines this is a massive WebForms-coupled class. The page initialization and control-binding logic is not directly portable; the underlying data operations (document CRUD per section code) should be extracted and reimplemented as NestJS service methods. This is a high-priority migration target due to its scope and central role in MyPortfolio.",
    "complexity": "very-complex",
    "lineCount": 26301
  },
  {
    "filePath": "Business.Portfolio/DocDetailsManager.cs",
    "fileName": "DocDetailsManager.cs",
    "fileType": "business",
    "className": "DocDetailsManager",
    "inheritsFrom": "Manager",
    "module": "Portfolio",
    "summary": "The data-access manager for portfolio document operations, providing static methods for retrieving portfolio document details by section, quality improvement project records, user lists for portfolio pages, and NewRelic custom parameter logging for performance monitoring. At 10,966 lines it covers all portfolio document section CRUD operations through stored procedures.",
    "businessPurpose": "Provides the SQL Server data layer for MyPortfolio document management, enabling retrieval and manipulation of physician/trainee portfolio documents (licenses, contracts, QI projects, etc.) with support for archived and active document filtering, user scope queries, and department-scoped access control.",
    "keyMethods": [
      "GetPFDocumentDetails - retrieves portfolio document details for a user and section with archive, file type, and report filtering via GetPFDocumentDetails SP",
      "GetAvailableUsersWithUserNamesforPP - returns a typed list of users available for portfolio page assignment",
      "GetSpecificUsersListforPP - retrieves users matching a search criteria scope for portfolio pages via GetSpecificUsersListforPP SP",
      "GetQualityImprovementProjects - retrieves QI project records with file type and deletion status filtering via GetQualityImprovementProjects SP",
      "GetQualityImprovementProjectDepartmentReport - retrieves QI projects for departmental reports with status, category, and date range filters"
    ],
    "storedProcedures": [
      "GetPFDocumentDetails",
      "GetSpecificUsersListforPP",
      "GetQualityImprovementProjects"
    ],
    "businessManagersUsed": [
      "MyEvaluations.Business.Security.SessionManager",
      "MyEvaluations.Business.Common.UserManager"
    ],
    "migrationRelevance": "high",
    "migrationNote": "This is the central portfolio document data manager. All SP calls need to be reimplemented as NestJS repository/service methods. The NewRelic integration should be preserved via the Node.js APM setup. The GetQualityImprovementProjects SP is called with multiple overloads that should be consolidated into a single parameterized query.",
    "complexity": "very-complex",
    "lineCount": 10966
  },
  {
    "filePath": "Business.Portfolio/LookUpTables.cs",
    "fileName": "LookUpTables.cs",
    "fileType": "business",
    "className": "LookUpTables",
    "inheritsFrom": "Manager",
    "module": "Portfolio",
    "summary": "Provides static lookup data retrieval methods for the MyPortfolio module, including department lists, user info by department, user images, specialty names and lists, program lists, role/preceptor IDs, portfolio document access levels, competencies, and role IDs. All methods are static and call stored procedures directly.",
    "businessPurpose": "Supplies reference/lookup data to portfolio pages for populating dropdowns and context data: departments, specialties, programs, user roles, preceptors, and portfolio document access levels.",
    "keyMethods": [
      "GetListOfDepartments - retrieves departments accessible to a user for portfolio navigation",
      "GetUserInfoByDepartmentID - retrieves users in a department with archive and user-type filtering",
      "GetImageInfoByUserID - retrieves a user's profile image data",
      "GetSpecialtyNameBySpecialtyCode - retrieves the display name for a specialty code",
      "GetUserTitleByUserID - retrieves a user's title with archive filtering",
      "GetRolePreceptorIDs - retrieves role and preceptor IDs for a user",
      "GetPFDocumentAccessLevel - retrieves available portfolio document access level options",
      "GetCompetency - retrieves the list of portfolio competency categories",
      "GetRoleIDByUserID - retrieves a user's role ID",
      "GetSpecialtyList - retrieves all available specialties for a department",
      "GetProgramList - retrieves all available programs for a department"
    ],
    "storedProcedures": [
      "GetListOfDepartments",
      "GetUserInfoByDepartmentID",
      "GetImageInfoByUserID",
      "GetSpecialtyNameBySpecialtyCode",
      "GetUserTitleByUserID",
      "GetRolePreceptorIDs",
      "GetPFDocumentAccessLevel",
      "GetCompetency",
      "GetRoleIDByUserID",
      "GetSpecialtyList",
      "GetProgramList"
    ],
    "businessManagersUsed": [
      "MyEvaluations.Business.Security.SessionManager"
    ],
    "migrationRelevance": "high",
    "migrationNote": "These lookup queries are foundational to the portfolio UI. In the NestJS backend they should become cached reference data endpoints (departments, specialties, programs, competencies) and user-profile resolution methods.",
    "complexity": "moderate",
    "lineCount": 453
  },
  {
    "filePath": "Business.Portfolio/MainPageBusiness.cs",
    "fileName": "MainPageBusiness.cs",
    "fileType": "business",
    "className": "MainPageBusiness",
    "inheritsFrom": "Manager",
    "module": "Portfolio",
    "summary": "The central business logic class for the MyPortfolio main page, handling portfolio view initialization, department binding, user-type dropdown population, NHB (National Health Bureau) integration, archived user toggling, and dynamic training level and frequency dropdowns. At 38,000 lines it is the largest file in the Portfolio module and one of the largest in the entire codebase, covering the portfolio landing page's full business logic including document navigation, file uploads, and user context management.",
    "businessPurpose": "Orchestrates the MyPortfolio main page experience for physicians and residents: initializes department and user-type selection filters, manages archived-user display, sets up section navigation, and coordinates with DocDetailsManager and file upload services for the physician portfolio document management workflow.",
    "keyMethods": [
      "PortfolioViewIntialize - initializes the portfolio main page including department label/dropdown binding, user type population, NHB setting check, archived user checkbox, and dynamic training level/frequency dropdowns",
      "BindDepartment - populates the department dropdown for portfolio navigation based on user role and access level"
    ],
    "storedProcedures": [],
    "businessManagersUsed": [
      "MyEvaluations.Business.Portfolio.DocDetailsManager",
      "MyEvaluations.Business.Common.AssignmentInfoManager",
      "MyEvaluations.Business.Common.AssignmentUsersManager",
      "MyEvaluations.Business.Common.UserManager",
      "MyEvaluations.Business.Quiz.DesignQuizManager",
      "MyEvaluations.Business.Portfolio.FileUploadComponent.FileUploadComponentWebService",
      "MyEvaluations.Business.Procedures.AssignmentInfoManager",
      "MyEvaluations.Business.Security.SessionManager"
    ],
    "migrationRelevance": "high",
    "migrationNote": "At 38,000 lines this is the largest file in the portfolio module and a top migration priority. The WebForms page-lifecycle coupling (Page controls, FindControl, DataBind) must be fully replaced by REST API endpoints and React component state in the modern stack. The core business logic (department filtering, user type resolution, NHB integration, archived user management) must be extracted to NestJS services.",
    "complexity": "very-complex",
    "lineCount": 38000
  },
  {
    "filePath": "Business.Portfolio/MyPortfolioDegreeEntity.cs",
    "fileName": "MyPortfolioDegreeEntity.cs",
    "fileType": "business",
    "className": "MyPortfolioDegreeEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A data entity representing a physician's or trainee's educational degree record within MyPortfolio. Contains fields for degree type, medical school (with code and ID), graduation date, start/end dates, honors, comments, and geographic data (country, state, city with their IDs). Used as a typed container for degree section data in the portfolio document workflow.",
    "businessPurpose": "Carries degree and educational credential data for the MyPortfolio degree section, supporting physician credentialing by storing medical school, graduation details, honors, and geographic information.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "medium",
    "migrationNote": "This entity maps to the portfolio degree section in the MSSQL schema. It should become a MikroORM entity or embedded document in the NestJS portfolio data model.",
    "complexity": "trivial",
    "lineCount": 123
  },
  {
    "filePath": "Business.Portfolio/MyPortfolioGeneralDemogrpahicsEntity.cs",
    "fileName": "MyPortfolioGeneralDemogrpahicsEntity.cs",
    "fileType": "business",
    "className": "MyPortfolioGeneralDemogrpahicsEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A large data entity class representing a physician's or trainee's general demographics record in MyPortfolio. At 821 lines it covers personal contact info (work and home phone, cell, pager, alternate phone), email addresses (main, permanent, default), work and home addresses (with state, country, and city IDs), SSN, affiliation institution, program name, department, level, and a wide range of additional demographic identifiers. Carries the full personal profile for the general demographics section of MyPortfolio.",
    "businessPurpose": "Stores all personal and contact demographic data for a physician or trainee portfolio profile, used when displaying and updating the General Demographics section of MyPortfolio.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "This entity defines the physician general demographics schema. SSN storage should be reviewed for compliance (encryption at rest) in any modern migration. The large number of fields indicates this maps to a wide database table that may benefit from normalization in the new schema.",
    "complexity": "moderate",
    "lineCount": 821
  },
  {
    "filePath": "Business.Portfolio/MyPortfolioLicencesEntity.cs",
    "fileName": "MyPortfolioLicencesEntity.cs",
    "fileType": "business",
    "className": "MyPortfolioLicencesEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A data entity class representing a physician's licensing and credentialing data within MyPortfolio. Contains fields for two state medical license records (number, state, type, issue/expiry dates), ECFMG certification, DEA and BNDD controlled substance numbers with expiry dates, liability insurance, AOA and ACOS membership numbers, USMLE ID, NBODE ID, AAMC ID, ACGME ADS login credentials, Medicaid legacy number, PECOS enrollment, NPI number, CaseLog ACGME ID, and DATA Waiver number.",
    "businessPurpose": "Stores all physician licensing, certification, and credentialing identifiers for the MyPortfolio licenses section, supporting GME program credentialing compliance verification and physician privileging workflows.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "high",
    "migrationNote": "This entity holds sensitive credentialing data (DEA numbers, license numbers, ACGME ADS credentials). Any migration must ensure these fields are encrypted at rest in the new schema. The ACGME ADS login/password fields are a security concern and should be replaced with OAuth or token-based integration.",
    "complexity": "simple",
    "lineCount": 272
  },
  {
    "filePath": "Business.Portfolio/MyPortfolioPostGraduationEntity.cs",
    "fileName": "MyPortfolioPostGraduationEntity.cs",
    "fileType": "business",
    "className": "MyPortfolioPostGraduationEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A data entity representing a physician's post-graduation plans within MyPortfolio, covering four plan categories: education (specialty, location, dates, notes), work (specialty, location, dates, notes), military service (service type, start date, location, notes), and public service (location, start date, notes), plus an 'other' notes field. Also contains ID fields for the location hierarchy (country, state, city) for each plan type.",
    "businessPurpose": "Carries post-graduation career planning data for the MyPortfolio post-graduation section, allowing residents and fellows to document their planned next steps (education, employment, military, or public service) for program tracking.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "medium",
    "migrationNote": "This entity maps to the post-graduation section of the portfolio. The four plan type categories (education, work, military, public service) may be better modeled as a polymorphic collection in the new data model rather than as flat fields.",
    "complexity": "simple",
    "lineCount": 250
  },
  {
    "filePath": "Business.Portfolio/MyPortfolioTaxEntity.cs",
    "fileName": "MyPortfolioTaxEntity.cs",
    "fileType": "business",
    "className": "MyPortfolioTaxEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A data entity class representing a physician's or trainee's tax and payroll data within MyPortfolio, including VA billing flag, DC FICA status, federal and state tax marital status and allowances, state tax deduction, additional withholding, and bank account details (routing number, account type, account number, account format). Used for the tax/payroll section of MyPortfolio.",
    "businessPurpose": "Stores payroll tax configuration and direct deposit banking information for the MyPortfolio tax section, supporting hospital HR and payroll integration for physician/resident payment processing.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "medium",
    "migrationNote": "This entity holds sensitive financial data (bank account numbers, routing numbers, tax status). Any migration must enforce field-level encryption. In the new system this data may be better handled via integration with a dedicated payroll system rather than stored directly in the application database.",
    "complexity": "simple",
    "lineCount": 156
  },
  {
    "filePath": "Business.Portfolio/MyPortfolioUserMilitaryEntity.cs",
    "fileName": "MyPortfolioUserMilitaryEntity.cs",
    "fileType": "business",
    "className": "MyPortfolioUserMilitaryEntity",
    "inheritsFrom": null,
    "module": "Portfolio",
    "summary": "A data entity representing a physician's or trainee's military service record within MyPortfolio, including military service obligation, veteran status categories (Vietnam, campaign, disability, medal), separation date, military branch ID and name, and military rank ID and name.",
    "businessPurpose": "Carries military service and veteran status data for the MyPortfolio military section, supporting GME program demographic and compliance reporting that includes veteran status tracking.",
    "keyMethods": [],
    "storedProcedures": [],
    "businessManagersUsed": [],
    "migrationRelevance": "low",
    "migrationNote": "Simple entity. The military/veteran status data is referenced in portfolio demographic reports. Should become a related entity or embedded section on the user profile in the NestJS data model.",
    "complexity": "trivial",
    "lineCount": 114
  }
]}
  directoryOverview="Portfolio business module providing portfolio functionality for the MyEvaluations platform."
  keyWorkflows={[]}
/>
