---
title: "MyEvaluations.Business.Procedures"
description: "Auto-generated documentation for the MyEvaluations.Business.Procedures module"
sidebar_label: "Procedures"
tags: [dotnet, business-layer]
---

{/* Auto-generated by ai-enrich-dotnet.ts on 2026-02-20T12:00:00.000Z */}

## Overview

The **MyEvaluations.Business.Procedures** module manages clinical procedures tracking and competency assessment for medical trainees. It contains **56 classes** covering procedure submission, supervision requirements, diagnoses management, custom field configuration, error tracking, patient management, import/export operations, and DNP (Doctor of Nursing Practice) student activity logging.

This module is critical for tracking trainee clinical competency -- it records what procedures residents perform, under what level of supervision, with what diagnoses, and whether complications or errors occurred. It supports both GME (Graduate Medical Education) and nursing education programs through the shared procedure infrastructure and the specialized DNP logging subsystem.

## Key Classes

### Procedure Submission & Management
- **`ProcedureInfo`** -- Core DTO for procedure definitions (what procedures can be logged). Located in `ProcedureInfo.cs`.
- **`SubmittedProcedureInfo`** -- Submitted procedure record with custom field details. Contains nested `CustomFieldDetails` class. Located in `SubmittedProcedureInfo.cs`.
- **`ProcedureSearchCriteria`** -- Search/filter parameters for procedure queries.
- **`SubmitedProcedureSearchCriteria`** -- Search criteria for submitted procedure records (note: typo "Submited").
- **`SubmitProcedureCustomization`** -- Configuration for procedure submission form customization.
- **`ProceduresTemplateBusiness`** -- Procedure template management logic.

### Procedure Categories
- **`ProcedureCategoryModel`** -- Manages procedure categorization with 7 stored procedures for CRUD, exclusion flags, default marking, and soft-delete/restore. Located in `ProcedureCategoryModel.cs`.

### Supervision & Competency
- **`SupervisionRequirementsManager`** (extends `Manager`) -- The most complex class in this module with **25 stored procedures** managing supervision levels, participation types, and report language configuration. Supports ACGME supervision requirements. Located in `SupervisionRequirementsManager.cs`.
- **`AddLevelOfSupervisionOperation`**, **`EditLevelOfSupervisionOperation`** (extend `ResultlessOperation`) -- Command pattern implementations for supervision level changes.
- **`AddLevelOfSupervisionOperationImpl`**, **`EditLevelOfSupervisionOperationImpl`** -- Concrete implementations executing stored procedures.
- **`SupervisorInfo`** / **`SupervisorsManager`** (extends `Manager`) -- Manages supervisor assignments with 11 stored procedures for supervisor CRUD and department-level queries.

### Diagnoses Management
- **`DiagnosesManager`** (extends `Manager`) -- Manages diagnosis codes and categories with 9 stored procedures including category/subcategory hierarchies. Located in `DiagnosesManager.cs`.
- **`DiagnosesTabManager`** (extends `Manager`) -- Custom diagnosis tab configuration with 12 stored procedures for both procedure and patient log diagnosis tabs.
- **`DiagnosesInfo`**, **`DiagnosesSearchCriteria`** -- Diagnosis data and search DTOs.
- **`CustomDiagnosesTab`**, **`CustomDiagnosesTabInfo`** -- Custom diagnosis tab configuration DTOs.

### Error & Complication Tracking
- **`ErrorManager`** (extends `Manager`) -- Manages procedure error types with 11 stored procedures for CRUD and category-based queries.
- **`ErrorCategoryManager`** (extends `Manager`) -- Error category taxonomy management with 6 stored procedures.
- **`ErrorsSubmittedManager`** (extends `Manager`) -- Records errors submitted against procedures.
- **`ComplicationTypeManager`** (extends `Manager`) -- Manages complication type lookup data.
- **`ConsentTypeManager`** (extends `Manager`) -- Manages patient consent type classifications.

### Custom Fields
- **`FieldsManager`** (extends `Manager`) -- Manages custom procedure form fields with **15 stored procedures** for field CRUD, ordering, visibility, required flags, and lock states. Located in `FieldsManager.cs`.
- **`FieldGroupsManager`** (extends `Manager`) -- Field group management (hide/show, required, ordering).
- **`FieldsInfo`**, **`FieldGroupsInfo`** -- Custom field configuration DTOs.
- **`LookUpItemManager`** (extends `Manager`) -- Manages dropdown/lookup field options with 7 stored procedures.

### Patient Management
- **`PatientManager`** (extends `Manager`) -- Manages patient records associated with procedures with 12 stored procedures covering both procedure and patient log patients.

### Import/Export
- **`ImportProceduresManager`** (extends `Manager`) -- Procedure data import and certification status management with 6 stored procedures.
- **`ExportProceduresManager`** (extends `Manager`) -- Procedure data export (detail and summary) with 2 stored procedures.

### DNP Student Logging
- **`DNPLogManager`** (extends `Manager`) -- Doctor of Nursing Practice activity logging with **21 stored procedures** covering student details, essential activities, course management, instructor lookup, admin accounts, and report generation. Located in `DNPLogManager.cs`.
- **`DNPInfoBusiness`** -- DNP-specific business logic DTO.
- **`EssentialActivity`** -- DNP essential activity tracking model.

### Account Registration (OTSG)
- **`AccountRegistrationManager`** -- Handles OTSG (Office of The Surgeon General) procedure account registration with 11 stored procedures for user type lookups, application management, email templates, and EDIPI-based user lookup.

### Operation Pattern
- **`OperationBase`** -- Base class for the command/operation pattern used in this module.
- **`ResultlessOperation`** (extends `OperationBase`) -- Operations that do not return a result.
- **`ResultfulOperation`** (abstract, extends `OperationBase`) -- Operations that return a result.

### Reporting
- **`ReportsProceduresInfo`** -- DTO for procedure reporting data.

## Patterns

1. **Manager/Info Pattern** -- 13 Info counterparts for 17 manager classes (e.g., `ErrorManager`/`ErrorInfo`, `PatientManager`/`PatientInfo`).
2. **Command/Operation Pattern** -- `OperationBase` > `ResultlessOperation`/`ResultfulOperation` hierarchy for encapsulating business operations (used in supervision level management).
3. **Stored Procedure Delegation** -- 17 manager classes collectively invoke **~130+ stored procedures**, making this the most stored-procedure-heavy module.
4. **Search Criteria Pattern** -- `ProcedureSearchCriteria`, `SubmitedProcedureSearchCriteria`, `DiagnosesSearchCriteria` encapsulate query parameters.
5. **Soft Delete/Restore** -- Multiple managers support soft-delete with restore (categories, fields, diagnosis tabs, participation types).
6. **Custom Field System** -- Dynamic form field configuration with visibility, required flags, ordering, grouping, and lock states.

## Notes

- This module has the highest stored procedure density of any business module (~130+ calls across 17 managers).
- `SupervisionRequirementsManager` alone has 25 stored procedure calls -- a strong candidate for decomposition during migration.
- `DNPLogManager` with 21 stored procedures represents the nursing education subsystem and may warrant its own NestJS module.
- `LookUpItemManager` and `LookUpItemManger` both exist -- the latter is a duplicate class with a typo (missing 'a' in Manager).
- The `OperationBase`/`ResultlessOperation`/`ResultfulOperation` pattern is unique to this module and represents an attempt at CQRS-lite that should inform NestJS service design.
- `SubmitedProcedureSearchCriteria` has a typo ("Submited" instead of "Submitted").
- `AccountRegistrationManager` references EDIPI (Electronic Data Interchange Personal Identifier), indicating military/DoD integration for OTSG accounts.
- The custom field system (FieldsManager, FieldGroupsManager, LookUpItemManager) is a mini-framework that likely needs to be preserved as-is during migration.
- `PatientManager` serves both procedures and patient log modules (shared patient registry).

---
*This documentation was auto-generated from source code analysis. Last updated: 2026-02-20T12:00:00.000Z*
