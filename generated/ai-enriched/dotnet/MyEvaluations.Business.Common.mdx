---
title: "MyEvaluations.Business.Common"
description: "Auto-generated documentation for the MyEvaluations.Business.Common module"
sidebar_label: "Common"
tags: [dotnet, business-layer]
---

{/* Auto-generated by ai-enrich-dotnet.ts on 2026-02-20T12:00:00.000Z */}

## Overview

The **MyEvaluations.Business.Common** module is the foundational shared library for the entire MyEvaluations .NET backend. It contains **103 classes** that provide base classes, abstract types, dashboard data transfer objects (DTOs), event management, caching, constants, file path utilities, email validation, logging, and custom exception handling. Nearly every other business module depends on this assembly.

This module defines the core **Manager/Info pattern** used across the platform: `Manager` is the abstract base class for all business logic managers, and `BusinessObject` is the abstract base for domain entities. The `EventManager`/`EventInfo` pairing exemplifies the standard Manager-Info counterpart pattern.

## Key Classes

### Base Classes
- **`Manager`** (abstract) -- Base class for all business managers across the platform. Provides shared database access patterns and stored procedure invocation infrastructure. Located in `Manager.cs`.
- **`BusinessObject`** (abstract) -- Base class for domain entities. Located in `BusinessObject.cs`.
- **`ListItem`** -- Generic key-value DTO used for dropdown lists and lookups.

### Dashboard DTOs (~70+ classes)
The largest portion of this module consists of dashboard-related data transfer objects defined in `DashBoard.cs`. These classes power the resident/trainee performance dashboards:

- **`DashBoard`**, **`ToDos`**, **`DashBoardSystemImplementation`** -- Core dashboard container models
- **`AverageScore`**, **`AverageScoreHistogram`**, **`AverageScoreOverTime`** -- Evaluation scoring analytics
- **`PerformanceTaskCompletionModel`**, **`PerformanceTaskCompletionRate`** -- Task completion tracking
- **`PerformanceEvalutionModel`**, **`PerformanceEvalutaionaverageDaysToComplete`** -- Evaluation turnaround metrics
- **`SubmissionRate`**, **`SubmissionRateByType`**, **`SubmissionsOverTime`** -- Submission analytics
- **`ViolationRateOverTime`** -- Duty hour violation tracking
- **`Competencies`**, **`CoreCompetencies`**, **`Subcompetencies`** -- ACGME/competency framework models
- **`EPADashboard`**, **`EPAGroup`**, **`EPAScore`**, **`EPAS`** -- Entrustable Professional Activity tracking
- **`PatientLogData`**, **`PatientLogDataSubmissionRate`** -- Patient log dashboard summaries
- **`ProceduresData`**, **`ProcedureObjectiveData`**, **`AcceptanceRateData`** -- Procedure dashboard views
- **`QualityImprovementResponseModel`**, **`PublicationsResearchResponseModel`** -- Scholarly activity tracking
- **`ClinicalHourResponseModel`** -- Clinical hours tracking
- **`PerformanceImprovementPlans`** -- PIP tracking model

### Event Management
- **`EventManager`** (extends `Manager`) -- Logs system events and event details via `LogEvent` and `LogEventDetail` stored procedures.
- **`EventInfo`**, **`EventData`**, **`BusinessEventArgs`** -- Event data carriers for the platform's audit/event logging system.

### Caching
- **`CacheManager`** (extends `Manager`) -- Centralized caching logic for frequently accessed data.

### Email & Validation
- **`EmailValidation`** -- Validates email delivery status using `CheckEmailStatus` and `CheckEventEmailStatus` stored procedures.

### Utilities & Constants
- **`Constants`** -- Platform-wide constant values (roles, statuses, configuration keys).
- **`FilePaths`** -- Enumeration of file storage paths with a custom `StringValue` attribute for enum-to-string mapping.
- **`CalculateDateDifference`** -- Date arithmetic utility for compliance windows and deadline calculations.

### Logging & Error Handling
- **`AuthenticationFailureAuditEvent`** (extends `WebAuthenticationFailureAuditEvent`) -- ASP.NET health monitoring for failed login attempts.
- **`ApplicationCustomErrorEvent`** (extends `WebErrorEvent`) -- Custom error event for ASP.NET health monitoring.
- **`UserFriendlyException`** (extends `Exception`) -- Custom exception type for user-facing error messages.

## Patterns

1. **Manager/Info Pattern** -- The `Manager` abstract base class provides data access; paired `Info` classes serve as DTOs. `EventManager` pairs with `EventInfo`.
2. **Dashboard DTO Hierarchy** -- Deeply nested response models mirror the dashboard UI structure (modules > sub-modules > items > scores > time series).
3. **Stored Procedure Delegation** -- All database operations route through SQL Server stored procedures (e.g., `LogEvent`, `CheckEmailStatus`).
4. **ASP.NET Health Monitoring** -- Leverages the built-in WebForms health monitoring infrastructure for audit events and error logging.
5. **Attribute-Based Enum Mapping** -- `StringValue` attribute enables string-based lookups for file path enumerations.

## Notes

- This module has **4 stored procedure calls** across 2 classes (`EventManager`: `LogEvent`, `LogEventDetail`; `EmailValidation`: `CheckEmailStatus`, `CheckEventEmailStatus`).
- The large number of dashboard DTOs (~70 classes in a single `DashBoard.cs` file) suggests this file has grown organically over time. During migration to NestJS, these should be decomposed into separate domain-specific response DTOs.
- The `Manager` and `BusinessObject` base classes are central to the Strangler Fig migration: understanding their API surface is critical for designing equivalent NestJS service abstractions.
- `UserFriendlyException` has no namespace, which is an anomaly -- it may cause conflicts in the modern codebase.
- The EPA (Entrustable Professional Activities) dashboard models indicate ACGME compliance features that must be preserved during migration.

---
*This documentation was auto-generated from source code analysis. Last updated: 2026-02-20T12:00:00.000Z*
